!function(t){"use strict";t.EDZ={Service:{},Application:{Web:{},Wap:{}},CONST:{},Plugin:{},Template:{},Validate:{},Common:{},RESOURCE_HOST:"http://stage.resources.edianzu.cn"}}(window),function(t,e,i,a){"use strict";var n=function(e){var i={versions:function(){var t=navigator.userAgent;navigator.appVersion;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&t.indexOf("KHTML")==-1,mobile:!!t.match(/AppleWebKit.*Mobile.*/)||!!t.match(/AppleWebKit/)&&t.indexOf("QIHU")&&t.indexOf("QIHU")>-1&&t.indexOf("Chrome")<0,ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:t.indexOf("Safari")==-1,ua:t}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase(),getQueryString:function(e){var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=t.location.search.substr(1).match(i);return null!==a?decodeURI(a[2]):null},isEmailUnsubscribe:location.href.indexOf("emailUnsubscribe")>=0};if(i.versions.mobile&&!i.versions.iPad&&!i.isEmailUnsubscribe)if("ProductList"==e){var a=location.href.replace("https://www.edianzu.com/category","https://m.edianzu.com/wap/category").replace("https://eqigou.edianzu.com/category","https://m-eqigou.edianzu.com/category").replace("https://stage-www.edianzu.com/category","https://stage-m.edianzu.com/wap/category").replace("https://stage-eqigou.edianzu.com/category","https://stage-m-eqigou.edianzu.com/category").replace("https://beta-www.edianzu.com/category","https://beta-m.edianzu.com/wap/category").replace("https://beta-eqigou.edianzu.com/category","https://beta-m-eqigou.edianzu.cn/category").replace("https://pre.www.edianzu.com/category","https://m.edianzu.com/wap/category");location.href=a}else location.href.indexOf("eqigou")===-1?location.href="https://m.edianzu.com/"+location.search:location.href="https://m-eqigou.edianzu.com/"+location.search};i(function(){var t=i(document.body).attr("page"),a=i(document.body).attr("isWap");n(t),a?(new e.Application.Wap[t]).init():(e.Application.Web[t]&&(new e.Application.Web[t]).init(),(new e.Application.Web.Header).init(),(new e.Plugin.RightTool).init(),i(".center-main .content").length&&new e.Plugin.UC_Navigate(i(".center-main .content"),t).init(),"wap_redirect"==i.cookie("from_ad_source")&&i.cookie("from_ad_source",""),i("#moquu_top").click(function(){i(document.body).animate({scrollTop:0},100)}),i("#moquu_top").click())}),t.onerror=function(e,i,a,n,o){if("Script error."!=e||i){var r={url:i,line:a,column:n,ua:t.navigator.userAgent,message:e,errorObj:JSON.stringify(o),page:t.location.href,t:moment(new Date).format("YYYY-MM-DD HH:mm:ss")},s=[];for(var l in r)s.push(l+"="+r[l]);s=s.join("&"),(new Image).src="https://resources.edianzu.com/mall_js_error.log?"+encodeURIComponent(s)}}}(window,window.EDZ,window.jQuery,window._),function(t,e){"use strict";if(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},e){var i=function(t){return Object.prototype.toString.call(t)};e.Common={isString:function(t){return"[object String]"===i(t)},isNumber:function(t){return"[object Number]"===i(t)},isUndefined:function(t){return"[object Undefined]"===i(t)},isBoolean:function(t){return"[object Boolean]"===i(t)},isObject:function(t){return"[object Object]"===i(t)},isArray:function(t){return"[object Array]"===i(t)},isFunction:function(t){return"[object Function]"===i(t)},hasLocalStorage:function(){return!!t.localStorage.getItem},isLessIE9:function(){var e=t.navigator.userAgent.toLowerCase(),i=10,a=e.indexOf("msie")>=0;if(a){var n=e.match(/msie ([\d.]+)/)[1];i=parseInt(n,10)}return a&&i<10},isInNationalDay:function(t){var e=!1,i=(new Date).getFullYear();switch(t){case i+"-10-01":case i+"-10-02":case i+"-10-03":case i+"-10-04":case i+"-10-05":case i+"-10-06":e=!0}return e},isMobile:function(){var e=t.navigator.userAgent;return!!e.match(/AppleWebKit.*Mobile.*/)||!!e.match(/AppleWebKit/)&&e.indexOf("QIHU")&&e.indexOf("QIHU")>-1&&e.indexOf("Chrome")<0},hasFlashPlayer:function(){if(document.all)try{return!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){return!1}else if(navigator.plugins&&navigator.plugins.length>0)return!!navigator.plugins["Shockwave Flash"];return!1},cache:{set:function(e,i){t.localStorage.setItem(e,JSON.stringify(i))},get:function(e){return JSON.parse(t.localStorage.getItem(e))},remove:function(e){t.localStorage.removeItem(e)}},showFromError:function(t,e){$(t).attr("invalid",!0).addClass("error"),$("#"+$(t).attr("errorTarget")).removeClass("hide").html('<i class="icon-prefect-error"></i>'+e).addClass("show animated fadeIn"),setTimeout(function(){$("#"+$(t).attr("errorTarget")).removeClass("animated fadeIn")},1500)},flushCaptcha:function(t){t.attr("src",e.CONST.API.COMMON.CAPTCHA+"&t="+new Date)},rebuildGridHeight:function(){e.Common.isLessIE9()&&$(".content-table").each(function(){var t=$(this).height();$(this).find("div").css({"*height":t+"px","_*height":t+"px"})})},getPageCount:function(t,e){return t%e>0?parseInt(t/e,10)+1:parseInt(t/e,10)},getQueryString:function(e){var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=t.location.search.substr(1).match(i);return null!==a?decodeURIComponent(a[2]):null},getUrlQueryString:function(t,e){var i=t.split("?");if(i.length<2)return null;var a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=i[1].match(a);return null!==n?decodeURIComponent(n[2]):null},doFormSubmit:function(t,e,i){var a=$("<form></form>");a.attr("action",t),a.attr("method","post"),1==i&&a.attr("target","_blank"),$.each(e,function(t,e){var i=$('<input type="text" name="'+t+'" />');i.attr("value",e),a.append(i)}),a.appendTo("body"),a.css("display","none"),a.submit()},calculateCharacterNum:function(t,e){t=$.trim(t);var i=0,a=t.length;if(t.length>0){for(var n=0;n<a;n++)t.charCodeAt(n)>255?i+=2:i++;return e||(i/=2),i}return 0},captchaId:"7289b483baa74bd1bb399cd72c9b4e51",isWindowsXP:function(){var e=t.navigator.userAgent,i=t.navigator.platform;return("Win32"==i||"Windows"==i)&&(e.indexOf("Windows NT 5.1")>-1||e.indexOf("Windows XP")>-1)}}}}(window,window.EDZ),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.isMobile=e.Common.isMobile(),this.unsubscribeForm=i("#unsubscribeForm"),this.modal=e.Plugin.Modal,this.emailUnsubscribeService=new e.Service.EmailService,this.unsubscribeValidate=new e.Plugin.Validate(this.unsubscribeForm,(!1))};a.prototype.init=function(){var t=this;t.isMobile&&i(".email-unsubscribe").addClass("wap-email-unsubscribe"),e.Common.flushCaptcha(i("#codeImage")),i(document).on("click","#codeImage",function(){e.Common.flushCaptcha(i(this))}),this.regSubmitEvent()},a.prototype.regSubmitEvent=function(){function t(){var t=i("#submit");if(!t.attr("submitting"))if(t.attr("submitting",1),a.unsubscribeValidate.doValid(),0===a.unsubscribeForm.find("[invalid]").length){var n={companyName:i.trim(i("#name").val()),emailAddress:i.trim(i("#email").val()),imageCode:i.trim(i("#imgCode").val())};a.emailUnsubscribeService.unsubscribe(n).then(function(n){t.removeAttr("submitting"),0===n.code&&new a.modal("退订成功","退订后该邮箱后缀的邮箱账号不会在接收到此邮件。").alert(),e.Common.flushCaptcha(i("#codeImage"))})}else t.removeAttr("submitting")}var a=this;i("#submit").on("click",t),i("#email, #imgCode").on("keyup",function(e){13==e.keyCode&&t()})},e.Application.Web.EmailUnsubscribe=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.isWap=i(document.body).attr("isWap"),this.accountForm=i("#accountLoginForm"),this.phoneForm=i("#phoneLoginForm"),this.modal=e.Plugin.Modal,this.accountValidate=new e.Plugin.Validate(this.accountForm,this.isWap),this.phoneValidate=new e.Plugin.Validate(this.phoneForm,this.isWap),this.customer=new e.Service.Customer,this.cartServie=new e.Service.ShoppingCart,this.captchaId=e.Common.captchaId,this.alert=function(t,i){new e.Plugin.Modal("提示信息",t).alert(i)}};a.prototype.init=function(){var t=this;t.type=1,t.isAccountDisabled=!1,t.isPhoneDisabled=!1,t.accountCaptchaIns="",t.phoneCaptchaIns="",t.accountCaptchaData="",t.phoneCaptchaData="",i(document).on("blur","input",function(){i(".login-error").addClass("hide")}).on("blur","#phone",function(){var e=i.trim(i(this).val());t.getAuthType(e)}),this.regChangeTypeEvent(),this.enableSubmitSmsBtn(),this.regSmsCodeBtnEvent(),this.regSubmitEvent(),this.regPhoneCaptchaInitEvent()},a.prototype.regChangeTypeEvent=function(){var t=this;i(".login-tab").on("click","span",function(){var a=i(this);switch(i(this).addClass("cur").siblings().removeClass("cur"),i(".login-error").addClass("hide"),i(".login-list").find("input").removeAttr("invalid").removeClass("error"),a.index()){case 1:a.parent().siblings(".account-login").show().siblings(".phone-login").hide(),e.Common.isLessIE9()&&(t.initPlaceholder(i("#phone"),i("#accounterrortip")),t.initPsdPlaceholder(),i("#password").val()?i("#password").siblings("label").hide():i("#password").siblings("label").show()),t.type=0,t.regAccountCaptchaInitEvent();break;case 0:a.parent().siblings(".account-login").hide().siblings(".phone-login").show(),t.type=1,t.regPhoneCaptchaInitEvent(),e.Common.isLessIE9()&&(t.initPlaceholder(i("#phoneIpt"),i("#phoneError")),t.initPlaceholder(i("#smsCode"),i("#smsCodeError")))}})},a.prototype.initPsdPlaceholder=function(){var t=function(t){var e=t.closest("li"),i=t.attr("placeholder"),a='<label class="label">'+i+"</label>";e.prepend(a),t.on("focus",function(){e.find("label").hide()}).on("blur",function(){t.val()||e.find("label").show()})};t(i("#password"))},a.prototype.initPlaceholder=function(t,e){var a=i.trim(t.val());a||(t.focus().blur(),setTimeout(function(){e.addClass("hide"),t.removeClass("error")},0))},a.prototype.getAuthType=function(t,e){var i=this;t&&(this.accountForm.attr("waitingCount",1),this.customer.getAuthType(t).then(function(t){i.accountForm.attr("waitingCount",0),t.code?(i.isAccountDisabled=!0,i.setAuthType(0)):(i.isAccountDisabled=!1,i.setAuthType(t.data))}))},a.prototype.setAuthType=function(t){1==t?(i("#codeImage").hide(),i("#imgCode").attr({error:"动态验证码不正确",emptyError:"请输入动态验证码"})):(i("#codeImage").show(),i("#imgCode").attr({error:"图形验证码不正确",emptyError:"请输入图形验证码"}))},a.prototype.checkReturn=function(){var t=i.Deferred();if("item"==i("input[name='target']").val()){var e=i.cookie("cartParam");e&&"ADDTOCART"!=e?this.cartServie.add(JSON.parse(e),1,!0).then(function(e){e.code||i.cookie("cartParam","ADDTOCART",{path:"/"}),t.resolve(null)}):t.resolve(null)}else t.resolve(null);return t.promise()},a.prototype.toAfterLogin=function(t){var e=this,a=t.data?t.data:{};return a.isActivate?void(1==a.bindRequest?i("input[name='returnUrl']").length&&""!=i("input[name='returnUrl']").val()?e.checkReturn().then(function(){location.href=ROOT_PATH+"/toReleteApplication?returnUrl="+encodeURIComponent(i("input[name='returnUrl']").val())}):location.href=ROOT_PATH+"/toReleteApplication":i("input[name='returnUrl']").length&&""!=i("input[name='returnUrl']").val()?e.checkReturn().then(function(){location.href=i("input[name='returnUrl']").val()}):location.href=ROOT_PATH+"/"):void(location.href=ROOT_PATH+"/toActivateUser")},a.prototype.regAccountCaptchaInitEvent=function(){var t=this;initNECaptcha({captchaId:t.captchaId,element:"#accountCaptcha",onVerify:function(e,i){t.accountCaptchaData=i,t.doLogin()}},function(e){t.accountCaptchaIns=e},function(t){})},a.prototype.refreshCaptcha=function(){this.accountCaptchaData="",this.phoneCaptchaData="",this.accountCaptchaIns&&this.accountCaptchaIns.refresh(),this.phoneCaptchaIns&&this.phoneCaptchaIns.refresh()},a.prototype.doAccountLogin=function(t){var e=this,a={phone:i.trim(i("#phone").val()),password:i.trim(i("#password").val()),autoLogin:i("#autoLogin").is(":checked"),validate:e.accountCaptchaData.validate};e.customer.doLogin(a).then(function(i){0===i.code?e.toAfterLogin(i):(t.removeAttr("submitting"),e.refreshCaptcha())})},a.prototype.doAccountSubmit=function(t){var e=this;return this.isAccountDisabled?(new e.modal("提示信息","账号冻结，请联系您的专属客户经理").alert(),void t.removeAttr("submitting")):(e.accountForm.attr("waitingCount",0),void(0===e.accountForm.find("[invalid]").length?e.accountCaptchaData&&e.accountCaptchaData.validate?(i("#codeerrortip").addClass("hide"),e.doAccountLogin(t)):(t.removeAttr("submitting"),i("#codeerrortip").removeClass("hide")):t.removeAttr("submitting")))},a.prototype.enableSubmitSmsBtn=function(){var t=this;i("#phoneIpt").on("blur",function(){t.isPhoneDisabled=!0,i("#phoneIpt").attr("invalid")?(t.changeSmsBtnStatus(!1),t.isPhoneDisabled=!1):t.checkPhone()})},a.prototype.checkPhone=function(){var t=this;t.phoneForm.attr("waitingCount",1),t.customer.checkPhoneIsUseable(i.trim(i("#phoneIpt").val())).then(function(a){t.phoneForm.attr("waitingCount",0),a.code?(t.isPhoneDisabled=!0,t.changeSmsBtnStatus(!1),e.Common.showFromError(i("#phoneIpt"),a.message)):(t.isPhoneDisabled=!a.data,t.changeSmsBtnStatus(a.data),a.data||e.Common.showFromError(i("#phoneIpt"),"账号冻结，请联系您的专属客户经理"))})},a.prototype.changeSmsBtnStatus=function(t){var e=i("#smsCodeBtn");e.attr("isWaiting")||(t?e.removeAttr("disabled").addClass("sure-num-click"):e.attr("disabled","disabled").removeClass("sure-num-click"))},a.prototype.regPhoneCaptchaInitEvent=function(){var t=this;initNECaptcha({captchaId:t.captchaId,element:"#phoneCaptcha",onVerify:function(e,i){t.phoneCaptchaData=i,t.doSendSms()}},function(e){t.phoneCaptchaIns=e},function(t){})},a.prototype.doSendSms=function(){var t=this,e=i("#smsCodeBtn");if(!e.attr("isWaiting")&&!e.attr("disabled"))if(t.phoneCaptchaData&&t.phoneCaptchaData.validate){i("#codeerrortip").addClass("hide");var a=i("#phoneIpt").val(),n=t.phoneCaptchaData.validate;e.attr("isWaiting",!0),t.customer.sendSmsByPhone(a,n).then(function(i){if(i.code)e.removeAttr("isWaiting"),t.refreshCaptcha();else{new t.modal("提示信息","短信验证码发送成功").alert();var a=60,n=setInterval(function(){e.text(a+"秒后重新发送").removeClass("sure-num-click").attr("disabled","disabled"),a--,0===a&&(e.text("获取验证码").addClass("sure-num-click").removeAttr("isWaiting").removeAttr("disabled"),clearInterval(n),t.refreshCaptcha())},1e3)}})}else i("#codeerrortip").removeClass("hide")},a.prototype.regSmsCodeBtnEvent=function(){var t=this;i("#smsCodeBtn").on("click",function(){t.doSendSms()})},a.prototype.doPhoneSubmit=function(t){var a=this;if(this.isPhoneDisabled)return e.Common.showFromError(i("#phoneIpt"),"账号冻结，请联系您的专属客户经理"),void t.removeAttr("submitting");if(a.phoneForm.attr("waitingCount",0),0===a.phoneForm.find("[invalid]").length){var n={phone:i.trim(i("#phoneIpt").val()),smsCode:i.trim(i("#smsCode").val()),from_ad_source:i.cookie("from_ad_source"),autoLogin:i("#autoLogin").is(":checked")};a.customer.loginByPhone(n).then(function(e){e.code?(t.removeAttr("submitting"),a.refreshCaptcha()):a.toAfterLogin(e)})}else t.removeAttr("submitting")},a.prototype.doLogin=function(){var t=this,e=i("#submitBtn");if(!e.attr("submitting"))if(e.attr("submitting",1),0==t.type)if(t.accountValidate.doValid(),t.accountForm.attr("waitingCount")>0){new t.modal("信息提示","正在校验数据，请稍后再试");var a=setInterval(function(){"0"===t.accountForm.attr("waitingCount")&&(clearInterval(a),t.doAccountSubmit(e))},100)}else t.doAccountSubmit(e);else if(t.phoneValidate.doValid(),t.phoneForm.attr("waitingCount")>0){new t.modal("信息提示","正在校验数据，请稍后再试");var a=setInterval(function(){"0"===t.phoneForm.attr("waitingCount")&&(clearInterval(a),t.doPhoneSubmit(e))},100)}else t.doPhoneSubmit(e)},a.prototype.regSubmitEvent=function(){var t=this;i("#submitBtn").on("click",function(){t.doLogin()}),i("#password, #smsCode").on("keyup",function(e){13==e.keyCode&&t.doLogin()})},e.Application.Web.Login=a,e.Application.Wap.Login=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.isWap=e(document.body).attr("isWap"),this.form=e("#regform"),this.modal=i.Plugin.Modal,this.validate=new i.Plugin.Validate(this.form,this.isWap),this.customer=new i.Service.Customer};a.prototype.init=function(){this.regSubmitEvent(),this.regSyncCheckPhoneUsed(),this.regSmsCodeBtnEvent(),this.regVoiceSmsCodeBtnEvent(),this.regSyncCheckAccountUsed(),this.regBindPhoneHelpIconHoverEvent(),this.regCaptchaInitEvent(),this.captchaIns="",this.captchaData="",this.isClickVoiceCode=!1},a.prototype.regBindPhoneHelpIconHoverEvent=function(){e(".icon-active-bind-phone").attr("content","如果忘记登录密码，可以通过该账号绑定的手机号发送短信，设置新密码。"),new i.Plugin.RightTooltip(e(".icon-active-bind-phone")).init()},a.prototype.regCaptchaInitEvent=function(){var t=this;initNECaptcha({captchaId:i.Common.captchaId,element:"#captcha",onVerify:function(e,i){t.captchaData=i,t.isClickVoiceCode?t.doSendVoiceSmsCode():t.doSendSmsCode()}},function(e){t.captchaIns=e},function(t){})},a.prototype.refreshCaptcha=function(){this.captchaIns&&this.captchaIns.refresh(),this.captchaData=""},a.prototype.enableSubmitSmsBtn=function(){var t=this.form.find("#smsCodeBtn"),e=this.form.find("#voiceSmsCodeBtn");t.attr("isWaiting")||(!this.form.find("#phone").attr("invalid")&&!this.form.find("#account").attr("invalid")&&this.form.find("#phone").val().trim().length>0?(t.removeAttr("disabled").addClass("sure-num-click"),e.removeAttr("disabled").addClass("sure-num-click")):(t.attr("disabled","disabled").removeClass("sure-num-click"),e.removeAttr("disabled").removeClass("sure-num-click")))},a.prototype.doSendSmsCode=function(){var t=this,i=e("#smsCodeBtn");if(!i.attr("isWaiting")&&!i.attr("disabled")){if(!t.captchaData||!t.captchaData.validate)return void e(".imgCode-error").html('<i class="icon-prefect-error"></i>请进行滑块验证');e(".imgCode-error").html("");var a=1;i.attr("channelId")&&(a=i.attr("channelId")),i.attr("isWaiting",!0),t.customer.sendSmsCode({phone:e("#phone").val(),validate:t.captchaData.validate,channelId:a},!0).then(function(e){if(e.code)t.refreshCaptcha(),i.removeAttr("isWaiting");else{new t.modal("信息提示","短信验证码发送成功").alert();var a=t.form.find("#voiceSmsCodeBtn");a.addClass("hide"),i.attr("isWaiting",!0);var n=60,o=setInterval(function(){i.removeClass("sure-num-click"),i.text(n+"秒后重新发送"),n--,0===n&&(i.removeAttr("isWaiting").attr("channelId",2).text("重发短信验证码"),i.addClass("sure-num-click"),a.removeClass("hide"),a.addClass("sure-num-click"),clearInterval(o),t.refreshCaptcha())},1e3)}})}},a.prototype.regSmsCodeBtnEvent=function(){var t=this;this.form.find("#smsCodeBtn").click(function(){t.isClickVoiceCode=!1,t.doSendSmsCode()})},a.prototype.doSendVoiceSmsCode=function(){var t=this,i=e("#voiceSmsCodeBtn");if(!i.attr("isWaiting")&&!i.attr("disabled")){if(!t.captchaData||!t.captchaData.validate)return void e(".imgCode-error").html('<i class="icon-prefect-error"></i>请进行滑块验证');e(".imgCode-error").html(""),i.attr("isWaiting",!0),t.customer.sendSmsCode({phone:e("#phone").val(),validate:t.captchaData.validate,channelId:3,isReg:!0}).then(function(e){if(i.removeAttr("isWaiting"),e.code)t.refreshCaptcha();else{new t.modal("信息提示","语音验证码发送成功").alert(),i.addClass("hide");var a=t.form.find("#smsCodeBtn");a.attr("isWaiting",!0);var n=60,o=setInterval(function(){a.removeClass("sure-num-click"),a.text(n+"秒后重新发送"),n--,0===n&&(a.attr("channelId",2).removeAttr("isWaiting").text("重发短信验证码"),i.removeClass("hide"),a.addClass("sure-num-click"),clearInterval(o),t.refreshCaptcha())},1e3)}})}},a.prototype.regVoiceSmsCodeBtnEvent=function(){var t=this;this.form.find("#voiceSmsCodeBtn").on("click",".code",function(){t.isClickVoiceCode=!0,t.doSendVoiceSmsCode()})},a.prototype.regSyncCheckPhoneUsed=function(){var t=this;this.form.find("#phone").blur(function(){var a=this;e(this).attr("invalid")||t.customer.checkPhoneIsRegister({phone:e(this).val().trim()}).then(function(e){e.code&&i.Common.showFromError(a,"该手机号已被注册"),t.enableSubmitSmsBtn()})})},a.prototype.regSyncCheckAccountUsed=function(){var t=this;this.form.find("#account").blur(function(){var a=this;e(this).attr("invalid")||t.customer.checkAccountIsRegisted({account:e(this).val().trim()}).then(function(e){e.code&&i.Common.showFromError(a,"该用户名已被注册"),t.enableSubmitSmsBtn()})})},a.prototype.regSyncCheckSmsCode=function(){var t=this;this.form.find("#smsCode").blur(function(){var a=this;!e(this).attr("invalid")&&!e("#phone").attr("invalid")&&e("#phone").val().trim().length>0&&(t.form.attr("waitingCount",1),t.customer.checkSmsCode({phone:e("#phone").val().trim(),phoneCode:e(this).val().trim()}).then(function(e){t.form.attr("waitingCount","0"),e.code&&i.Common.showFromError(a,"短信验证码不正确")}))})},a.prototype.regSubmitEvent=function(){var t=this;t.form.attr("waitingCount",0);var i=function(e){var i="";switch(e.code){case 1:i="服务异常，请重试";break;case 1001:i="图形验证码不正确";break;case 1002:i="短信验证码不正确";break;case 1003:i="手机号码已被注册";break;default:i=e.message||"未知错误"+e.code}new t.modal("提示信息",i).alert()},a=function(a){var n={account:e("#account").val().trim(),phone:e("#phone").val().trim(),smsCode:e("#smsCode").val().trim(),password:e("#pass").val().trim(),from_ad_source:e.cookie("from_ad_source")};t.customer.register(n).then(function(n){a.removeAttr("submitting"),n.code?(i(n),t.refreshCaptcha()):t.customer.login({phone:e("#phone").val().trim(),password:e("#pass").val().trim()},!0).then(function(t){location.href=ROOT_PATH+"/toRegisterImprove"})})},n=function(e){0===t.form.find("[invalid]").length?a(e):e.removeAttr("submitting")};e("#submitBtn").click(function(){var i=e(this);if(!i.attr("submitting"))if(i.attr("submitting",1),t.validate.doValid(),t.form.attr("waitingCount")>0){new t.modal("信息提示","正在校验数据，请稍后再试");var a=setInterval(function(){"0"===t.form.attr("waitingCount")&&(clearInterval(a),i.removeAttr("submitting"))},100)}else n(i)})},i.Application.Web.Register=a,i.Application.Wap.Register=a}}(window,window.jQuery,window.EDZ),function(t,e){"use strict";if(t.ROOT_PATH||(t.ROOT_PATH=""),e&&e.CONST){e.CONST.SALE_BILL="saleBillOutModel";var i="/ecm-outside-webapp",a={COMMON:{CAPTCHA:ROOT_PATH+"/getCaptcha?count=5"},AREA:{GET_PROVINCES:ROOT_PATH+"/manager/queryAllProvince",GET_CITIES:ROOT_PATH+"/manager/queryBcitys",GET_DISTRICT:ROOT_PATH+"/manager/queryScitys",RISK_GET_PROVINCES:ROOT_PATH+"/groupAccount/getProvinces",RISK_GET_CITIES:ROOT_PATH+"/groupAccount/getCitys",RISK_GET_DISTRICT:ROOT_PATH+"/groupAccount/getAreas"},CUSTOMER:{LOGIN:ROOT_PATH+"/customer/login",DOLOGIN:ROOT_PATH+"/customer/doLogin",CHECK_LOGIN_COUNT:ROOT_PATH+"/customer/checkLoginCount",REGISTER:ROOT_PATH+"/customer/register",ACTIVE:ROOT_PATH+"/customer/activateUser",CHECK_PHONE_IS_REGISTER:ROOT_PATH+"/customer/checkPhoneIsRegisted",CHECK_PHONE_IS_ACTIVATE:ROOT_PATH+"/customer/checkActivatePhoneIsRegisted",CHECK_IMAGE_CODE:ROOT_PATH+"/customer/chenckImageCode",CHECK_SMS_CODE:ROOT_PATH+"/customer/checkPhoneCode",CHECK_ACCOUNT_IS_REGISTER:ROOT_PATH+"/customer/checkAccountIsRegisted",FORGET_PASSWORD:ROOT_PATH+"/customer/forgetPass",PUSH_ACCOUNT_SMS_CODE:ROOT_PATH+"/customer/pushSms",PUSH_SMS_CODE:ROOT_PATH+"/customer/pushSms2",SEND_SMS_CODE:ROOT_PATH+"/customer/sendASms",LOGOUT:ROOT_PATH+"/customer/logout",GET_CUSTOMER_MOBILE:ROOT_PATH+"/customer/getCustomerInfoByToken",GET_CUSTOMER_CREDIT_BATCH:ROOT_PATH+"/deposit/getCustomerCreditBatch",GET_CUSTOMER_MANAGER:ROOT_PATH+"/customer/queryCustomerManager",MODIFY_PASSWORD:ROOT_PATH+"/customer/modifyPass",MODIFY_NOTICE_PHONE:ROOT_PATH+"/customer/modifyReceivePhone",MODIFY_BINDING_PHONE:ROOT_PATH+"/customer/modifyPhone",MODIFY_PHONE_NEXT:ROOT_PATH+"/customer/modifyPhoneNext",REGISTER_IMPROVE:ROOT_PATH+"/customer/registerImprove",GET_AUTHTYPE:ROOT_PATH+"/customer/getAuthType",CHECK_CART:ROOT_PATH+"/order/carts/addCarts",QUERY_CUSTOMER_TRANS:ROOT_PATH+"/customer/queryCustomerTrans",COMMIT_WITHDRAW:ROOT_PATH+"/customer/commitWithdraw",CANCEL_WITHDRAW:ROOT_PATH+"/customer/cancelWithdrawRequest",GET_CUSTOMER_RECYCLE_LIST:ROOT_PATH+"/orders/queryRecyleDeviceRequest",APPLY_RECYCLE_DEVICE:ROOT_PATH+"/orders/applyRecyleDevice",QUERY_RETURN_DEVICE_LIST:ROOT_PATH+"/orders/queryOrderReturnAbstract",GET_CUSTOMER_WAIT_PAY_ORDER_COUNT:ROOT_PATH+"/orders/queryPrePayOrderCount",GET_CUSTOMER_RECEIVE_ORDER_COUNT:ROOT_PATH+"/orders/queryPreReceiveProductOrderCount",GET_CUSTOMER_RENT_PRODUCT_COUNT:ROOT_PATH+"/orders/queryMyOnRentProductCount",CHECK_NOTICE_MODIFY_PHONE:ROOT_PATH+"/customer/checkNoticePhone",STOP_NOTICE_MODIFY_PHONE:ROOT_PATH+"/customer/stopNoticePhone",GET_PHONE_BY_TOKEN:ROOT_PATH+"/customer/getReceivePhoneByToken",LOGIN_BY_PHONE:ROOT_PATH+"/customer/loginByPhone",CHECK_IS_GOAL_CUSTOMER:ROOT_PATH+"/customer/checkIsGoalCustomer",TOP_NOTICE:ROOT_PATH+"/customer/hint",CHECK_PHONE_IS_USABLE:ROOT_PATH+"/customer/isAccountEnableFastLogin",VERIFY_GETBACK_PHONE:ROOT_PATH+"/customer/verifyGetbackPwdPhone",GET_GUIDE:ROOT_PATH+"/customer/getGuide",UPDATE_PERSONAL:ROOT_PATH+"/customer/updatePersonal",JOIN_COMPANY:ROOT_PATH+"/customer/joinCompany",UNBIND_COMPANY:ROOT_PATH+"/customer/unbindCompany"},CUSTOMER_SAY:{GET_CUSTOMER_SAY_LIST:ROOT_PATH+"/customerSay/queryCustomerSay"},CARTS:{ADD:ROOT_PATH+"/order/carts/addCarts",CHECK_CARTS:ROOT_PATH+"/order/carts/checkCarts",REMOVE_CARTS:ROOT_PATH+"/order/carts/removeCarts",CLEAN_CARTS:ROOT_PATH+"/order/carts/cleanCarts",VALIDATE_CARTS:ROOT_PATH+"/order/carts/validateCarts"},ORDER:{GET_CUSTOMER_BILLS:ROOT_PATH+"/orders/queryCustomerBills",GET_CUSTOMER_ARREARS:ROOT_PATH+"/orders/queryTotalDefaultAmount",QUERY_MY_ORDER_LIST:ROOT_PATH+"/orders/queryMyOrderList",MODIFY_CARTS:ROOT_PATH+"/order/carts/modifyCarts",GET_CART_PRODUCT_COUNT:ROOT_PATH+"/order/carts/queryProductCount",CREATE_RECHARGE_ORDER:ROOT_PATH+"/aliPay/getOrder",QUERY_ORDER_RENT_ORDER:ROOT_PATH+"/orders/queryOrderRentAbstractByOrder",QUERY_ORDER_RENT_DEVICE:ROOT_PATH+"/orders/queryOrderRentAbstractByDevice",QUERY_ORDER_RENT_PRODUCT:ROOT_PATH+"/orders/queryRentDeviceByProductAndRentAmount",QUERY_ORDER_RENT_ORDERID:ROOT_PATH+"/orders/queryRentDeviceByOrderId",QUERY_SNEXPRESS:ROOT_PATH+"/orders/querySnExpress",GET_ORDER_PRODUCT_BILL:ROOT_PATH+"/orders/queryOrderProductBill",DELETE_ORDER:ROOT_PATH+"/orders/cancelOrder",GET_DEVICE_LIST:ROOT_PATH+"/orders/queryMarkReturnDevices",GET_RETURN_DEVICE_NOTICE:ROOT_PATH+"/orders/checkReturnDeviceNotice",QUERY_ON_RENT_DEVICE:ROOT_PATH+"/orders/queryOnRentDevices",QUERY_ON_RETURN_DEVICE:ROOT_PATH+"/orders/queryOnReturnDevices",QUERY_RETURN_DEVICE:ROOT_PATH+"/orders/queryReturnDevices",QUERY_FIANCE_RENT_END_DEVICES:ROOT_PATH+"/orders/queryFianceRentEndDevices",QUERY_ORDER_EXCHANGE_LOG:ROOT_PATH+"/orders/queryOrderExchangeLog",QUERY_ORDER_EXCHANGE_SEND_LOG:ROOT_PATH+"/orders/queryOrderExchangeSendLog",QUERY_ORDER_RETURN_LOG:ROOT_PATH+"/orders/queryOrderReturnLog",QUERY_ORDER_RETURN_PACKAGE_LOG:ROOT_PATH+"/orders/queryOrderReturnPackageLog",QUERY_ORDER_RELET_LOG:ROOT_PATH+"/orders/queryOrderReletLog",QUERY_ORDER_ALLOCATE_LOG:ROOT_PATH+"/orders/queryOrderAllocateLog",QUERY_ORDER_REPAIR_LOG:ROOT_PATH+"/orders/queryOrderRepairLog",CANCEL_ORDER:ROOT_PATH+"/orders/cancelOrder",CREATE_ORDERS:ROOT_PATH+"/orders/createOrders",VALIDATE_PRODUCT_STOCK:ROOT_PATH+"/orders/validateProductStock",CHECK_SUB_PRODUCT_CANCEL:ROOT_PATH+"/orders/checkSubProductCancel"},ORDER_RELET:{QUERY_ORDER_RELET:ROOT_PATH+"/orders/queryOrderRelet",CREATE_RELET:ROOT_PATH+"/orders/createOrderRelet",CANCEL_RELET:ROOT_PATH+"/orders/cancelOrderRelet"},ORDER_RENT:{QUERY_ORDER_RENT_ORDER:ROOT_PATH+"/orders/queryOrderRentAbstractByOrder",QUERY_ORDER_RENT_DEVICE:ROOT_PATH+"/orders/queryOrderRentAbstractByDevice",QUERY_ORDER_RENT_PRODUCT:ROOT_PATH+"/orders/queryRentDeviceByProductAndRentAmount",QUERY_ORDER_RENT_ORDERID:ROOT_PATH+"/orders/queryRentDeviceByOrderId"},BILL:{GET_TOTAL_PAYABLE_AMOUNT:ROOT_PATH+"/orders/queryTotalPayableAmount",GET_BILL_MONTH_DETAIL:ROOT_PATH+"/orders/queryOrderBillMonthDetailNew",EXPORT_BILL:ROOT_PATH+"/export/export-bill-new"},BILLMONTH:{GET_LATEST_BILL_NEED_SHOW:"/orders/getLatestBillNeedShow",CONFIRM_LATEST_BILL:"/orders/confirmLatestBill",GET_TOTAL_PAYABLE_AMOUNT:ROOT_PATH+"/orders/queryTotalPayableAmountMonthly",GET_BILL_MONTH_DETAIL:ROOT_PATH+"/orders/queryOrderBillMonthDetailMonthly",EXPORT_BILL:ROOT_PATH+"/export/export-bill-month"},HELP:{MENU:ROOT_PATH+"/newsCategory/findAllCategory?typeId=1"},PRODUCT:{GET_QUICK_SEARCH_KEY:ROOT_PATH+"/queryWords/getAllQueryWords",GET_TOTAL_PAYABLE_AMOUNT:ROOT_PATH+"/orders/queryTotalPayableAmount",GET_BILL_MONTH_DETAIL:ROOT_PATH+"/orders/queryOrderBillMonthDetailNew",EXPORT_BILL:ROOT_PATH+"/export/export-bill-new",GET_PRODUCT_DEPOSIT:ROOT_PATH+"/product/getProductDeposit",GET_QA_LIST:ROOT_PATH+"/product/queryProductQaAbstract",GET_STOCK:ROOT_PATH+"/product/getProductStock",CHECK_PRODUCT_INFO:ROOT_PATH+"/product/getCheckProductInfo",SEND_SMS_TO_SALER:ROOT_PATH+"/product/pushSmsToSale",CREATE_SHIPMENT_NOTICE:ROOT_PATH+"/product/createShipmentNotice",CREATE_QA:ROOT_PATH+"/product/createProductQa",CREATE_PRODUCT_LIMIT:ROOT_PATH+"/product/createProductLimit",DATE_LIMIT:ROOT_PATH+"/customer/dateLimit"},INVOICE:{QUERY_ALL_ORDER_BILL_MONTHLY:"/invoice/queryAllOrderBillMonthly",SUBMIT_REQUEST:ROOT_PATH+"/invoice/commitInvoiceRequest",COMMIT_INVOICE_REQUEST_BASE_BILL:"/invoice/commitInvoiceRequestBasedBill",GET_LIST:ROOT_PATH+"/invoice/queryInvoiceAbstract",CANCEL_REQUEST:ROOT_PATH+"/invoice/cancelInvoiceRequest",GET_DETAIL:ROOT_PATH+"/invoice/queryInvoiceAbstractById",QUERY_NOTICE:ROOT_PATH+"/invoice/queryInvoiceNoticeInfo",PAYBILL_BY_APPLYINVOICE:ROOT_PATH+"/invoice/invoiceOrderBillPay",GET_INVOICE_IMG:ROOT_PATH+"/invoice/showEinvoiceImg",DOWNLOAD_INVOICE_IMG:ROOT_PATH+"/invoice/downLoadEinvoiceImg",GET_E_INVOICE_DETAIL:ROOT_PATH+"/invoice/queryEInvoiceByAbstractId"},ADDRESS:{GET_DETAIL:ROOT_PATH+"/customer/getCustomerAddress",CREATE:ROOT_PATH+"/customer/createCustomerAddress",MODIFY:ROOT_PATH+"/customer/modifyCustomerAddress",REMOVE:ROOT_PATH+"/customer/removeCustomerAddress",GET_LIST:ROOT_PATH+"/customer/getCustomerAllAddress"},GROUP:{GROUP_ACCOUNT_MAIN:ROOT_PATH+"/customer/checkCustomerGroupType",GROUP_DATA_EMBEDDING:ROOT_PATH+"/customer/recordCustomerGroupOper",LOGIN_TO_GROUP_ACCOUNT_SYSTEM:ROOT_PATH+"/customer/loginGroupFromMall"},DEPOSIT:{APPLY_COMPANY_INFO:ROOT_PATH+"/deposit/applyCompanyInfo",SAVE_ATTACH:ROOT_PATH+"/deposit/saveAttach",QUERY_ATTACH:ROOT_PATH+"/deposit/queryAttach",QUERY_ZMXY:ROOT_PATH+"/deposit/queryZmxy",GET_COMPANY_INFO:ROOT_PATH+"/deposit/getCompanyInfo",GET_COMPANY_CREDENTIALS:ROOT_PATH+"/deposit/getCompanyCredentials",GET_SHARE_HOLDER_FINANCIALINFO:ROOT_PATH+"/deposit/getShareholderFinancialInfo",GET_INCUBOTOR:ROOT_PATH+"/deposit/queryIncubator",QUERY_ShAREHOLDER:ROOT_PATH+"/deposit/queryShareholder",SAVE_SHARE_HOLDER:ROOT_PATH+"/deposit/saveShareholder",SEAVE_LOANAPPLY:ROOT_PATH+"/deposit/saveLoanApply",SEAVE_COMPLETE_loanApply:ROOT_PATH+"/deposit/saveCompleteLoanApply",QUERY_LOAN_APPLY:ROOT_PATH+"/deposit/queryLoanApply",MENTION_PLAN:ROOT_PATH+"/credit/getImproveScheme",GET_APPLY_OPERATION_RECORDS:ROOT_PATH+"/credit/getApplyOperationRecords",GET_INFORMATION:ROOT_PATH+"/credit/getShareholderList",GET_SUPPLEMENT_IFO:ROOT_PATH+"/credit/getSupplementInfo",QUERY_CREDIT_CHANGE_LIST:ROOT_PATH+"/ecm-outside-webapp/customer/queryCreditChangeList",GET_SHAREHOLDER_INFO:ROOT_PATH+i+"/preCredit/getShareholderDetail",GET_CREDIT_APPLY_INFO:ROOT_PATH+i+"/preCredit/getCreditApplyInfo",SUBMIT_SHAREHOLDER_INFO:ROOT_PATH+i+"/preCredit/submitCreditApplyInfo",SUBMIT_APPLICATION_INFO:ROOT_PATH+i+"/preCredit/submitCreditApplyOptionalInfo",GET_CRONAPPLY_PLAY:ROOT_PATH+i+"/apply/getCronApplyPlan"},DEPOSIT_AMOUNT:{APPLY_AMOUNT:ROOT_PATH+"/credit/submitImproveApplyData",APPLY_AMOUNTGET:ROOT_PATH+"/credit/getImproveApplyData",MODIFY_AMOUNT:ROOT_PATH+"/credit/modifyImproveApplyData",GET_CUSTOMER_CREDIT:ROOT_PATH+"/credit/getCompanyCreditInfo"},DEPOSIT_SHAREHOLDER:{ADD_SHAREHOLDER:ROOT_PATH+i+"/preCredit/addShareholder",GET_SHAREHOLDER:ROOT_PATH+i+"/preCredit/getShareholderDetail",EDIT_SHAREHOLDER:ROOT_PATH+i+"/preCredit/mergeShareholder"},DEPOSIT_UPLOAD:{UPLOAD_SECURITY:ROOT_PATH+"/credit/submitCompanyData",GETSUPPLETYPE:ROOT_PATH+"/credit/getCompanyData"},DEPOSIT_SHARESUPPLEMENTARY:{UPLOAD_SHARESUPPLEMENTARY:ROOT_PATH+"/credit/submitShareholderData",
GETSHARESUPPLETYPE:ROOT_PATH+"/credit/getShareholderData"},DEPOSIT_STATUS_HEAD:{DEPOSIT_AMOUNT:ROOT_PATH+"/credit/getCompanyCreditInfo",IF_APPLIED:ROOT_PATH+"/credit/getCreditApplyStatus"},RELATION:{GORELATION:ROOT_PATH+"/groupAccount/editGroupBindApply",QUERY_RELATION:ROOT_PATH+"/groupAccount/queryGroupBindApply",QUERY_GROUPPHONE:ROOT_PATH+"/groupAccount/getParentReceivePhone"},MYCOUPON:{GET_COUPON_LIST:ROOT_PATH+"/coupon/queryCustomerCouponAbstract",CREATE_COUPON:ROOT_PATH+"/coupon/createCustomerCoupon",GET_ENABLE_COUPON_LIST:ROOT_PATH+"/coupon/queryMyEnableCoupon"},EquipmentRecycle:{APPLY_EQUIPMENT_RECYCLE:ROOT_PATH+"/customer/applyEquipmentRecycle"},WORKFORM:{QUERY_WORKFORM_LIST:ROOT_PATH+"/workOrder/queryWorkOrderListByCustomer",SUBMIT_WORKFORM:ROOT_PATH+"/workOrder/orderCreatedByCustomer",QUERY_WORKFORM_DETAIL:ROOT_PATH+"/workOrder/queryWorkOrderDetailByCustomer",ADD_REPLY:ROOT_PATH+"/workOrder/addReplyByCustomer",CLOSE_WORKFORM:ROOT_PATH+"/workOrder/shutdownByCustomer",ADD_EVALUATION:ROOT_PATH+"/workOrder/addEvaluationByCustomer"},EMAIL:{UNSUBSCRIBE:ROOT_PATH+"/manager/emailUnsubscribe"}};e.CONST.API=a}}(window,window.EDZ),function(t,e){"use strict";e&&e.CONST&&(e.CONST.CATEGORY_INFO={1:{type:"员工社保缴存记录",category:"企业"},2:{type:"财务报表",category:"企业"},3:{type:"银行流水明细",category:"企业"},4:{type:"融资到账证明",category:"企业"},5:{type:"高新技术企业认证",category:"企业"},6:{type:"专利认证",category:"企业"},7:{type:"合同证明",category:"企业"},8:{type:"企业纳税证明",category:"企业"},9:{type:"芝麻信用授权",category:"股东/法人/高管"},10:{type:"手机号验证",category:"股东/法人/高管"},11:{type:"股东/法人/高管担保",category:"股东/法人/高管"},12:{type:"个人征信报告",category:"股东/法人/高管"},13:{type:"学历/留学证明",category:"股东/法人/高管"},14:{type:"工作证明",category:"股东/法人/高管"},15:{type:"特殊职业资格证明",category:"股东/法人/高管"},16:{type:"押金金融服务",category:"股东/法人/高管"}})}(window,window.EDZ),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t,i,a,n,o,r,s){this.provinceElem=t,this.cityElem=i,this.areaElem=a,this.provinceId=n,this.cityId=o,this.areaId=r,this.areaService=new e.Service.Area(s),this.init()};a.prototype.init=function(){var t=this;this.areaService.getAllProvince().then(function(e){e.code||(t.setOptions(e.data,t.provinceElem,"省份","id","name"),t.cityElem.html('<option value="">请选择市</option>'),t.areaElem.html('<option value="">请选择区县</option>'),t.provinceId&&t.cityId&&t.areaId&&t.setDefaultArea(t.provinceId,t.cityId,t.areaId),t.provinceElem.on("change",function(){var e=i(this).val();return t.areaElem.html('<option value="">请选择区县</option>'),e?void t.areaService.getCities(e).then(function(e){e&&!e.code&&t.setOptions(e.data,t.cityElem,"市","id","name")}):void t.cityElem.html('<option value="">请选择市</option>')}),t.cityElem.on("change",function(){var e=i(this).val();t.areaElem.html('<option value="">请选择区县</option>'),e&&t.areaService.getDistricts(e).then(function(e){e&&!e.code&&t.setOptions(e.data,t.areaElem,"区县","id","name")})}))})},a.prototype.setDefaultArea=function(t,e,i){var a=this;this.provinceElem.val(t),this.areaService.getCities(t).then(function(t){t&&!t.code&&(a.setOptions(t.data,a.cityElem,"市","id","name"),a.cityElem.val(e),a.areaService.getDistricts(e).then(function(t){a.setOptions(t.data,a.areaElem,"区县","id","name"),a.areaElem.val(i)}))})},a.prototype.setOptions=function(t,e,i,a,n){var o='<option value="">请选择'+i+"</option>";o+=juicer('{@each data as item,index}<option value="${item.'+a+'}">${item.'+n+"}</option>{@/each}",{data:t}),e.html(o)},e.Plugin.AddressSelect=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t,a){var n={elem:i("#uploadBox"),fileExtType:0,isLock:!1,files:[],required:!0,max:null,loadingElem:null,preview:!1};this.options=i.extend({},n,t),this.multiple=a,e.Common.isArray(this.options.files)?this.files=this.options.files:this.options.files=this.files=[],this.imgModal=new e.Plugin.ImgModal};a.prototype.init=function(){this.create()},a.prototype.create=function(){var t=i(['<div class="upload">','   <div class="deposit-img clearfix">','       <div class="fl" id="imgList">','           <div class="img-upload-bg fl" id="uploadBtn"></div>',"       </div>","   </div>",'   <div class="file-list hide clearfix" id="fileList"></div>','   <div class="uploadingType" id="uploadSuccess"></div>','   <div id="emptyFileError" style="margin-top:10px;" class="error-prompt hide">请先上传文件</div>',"</div>"].join(""));this.options.elem.html(t.html()),this.regRemoveEvent();var a=this;if(this.options.isLock)i("#uploadBtn").addClass("hide");else{var n={loadingElem:a.options.loadingElem};a.options.max&&(n.fileNumLimit=a.options.max),setTimeout(function(){new e.Plugin.Upload(i("#uploadBtn"),a.options.fileExtType,function(t){a.insertFile(t,a.options.isLock)},n,a.multiple)},100)}this.files.length>0&&this.insertMultFiles(this.files,this.options.isLock)},a.prototype.insertMultFiles=function(t,e){for(var i=0;i<t.length;i++)this.insertFile(t[i],e,!0)},a.prototype.insertFile=function(t,a,n){if(/.(jpg|JPG|jpeg|bmp|JPEG|png|PNG|BMP|gif|GIF)/.test(t)){var o=['<div class="identity fl">','   <div class="img-all-bg">','       <img src="'+t+'" class="uploadImg" onerror="this.src="../images/step-img.jpg";this.onerror=null;"/>',"   </div>",'   <div class="img-oprate-btn-box">',this.options.preview?'       <a preview-img="'+t+'" class="icon icon-upload-preview-btn previewBtn"></a>':"",'       <a class="icon icon-upload-del-btn deleteImg"></a>',"   </div>","</div>"].join("");i("#uploadBtn").before(o),n||this.files.push(t)}else{if("string"==typeof t){var r=e.Common.getUrlQueryString(t,"fileName"),s=t.substring(0,t.lastIndexOf("&fileName="));t={url:s,fileName:r}}var o=['<div class="upload-name">','<span class="file-word">','  <span href="'+(t.url+"&fileName="+t.fileName)+'" class="fileUrl">'+t.fileName+"</span>","</span>",'<a class="delete-file supplementFile-close setstyle">删除</a>',"</div>"].join("");i("#fileList").removeClass("hide").append(o),n||this.files.push(t.url+"&fileName="+t.fileName)}a&&i(".delete-file,.deleteImg").remove(),i("#emptyFileError").addClass("hide"),this.options.max&&this.files.length>=this.options.max&&this.options.elem.find("#uploadBtn").addClass("hide")},a.prototype.getFiles=function(){return this.files},a.prototype.removeFile=function(t){for(var e=0;e<this.files.length;e++){var a=this.files[e].split("?")[0],n=t.split("?")[0];if(a===n){this.files.splice(e,1);break}}0===this.files.length&&this.options.required&&i("#emptyFileError").removeClass("hide"),this.options.max&&this.files.length<this.options.max&&this.options.elem.find("#uploadBtn").removeClass("hide")},a.prototype.checkHasFile=function(){return 0===this.files.length&&this.options.required&&i("#emptyFileError").removeClass("hide"),this.files.length>0},a.prototype.regRemoveEvent=function(){var t=this;i(document).on("click",".deleteImg",function(){var e=i(this).parent().parent().find("img").attr("src");i(this).parent().parent().remove(),t.removeFile(e)}),i(document).on("click",".delete-file",function(){var e=i(this).parent().find(".fileUrl").attr("href");i(this).parent().remove(),t.removeFile(e),0===i("#fileList").children().length&&i("#fileList").addClass("hide")}),i(document).on("click",".previewBtn",function(){t.imgModal.open(i(this).attr("preview-img"))})},e.Plugin.DepositUpload=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t,e,i,a){this.title=t,this.content=e,this.data=i,this.width=a};a.prototype.open=function(t){this.temp=i(juicer(e.Template.dialog,{title:this.title})),this.temp.find(".bounced-main").css({width:this.width}).append(juicer(this.content,this.data)),i(document.body).append(this.temp),this.temp.find(".bounced-main").css({margin:"-"+this.temp.find(".bounced-main").height()/2+"px 0 0 -"+this.width/2+"px"}),e.Common.isLessIE9()?this.temp.find(".bounced-main").show():(this.temp.addClass("animated fadeIn"),this.temp.find(".bounced-main").addClass("animated fadeInDown")),e.Common.isFunction(t)&&t()},a.prototype.close=function(){e.Common.isLessIE9()?this.temp.hide():(this.temp.find(".bounced-main").removeClass("fadeInDown").addClass("fadeOutUp"),this.temp.addClass("fadeOut"));var t=this;setTimeout(function(){t.temp.remove()},500)},a.prototype.findDom=function(t){return this.temp.find(t)},e.Plugin.Dialog=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t,a){this.$element=i(t);var n={data:[],style_class:"",onSelect:null,default_text:"",default_value:null};this.options=i.extend({},n,a);var o=this,r=juicer(e.Template.dropdown,{default_text:this.options.default_text,style_class:this.options.style_class,data:this.options.data});this.$element.addClass("edz-dropdown").attr("data-value",this.options.default_value).html(r),this.$dropdown_list=this.$element.find(".dropdown-list"),this.toggle=function(){var t=this.$dropdown_list.is(":visible");i(".dropdown-list").hide(),t?o.hide():(this.$dropdown_list.show(),this.$element.find(".icon-arrow-down").removeClass("icon-arrow-down").addClass("icon-arrow-up"))},this.hide=function(){o.$dropdown_list.hide(),this.$element.find(".icon-arrow-up").removeClass("icon-arrow-up").addClass("icon-arrow-down")},this.$element.find(".select-box").on("click",function(){return o.toggle(),!1}),this.$element.find(".dropdown-item").on("click",function(){var t=i(this);o.hide();var e=t.text(),a=t.attr("data-value");o.$element.find(".selected-text").text(e),o.$element.attr("data-value",a),o.options.onSelect(e,a)}),i(document).on("click",function(t){i(t.target).closest(".edz-dropdown").length||o.hide()})};e.Plugin.Dropdown=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(){};a.prototype.open=function(){var t=this;this.temp=i(e.Template.ieTips),i(document.body).append(this.temp),this.temp&&(e.Common.isLessIE9()?this.temp.find(".ie-tips-box").show():(this.temp.addClass("animated fadeIn"),this.temp.find(".ie-tips-box").addClass("animated zoomIn")),this.temp.find(".close, .goon-btn").click(function(){t.close()}))},a.prototype.close=function(){if(this.temp){e.Common.isLessIE9()?this.temp.hide():(this.temp.find(".ie-tips-box").removeClass("zoomIn").addClass("zoomOut"),this.temp.addClass("fadeOut"));var t=this;setTimeout(function(){t.temp.remove()},500)}},e.Plugin.IETips=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t){this.options={className:"",width:1e3,url:""},this.options=i.extend({},this.options,t),this.options.url=this.options.url.replace("style=small_print&","")};a.prototype.open=function(t){var a=this.options;t&&(a.url=t.replace("style=small_print&","")),this.temp=i(juicer(e.Template.imgModal,{options:a})),i(document.body).append(this.temp);var n=this;e.Common.isLessIE9()?this.temp.find(".bounced-main").show():(this.temp.addClass("animated fadeIn"),this.temp.find(".bounced-main").addClass("animated zoomIn")),this.temp.find(".image-model-close").click(function(){n.close()})},a.prototype.close=function(){e.Common.isLessIE9()?this.temp.hide():(this.temp.find(".bounced-main").removeClass("zoomIn").addClass("zoomOut"),this.temp.addClass("fadeOut"));var t=this;setTimeout(function(){t.temp.remove()},500)},e.Plugin.ImgModal=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(){};a.prototype.open=function(){},a.prototype.close=function(){},e.Plugin.LoginModal=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t,e,a,n){this.title=t,this.content=e,this.width=a||0,this.isAlert=!1,this.options={className:"",width:a||400,ok_txt:"确认",cancel_txt:"取消",hideFoot:!1},this.options=i.extend({},this.options,n)};a.prototype.open=function(t){this.temp=i(juicer(e.Template.modal,{options:this.options,title:this.title,content:this.content,isAlert:this.isAlert,width:this.width})),i(document.body).append(this.temp);var a=this;this.temp&&(e.Common.isLessIE9()?this.temp.find(".bounced-main").show():(this.temp.addClass("animated fadeIn"),this.temp.find(".bounced-main").addClass("animated zoomIn")),this.temp.find(".close").click(function(){a.close(t)}))},a.prototype.alert=function(t,i){this.isAlert=!0,e.Common.isFunction(this.open)&&this.open();var a=this;this.temp&&this.temp.find(".ok-btn").click(function(){i||a.close(),e.Common.isFunction(t)&&t()})},a.prototype.confirm=function(t,i,a){var n=this;e.Common.isFunction(this.open)&&this.open(i),this.temp&&(this.temp.find(".ok-btn").click(function(){a||n.close(),e.Common.isFunction(t)&&t()}),this.temp.find(".cancel-btn").click(function(){n.close(),e.Common.isFunction(i)&&i()}))},a.prototype.close=function(t){if(this.temp){e.Common.isLessIE9()?this.temp.hide():(this.temp.find(".bounced-main").removeClass("zoomIn").addClass("zoomOut"),this.temp.addClass("fadeOut"));var i=this;e.Common.isFunction(t)&&t(),setTimeout(function(){i.temp.remove()},500)}},e.Plugin.Modal=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t,i,a){this.elem=t,this.pageCount=a,this.currentPage=i,this.alert=function(t){new e.Plugin.Modal("提示信息",t).alert()}};a.prototype.init=function(t){var a=this;return this.pageCount<2?void a.elem.empty():(this.elem.html(juicer(e.Template.pagination,{totalPage:this.pageCount,currentPage:this.currentPage})),this.elem.find(".number-ul li").click(function(){if(i(this).hasClass("on")||i(this).hasClass("disabled"))return!1;var e=parseInt(i(this).attr("value"),10);t(e)}),this.elem.find('input[type="text"]').focus(function(){i(this).select()}).on("keyup",function(){i(this).val(i(this).val().replace(/\D/gi,""))}),void this.elem.find('input[type="button"]').click(function(){var e=a.elem.find('[type="text"]'),i=e.val();if(i){if(i==a.currentPage||i>a.pageCount)return!1;if(i>a.pageCount)return a.alert("您输入的页数大于总页数"),e.val(a.currentPage),!1;t(parseInt(i,10))}else a.alert("请输入页数")}))},e.Plugin.Pagination=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(){this.temp=i(juicer(e.Template.rightTool,{}))};a.prototype.init=function(){this.regGoTopEvent()},a.prototype.regGoTopEvent=function(){i(".go-top").click(function(){i("body,html").animate({scrollTop:0},1e3)})},e.Plugin.RightTool=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t){this.elements=t};a.prototype.init=function(){i.each(this.elements,function(t,a){var n={content:i(a).attr("content")},o=i(juicer(e.Template.rightTooltip,n));i(a).hover(function(t){i(document.body).append(o);var e=i(this).offset().left;o.removeClass("hide").css({top:i(this).offset().top-10,left:e+i(a).width()+10})},function(){o.addClass("hide"),setTimeout(function(){o.remove()},10)})})},e.Plugin.RightTooltip=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t){this.elements=t};a.prototype.running=function(){function t(t){var e=i(t).attr("number"),a=e.split(""),n=100;i.each(a,function(e,a){var o=0,r=i("<num></num>");t.append(r);var s=setInterval(function(){if(o++,"."==a||"-"==a)r.text(a),clearInterval(s);else{if(o>=a)return clearInterval(s),void r.text(a);r.text(o)}},n);n+=30})}e.Common.isArray(this.elements)&&i.each(this.elements,function(e,a){t(i(a))}),e.Common.isObject(this.elements)&&t(this.elements)},e.Plugin.ScrollNumber=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(){i(document).on("click","[show_target], [toggle_target]",function(){var t,e=i(this);e.is("[show_target]")?(t=i(e.attr("show_target")),t.show()):e.is("[toggle_target]")&&(t=i(e.attr("toggle_target")),t.toggle()),t.addClass("_target_to_show")}).on("click",function(t){var e=i(t.target);e.is("[show_target]")||e.is("[toggle_target]")||e.is("._target_to_show")||0!==e.closest("[show_target]").length||0!==e.closest("[toggle_target]").length||0!==e.closest("._target_to_show").length||i("._target_to_show").hide()})};e.Plugin.ShowTarget=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t,e){var a=i(t),n={};this.options=i.extend({},n,e),a.addClass("edz-tabswitch");var o=this.options.items;i.each(o,function(t,e){var n=i("<span>"+e.txt+"</span>");a.append(n),n.on("click",function(){n.siblings().removeClass("on"),n.addClass("on"),i(e.targetClass).html(template(e.tplID,{tplD:e.tplID})),e.onShow()}),0===t&&n.click()})};e.Plugin.TabSwitch=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t){this.elements=t};a.prototype.init=function(){i.each(this.elements,function(t,a){var n={content:i(a).attr("content")},o=i(juicer(e.Template.tooltip,n)),r=+i(a).attr("arr-left");r&&!isNaN(r)||(r=0),i(a).hover(function(t){i(document.body).append(o);var e=i(this).offset().left;r&&(e+=r),e+o.width()>document.body.clientWidth&&(e=e-o.width()+50,o.find(".icon-pic-triangle").css({right:20,left:"auto"})),o.removeClass("animated flipOutX").addClass("animated flipInX").css({top:i(this).offset().top+30,left:e})},function(){o.removeClass("animated flipInX").addClass("animated flipOutX"),setTimeout(function(){o.remove()},500)})})},e.Plugin.Tooltip=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a,n=function(t,e){this.element=t,this.year=(new Date).getFullYear(),e&&(a=e,this.year=moment(e+"-01").year())};n.prototype.rebuildMonth=function(t){this.temp.find("b").text(this.year);for(var e="",n=1;n<=12;n++){var o;n<10?(o=this.year+"-0"+n,e+="<li "+(o==a?'class="on"':"")+' month="'+o+'">0'+n+"月</li>"):(o=this.year+"-"+n,e+="<li "+(o==a?'class="on"':"")+' month="'+o+'">'+n+"月</li>")}var r=this;this.temp.find(".data-years").html(e),this.temp.find(".data-years").children().click(function(){r.temp.find("li").removeClass("on"),i(this).addClass("on"),a=i(this).attr("month"),t(a)})},n.prototype.init=function(t){this.temp=i('<div class="date-month hide">    <div class="years-switch">        <a href="javascript:;" class="btn-left fl">&lt;</a>        <b></b>        <a href="javascript:;" class="btn-right fr">&gt;</a>    </div>    <ul class="data-years"></ul>    <i class="icon-pic-date"></i></div>'),this.rebuildMonth(t),this.element.html(this.temp);var e=this;this.temp.find(".btn-right").unbind("click").click(function(){e.year++,e.rebuildMonth(t)}),this.temp.find(".btn-left").unbind("click").click(function(){e.year--,e.rebuildMonth(t)})},e.Plugin.UC_BillCalendar=n}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t,i){this.element=t,this.selectTitle=this.getTitle(i),this.order=new e.Service.Order,this.group=new e.Service.Group};a.prototype.init=function(){var t={selectTitle:this.selectTitle,items:[{title:"订单中心",items:[{title:"我的订单",link:ROOT_PATH+"/ucenter/orders"},{title:"订单续租",link:ROOT_PATH+"/orderRelet"}]},{title:"资产中心",items:[{title:"我的账户",link:ROOT_PATH+"/my_account"},{title:"我的账单",link:ROOT_PATH+"/my_bill_month"},{title:"我的设备",link:ROOT_PATH+"/mydevice"},{title:"设备变更记录",link:ROOT_PATH+"/device_log"},{title:"免押金额度",link:ROOT_PATH+"/apply_deposit"},{title:"我的优惠券",link:ROOT_PATH+"/my_coupon"}]},{title:"服务中心",items:[{title:"我的发票",link:ROOT_PATH+"/customerInvoice"},{isHide:"true",title:"我的工单",link:ROOT_PATH+"/workform"},{title:"退换货返修",link:ROOT_PATH+"/requestRecycle"}]},{title:"企业服务",isHide:"true",key:"companyService",items:[{title:"集团账户",key:"groupAccount",clickName:"groupAccountNavClickEvent",link:"javascript:;",isHide:"true"}]},{title:"设置",items:[{title:"账户安全",link:ROOT_PATH+"/bindingPhone"},{title:"快递地址",link:ROOT_PATH+"/customerAddress"}]}]};_.each(t.items,function(t){t.isHide||(t.isHide="false"),t.key||(t.key=""),_.each(t.items,function(t){t.isHide||(t.isHide="false"),t.key||(t.key="")})}),this.temp=i(juicer(e.Template.uc_navigate,t)),this.element.append(this.temp),this.showGroupAccountNav(),(new e.Service.DepositHead).getIsApplied().then(function(t){t.code||(t.data&&0===t.data.status&&1!=t.data.isChild?i('.sidebar [href="/apply_deposit"]').text("申请免押金额度"):i('.sidebar [href="/apply_deposit"]').text("我的免押金额度"))})},a.prototype.getTitle=function(t){var e="";switch(t){case"UC_MyOrder":e="我的订单";break;case"UC_OrderRelet":e="订单续租";break;case"UC_MyAccount":case"UC_Alipay":case"UC_Withdraw":e="我的账户";break;case"UC_Bill_MONTH":case"UC_Bill":e="我的账单";break;case"UC_MyDevice":e="我的设备";break;case"UC_DeviceLog":e="设备变更记录";break;case"UC_ApplyFreeDeposit":case"UC_CreditDetail":case"UC_CreditImproveApplyHistory":case"UC_CreditPhoneVerification":case"UC_CreditShareholderGuarantee":case"UC_CreditDepositDetail":case"UC_HistorySupplementary":case"UC_NonFirstIndex":case"UC_shareholderInfo":case"UC_DepositShareholderUpload":case"UC_SupplementaryIndex":case"UC_DepositAmount":case"UC_DepositShareholder":case"UC_DepositUpload":case"UC_ApplyForDeposit":e="免押金额度";break;case"UC_MyCoupon":e="我的优惠券";break;case"UC_Invoice_Apply":case"UC_Invoice_List":case"UC_Invoice_Electronic_Detail":e="我的发票";break;case"UC_ApplyRecycle":e="退换货返修";break;case"UC_BindingNoticePhone":case"UC_BindingPhone":case"UC_ModifyPassword":case"UC_Setting":e="账户安全";break;case"UC_Address":e="快递地址"}return e},a.prototype.groupAccountNavClickEvent=function(){var i=t.open("");this.group.loginToGroupAccountSystem().then(function(t){!t.code&&t.data?i.location.href=t.data.groupAddress+"/loginGroupAccountFromMall?token="+t.data.token:new e.Plugin.Modal("信息提示","网络异常，请稍后重试！").alert()})},a.prototype.showGroupAccountNav=function(){var t=this;this.group.getReturnGroupAccountMain().then(function(e){e.code||1!=e.data||(i(".sidebar li[key='companyService']").removeClass("hide"),i(".sidebar li[key='groupAccount']").removeClass("hide").click(function(){var e=i(this).attr("click-name");e&&t[e]()}))})},e.Plugin.UC_Navigate=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t,a,n,o,r){this.elem=t,this.type=a,this.func=n,this.parentPath=moment(new Date).format("YYYYMMDD"),this.modal=e.Plugin.Modal;var s={beforeFileQueued:function(){return!0},complete:function(){},fileNumLimit:30,loadingElem:null};this.options=i.extend({},s,o),this.multiple=r,this.isUploading=!1,this.init(),this.imgModal=new e.Plugin.ImgModal};a.prototype.init=function(){var t,e;switch(this.type){case 0:t="jpg,jpeg,png,JPG,JPEG,PNG,gif,GIF",e="image/jpg,image/jpeg,image/png,image/gif";break;case 1:t="jpg,jpeg,png,JPG,JPEG,PNG,gif,GIF,xls,xlsx,doc,docx,pdf",e="image/*,application/vnd.ms-excel,application/pdf,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case 2:t="jpg,jpeg,png,JPG,JPEG,PNG,gif,GIF,pdf",e="image/jpg,image/jpeg,image/png,image/gif,application/pdf";break;case 3:t="jpg,jpeg,png,JPG,JPEG,PNG,gif,GIF,xls,xlsx,pdf",e="image/*,application/vnd.ms-excel,application/pdf,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}this.uploadTotalNum=0,this.uploadSuccessNum=0,this.regOutdated(t)},a.prototype.regModern=function(t,e){var a=this,n=WebUploader.create({auto:!0,swf:"/js/Uploader.swf",server:ROOT_PATH+"/upload/img",pick:{multiple:!1,id:this.elem},duplicate:!0,fileSingleSizeLimit:10485760,fileVal:"pic",formData:{browser:"ie8",parentPath:this.parentPath,bucket:"edianzu-oss-risk"},accept:{extensions:t,mimeTypes:e}});n.on("beforeFileQueued",function(){var t='<div class="uploadType uploadloading"><i></i><span>正在上传...</span></div>';a.options.loadingElem?a.options.loadingElem.html(t):i(".deposite-important").eq(0).before(t);var e=a.options.beforeFileQueued();return e}),n.on("error",function(t){i(".uploadType").remove(),i(".uploadloading").remove(),"F_EXCEED_NUM_LIMIT"==t?new a.modal("提示信息","最多上传20个文件").alert():"F_EXCEED_SIZE"==t?new a.modal("提示信息","单个上传文件大小不能超过5M！").alert():"Q_EXCEED_NUM_LIMIT"==t?new a.modal("提示信息","一次只能上传一张图片").alert():"Q_TYPE_DENIED"==t&&new a.modal("提示信息","请选择正确格式的文件").alert()}),n.on("uploadSuccess",function(t,e){a.onUploadSucess(e.data)})},a.prototype.regOutdated=function(a){var n=this;"string"==typeof n.elem?i(n.elem).css({position:"relative"}):n.elem.css({position:"relative"});var o=function(t){var e=t.substring(t.lastIndexOf("."),t.length),i=new RegExp(a.split(",").join("|"));return!(!e||!i.test(e))},r=function(e){e.html('<input title="点击可选择要上传的文件" name="pic" type="file" /><i title="点击查看大图" '+(n.options.file&&n.options.preview?'preview-img="'+n.options.file+'"':"")+' class="icon icon-upload-preview-btn single-upload-preview '+(n.options.file&&n.options.preview?"":"hide")+'"></i><input type="hidden" name="bucket" value="edianzu-oss-risk"><input type="hidden" name="parentPath" value="'+n.parentPath+'"><input type="hidden" name="browser" value="ie8">'),t.FormData&&n.multiple&&e.find('[type="file"]').attr("multiple","multiple");var a=function(t){o(t)?(n.uploadTotalNum=1,n.uploadSuccessNum=0,e.submit()):new n.modal("信息提示","请选择正确格式的文件").alert(function(){r(e)})},d=function(t){if(t.length>10)return void new n.modal("信息提示","一次上传不能超过10张").alert(function(){r(e)});if(n.options.fileNumLimit&&t.length+i(n.elem).prevAll().length>n.options.fileNumLimit)return void new n.modal("信息提示","总上传数量不能超过"+n.options.fileNumLimit+"张").alert(function(){r(e)});for(var a=0;a<t.length;a++){var d=t[a].name;if(!o(d))return void new n.modal("信息提示","请选择正确格式的文件").alert(function(){r(e)})}for(var c=[],a=0;a<t.length;a++){var p={name:t[a].name,file:t[a]};c.push(p)}n.uploadTotalNum=c.length,n.uploadSuccessNum=0,l(),_.each(c,function(t,i,a){var n=new FormData;n.append("parentPath",moment().format("YYYYMMDD")),n.append("bucket","edianzu-oss-risk"),n.append("pic",t.file),s(n,e)})};n.options.file&&n.options.preview&&e.find(".single-upload-preview").removeClass("hide"),e.find('[type="file"]').css({display:"block",width:"100%",height:"100%",position:"absolute",left:0,top:0,filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)",opacity:0,cursor:"pointer"}).click(function(){if(n.isUploading)return new n.modal("信息提示","正在上传文件，请稍候").alert(),!1}).change(function(){t.FormData?d(i(this)[0].files):a(i.trim(i(this).val()))}),e.find(".single-upload-preview").unbind("click").click(function(){n.imgModal.open(i(this).attr("preview-img"))})},s=function(t,i){e.Service.Ajax.upload("/upload/img",t).then(function(t){t.code?n.onUploadDone():(n.onUploadSucess(t.data),r(i))})},l=function(){n.isUploading=!0,i(".uploadSuccess").remove();var t='<div class="uploadType uploadloading"><i></i><span>正在上传...</span></div>';n.options.loadingElem?n.options.loadingElem.html(t):i(".deposite-important").eq(0).before(t)},d=function(){var t=i("<form></form>");i(n.elem).append(t),r(t),t.submit(function(){return l(),i(this).ajaxSubmit({dataType:"json",type:"post",url:ROOT_PATH+"/upload/img",success:function(e,a){i(".uploadloading").remove(),e.code?(n.onUploadDone(),new n.modal("信息提示",e.message).alert()):(n.onUploadSucess(e.data),r(t))},error:function(){n.onUploadDone()}}),!1})};d()},a.prototype.onUploadDone=function(){this.isUploading=!1,i(".uploadloading").remove()},a.prototype.onUploadSucess=function(t){if(this.uploadSuccessNum++,this.uploadSuccessNum==this.uploadTotalNum){this.onUploadDone();var e='<div class="uploadType uploadSuccess"><i></i><span>上传成功！</span></div>';this.options.loadingElem?this.options.loadingElem.html(e):i(".deposite-important").eq(0).before(e),setTimeout(function(){i(".uploadSuccess").remove()},3e3)}if(t.indexOf("<")!=-1&&(t=t.split("<")[0]),0===t.indexOf("{"))try{t=JSON.parse(t)}catch(a){}this.options.file=t,this.func(t)},e.Plugin.Upload=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t,e,a){this.box=t,this.isWap=e,a=!!a&&a,this.validList=a?i(t).find("[valid]:visible"):i(t).find("[valid]");var n=this;i.each(this.validList,function(t,e){n.bindItemBlurEvent(e,n.box)})},n=function(t,i,a){t.attr("invalid",!0).addClass("error"),i?(i.removeClass("hide").html('<i class="icon-prefect-error"></i> '+a).addClass("show animated fadeIn"),setTimeout(function(){i.removeClass("animated fadeIn")},1500)):this.isWap?new e.Plugin.WapModal(a).alert():new e.Plugin.Modal("提示信息",a).alert()},o=function(t){t&&t.addClass("hide")};a.prototype.bindItemBlurEvent=function(t,e){var a=i(t).attr("valid"),n=i(t).attr("require"),o=i(t).attr("equalTo");(a||n||o)&&i(t).unbind("blur").blur(function(){s(t,e)})};var r=function(t,e,a,r,s){if(1!=r.split("/").length||1!=r.split(".").length){if(r.split(".").length>1)try{r=new Function("return EDZ.CONST.API."+r)()}catch(l){return void console.error(l)}if(t.attr("waitingCount")){var d=parseInt(t.attr("waitingCount"),10);t.attr("waitingCount",d+1)}else t.attr("waitingCount",1);var c=s.split("|"),p={};i.each(c,function(t,e){var a=e.split("_");2===a.length&&0===a[1].indexOf("#")&&(p[a[0]]=i(a[1]).val().trim()),2===a.length&&a[1].indexOf("#")<0&&(p[a[0]]=a[1].trim())}),i.getJSON(r,p).done(function(i){var r=parseInt(t.attr("waitingCount"),10);r>0&&t.attr("waitingCount",r-1),i.code&&e.attr("asyncError")?n(e,a,e.attr("asyncError")):i.code&&!e.attr("asyncError")?n(e,a,i.message):(o(a),e.removeAttr("invalid").removeClass("error"))})}},s=function(t,a){var s=i(t),l=i.trim(s.val()),d=s.attr("valid"),c=s.attr("require"),p=s.attr("equalTo"),u=s.attr("async"),h=s.attr("asyncParams"),m=s.attr("container"),f=null,v=s.attr("minlength"),g=s.attr("maxBytesNum");if(s.attr("errorTarget")&&(f=m?s.closest(m).find("#"+s.attr("errorTarget")):i("#"+s.attr("errorTarget"))),c&&("checkbox"==s.attr("type")||"radio"==s.attr("type"))&&!s.is(":checked"))return n(s,f,s.attr("error")),!1;if(c&&!e.Validate.required(l))return n(s,f,s.attr("emptyError")),!1;if(v&&l.length<v)return n(s,f,s.attr("error")),!1;if(l.length>0){if(d&&e.Validate[s.attr("valid")]){var y=e.Validate[s.attr("valid")](l);if(!y)return n(s,f,s.attr("error")),!1}if(p&&l!=i("#"+p).val().trim())return n(s,f,s.attr("equalToError")||s.attr("error")),!1;u&&h&&r(a,s,f,u,h)}if(g&&g>0){var b=e.Common.calculateCharacterNum(l,!0);if(b>g)return n(s,f,"最大不超过"+g/2+"字"),!1}o(f),s.removeAttr("invalid").removeClass("error")};a.prototype.doValid=function(t){if(t)for(var e=0;e<this.validList.length;e++){var a=this.validList[e];if(!s(a,this.box))break}else{var n=this;i.each(this.validList,function(t,e){s(e,n.box)})}},e.Plugin.Validate=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Plugin){var a=function(t){this.content=t,this.width=width||0,this.isAlert=!1};a.prototype.open=function(){if(this.temp=i(juicer(e.template.wapModal,{title:this.title,content:this.content,isAlert:this.isAlert})),i(document.body).append(this.temp),!this.isAlert){var t=this;this.temp.find(".close").click(function(){t.close()})}},a.prototype.alert=function(t){this.isAlert=!0,e.Common.isFunction(this.open)&&this.open();var a=this;setTimeout(function(){a.temp.fadeOut(500,function(){i(this).remove(),t()})},2e3)},a.prototype.confirm=function(t,i){if(e.Common.isFunction(this.open)&&this.open(),this.temp.find(".ok-btn").click(t),i&&e.Common.isFunction(i))this.temp.find(".cancel-btn").click(i);else{var a=this;this.temp.find(".cancel-btn").click(function(){a.close()})}},a.prototype.close=function(){this.temp.fadeOut(500,function(){i(this).remove()})},e.Plugin.WapModal=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.DEPOSIT_STATUS_HEAD};a.prototype.getIsApplied=function(t){return this.get(this.api.IF_APPLIED,t,!0)},a.prototype.getDepositAmount=function(t){return this.get(this.api.DEPOSIT_AMOUNT,t,!0)},e.Service.DepositHead=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.DEPOSIT_AMOUNT};a.prototype.getAmount=function(t){return this.get(this.api.APPLY_AMOUNTGET,{improveApplyId:t})},a.prototype.getCurrentQuata=function(){return this.get(this.api.GET_CUSTOMER_CREDIT,{})},a.prototype.submitAmount=function(t){return this.post(this.api.APPLY_AMOUNT,{applyAmount:t.amountnum,applyMessage:t.machine,remark:t.remark})},a.prototype.amountModify=function(t){return this.post(this.api.MODIFY_AMOUNT,{improveApplyId:t.improveApplyId,
applyAmount:t.amountnum,applyMessage:t.machine,remark:t.remark})},a.prototype.amountHistory=function(t){return this.get(this.api.HISTORY_AMOUNT,t,!0)},e.Service.AmountService=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.DEPOSIT};a.prototype.getCreditApplyInfo=function(t){return this.get(this.api.GET_CREDIT_APPLY_INFO,{},t)},a.prototype.applyCompanyInfo=function(t){return this.post(this.api.APPLY_COMPANY_INFO,{creditApply:JSON.stringify(t)})},a.prototype.submitShareholderInfo=function(t){return this.post(this.api.SUBMIT_SHAREHOLDER_INFO,{legalPersonName:t.legalPersonName,idCardNo:t.idCardNo,cardImgFront:t.cardImgFront,cardImgBack:t.cardImgBack,phoneNumber:t.phoneNumber,sparePhoneNumber:t.sparePhoneNumber,eduPhotos:t.eduPhotos,bankName:t.bankName,bankCardNo:t.bankCardNo,shareholdWorkExperience:JSON.stringify(t.shareholdWorkExperience)})},a.prototype.saveShareholder=function(t){return this.post(this.api.SAVE_SHARE_HOLDER,{shareHold:JSON.stringify(t)})},a.prototype.saveLoanapply=function(t){var e=[];for(var i in t){var a=t[i];e.push(a)}return this.post(this.api.SEAVE_LOANAPPLY,{loanApply:JSON.stringify(e)})},a.prototype.saveAttach=function(t){var e=t.map(function(t,e,i){if("string"==typeof t){if(t.indexOf("url")==-1)return{path:t};var a=JSON.parse(t);return a.path=a.url,delete a.url,a}return t.path=t.path,t});return this.post(this.api.SAVE_ATTACH,{attachList:JSON.stringify(e)})},a.prototype.queryAttach=function(){return this.get(this.api.QUERY_ATTACH,{},!0)},a.prototype.getCompanyInfo=function(){return this.get(this.api.GET_COMPANY_CREDENTIALS,{},!0)},a.prototype.getIncubatorList=function(){return this.get(this.api.GET_INCUBOTOR,{},!0)},a.prototype.queryShareholder=function(){return this.get(this.api.QUERY_ShAREHOLDER,{},!0)},a.prototype.saveCompleteLoanApply=function(){return this.post(this.api.SEAVE_COMPLETE_loanApply,{},!0)},a.prototype.queryLoanApply=function(){return this.get(this.api.QUERY_LOAN_APPLY,{},!0)},a.prototype.queryZmxy=function(t){return this.get(this.api.QUERY_ZMXY,{cardNo:t},!0)},a.prototype.mentionPlan=function(){return this.get(this.api.MENTION_PLAN,!0)},a.prototype.getApplyOperationRecords=function(){return this.get(this.api.GET_APPLY_OPERATION_RECORDS,!0)},a.prototype.getInformation=function(){return this.get(this.api.GET_INFORMATION,!0)},a.prototype.getHistoryInfo=function(t){return this.get(this.api.GET_SUPPLEMENT_IFO,t,!0)},a.prototype.getShareHolderInfo=function(t){return this.get(this.api.GET_SHAREHOLDER_INFO,t,!0)},a.prototype.getShareholderFinancialInfo=function(t){return this.get(this.api.GET_SHARE_HOLDER_FINANCIALINFO,{shareholderId:t.shareholderId},!0)},a.prototype.getCategoryInfo=function(t){for(var i=0;i<t.length;i++){var a=t[i],n=e.CONST.CATEGORY_INFO[a.category]?e.CONST.CATEGORY_INFO[a.category]:{type:"--",category:"--"};t[i].type_text=n.type,t[i].category_text=n.category}return t},a.prototype.queryCreditChangeList=function(t){return this.post(this.api.QUERY_CREDIT_CHANGE_LIST,{isAll:t})},a.prototype.submitApplycationInfo=function(t){return this.post(this.api.SUBMIT_APPLICATION_INFO,{applyId:t.applyId,creditNeeded:t.creditNeeded,numberNeeded:t.numberNeeded,brandNeeded:t.brandNeeded})},a.prototype.getCronApplyPlan=function(t){return this.get(this.api.GET_CRONAPPLY_PLAY,{})},e.Service.Deposit=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.post=e.Service.Ajax.post,this.get=e.Service.Ajax.get,this.api=e.CONST.API.MYCOUPON};a.prototype.getCouponList=function(t){return this.post(this.api.GET_COUPON_LIST,{status:t.status,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.createCoupon=function(t){return this.post(this.api.CREATE_COUPON,{getCode:t})},a.prototype.getEnableCouponList=function(t){return this.get(this.api.GET_ENABLE_COUPON_LIST,{amount:t,isFirstMonth:!0})},e.Service.MyCoupon=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.DEPOSIT_UPLOAD};a.prototype.securityUpload=function(t){return this.post(this.api.UPLOAD_SECURITY,{type:t.type,attachments:t.attachments,remark:t.remark,supplementId:t.supplementId})},a.prototype.getSuppleType=function(t){return this.get(this.api.GETSUPPLETYPE,{supplementId:t})},e.Service.UploadService=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.DEPOSIT_SHARESUPPLEMENTARY};a.prototype.shareHolderInfoUpload=function(t){return this.post(this.api.UPLOAD_SHARESUPPLEMENTARY,{id:t.id,type:t.type,attachments:t.attachments,remark:t.remark,supplementId:t.supplementId})},a.prototype.getShareholderType=function(t){return this.get(this.api.GETSHARESUPPLETYPE,{supplementId:t.supplementId})},e.Service.UploadShareholder=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.post=e.Service.Ajax.post,this.get=e.Service.Ajax.get,this.api=e.CONST.API.WORKFORM};a.prototype.queryWorkformList=function(t){return this.get(this.api.QUERY_WORKFORM_LIST,{startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.submitWorkform=function(t){return this.post(this.api.SUBMIT_WORKFORM,{title:t.title,content:t.content,source:t.source,files:t.files})},a.prototype.queryWorkformDetail=function(t){return this.get(this.api.QUERY_WORKFORM_DETAIL,{workId:t.workId})},a.prototype.addReply=function(t){return this.post(this.api.ADD_REPLY,{workId:t.workId,content:t.content,files:t.files})},a.prototype.closeWorform=function(t){return this.post(this.api.CLOSE_WORKFORM,{workId:t.workId})},a.prototype.submitEvaluation=function(t){return this.post(this.api.ADD_EVALUATION,{workId:t.workId,evaluationResult:t.evaluationResult,evaluationStar:t.evaluationStar})},e.Service.Workform=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.ADDRESS};a.prototype.create=function(t){return this.post(this.api.CREATE,{name:t.name,provinceId:t.provinceId,bcityId:t.bcityId,scityId:t.scityId,address:t.address,phone:t.phone})},a.prototype.modify=function(t){return this.post(this.api.MODIFY,{id:t.id,name:t.name,provinceId:t.provinceId,bcityId:t.bcityId,scityId:t.scityId,address:t.address,phone:t.phone})},a.prototype.remove=function(t){return this.post(this.api.REMOVE,{id:t})},a.prototype.getDetail=function(t){return this.get(this.api.GET_DETAIL,{id:t})},a.prototype.setDefault=function(t){return this.post(this.api.MODIFY,{id:t,isDefault:1})},a.prototype.getList=function(){return this.get(this.api.GET_LIST,null)},e.Service.Address=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){return moment(new Date).format("x")},n=function(t,i,a){if(e.Common.isString(i))try{i=JSON.parse(i)}catch(n){}if(i.code&&i.message&&!a)if(2==i.code){if(location.pathname.indexOf("login")!==-1)return;new e.Plugin.Modal("提示信息",i.message).alert(function(){location.href=ROOT_PATH+"/login"})}else new e.Plugin.Modal("提示信息",i.message).alert();t.resolve(i)},o={post_sync:function(t,e,o){var r=i.Deferred();return e=i.extend({v:a()},e||{}),i.ajax({type:"POST",async:!1,url:t,data:e,success:function(t){n(r,t,o)}}),r.promise()},get:function(t,e,o){var r=i.Deferred();return e=i.extend({v:a()},e||{}),i.getJSON(t,e,function(t){n(r,t,o)}),r.promise()},post:function(t,e,o){var r=i.Deferred();return e=i.extend({v:a()},e||{}),i.post(t,e,function(t){n(r,t,o)}),r.promise()},jsonP:function(t,o,r){var s=i.Deferred();return o=i.extend({v:a()},o||{}),i.ajax({type:"get",async:!1,url:t,data:o,dataType:"jsonp",success:function(t){e.Common.isString(t)&&(t=JSON.parse(t)),n(s,t,r)}}),s.promise()},upload:function(t,a,o){var r=i.Deferred();return i.ajax({url:t,type:"post",processData:!1,contentType:!1,data:a,success:function(t){e.Common.isString(t)&&(t=JSON.parse(t)),n(r,t,o)}}),r.promise()}};e.Service.Ajax=o}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(t){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.AREA,this.isRisk=t};a.prototype.getAllProvince=function(){return this.isRisk?this.get(this.api.RISK_GET_PROVINCES,{}):this.get(this.api.GET_PROVINCES,{})},a.prototype.getCities=function(t){return this.isRisk?this.get(this.api.RISK_GET_CITIES,{provinceId:t}):this.get(this.api.GET_CITIES,{pid:t})},a.prototype.getDistricts=function(t){return this.isRisk?this.get(this.api.RISK_GET_DISTRICT,{cityId:t}):this.get(this.api.GET_DISTRICT,{pid:t})},e.Service.Area=a}}(window,window.EDZ,window.jQuery),function(t,e,i,a){"use strict";if(e&&e.Service){var n=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.BILL};n.prototype.getTotalPayableAmount=function(t){return this.get(this.api.GET_TOTAL_PAYABLE_AMOUNT,t,!0)},n.prototype.getBillMonthDetail=function(t){return this.get(this.api.GET_BILL_MONTH_DETAIL,t,!0)},n.prototype.exportBill=function(t){location.href=this.api.EXPORT_BILL+"?v="+a(new Date).format("x")+"&month="+t},e.Service.Bill=n}}(window,window.EDZ,window.jQuery,window.moment),function(t,e,i,a){"use strict";if(e&&e.Service){var n=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.BILLMONTH};n.prototype.getTotalPayableAmount=function(t){return this.get(this.api.GET_TOTAL_PAYABLE_AMOUNT,t,!0)},n.prototype.getBillMonthDetail=function(t){return this.get(this.api.GET_BILL_MONTH_DETAIL,t,!0)},n.prototype.exportBill=function(t,e){location.href=this.api.EXPORT_BILL+"?v="+a(new Date).format("x")+"&month="+t+"&notPaid="+e},n.prototype.getLatestBillNeedShow=function(){return this.get(this.api.GET_LATEST_BILL_NEED_SHOW,{},!0)},n.prototype.confirmLatestBill=function(t,e){return this.post(this.api.CONFIRM_LATEST_BILL,{billStatus:t,telphone:e},!0)},e.Service.Billmonth=n}}(window,window.EDZ,window.jQuery,window.moment),function(t,e,i){"use strict"}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.CUSTOMER};a.prototype.login=function(t,e){return this.post(this.api.LOGIN,t,e)},a.prototype.doLogin=function(t){var e={phone:t.phone,password:t.password,autoLogin:t.autoLogin,NECaptchaValidate:t.validate};return this.post(this.api.DOLOGIN,e)},a.prototype.register=function(t){return this.post(this.api.REGISTER,t)},a.prototype.active=function(t){return this.post(this.api.ACTIVE,t)},a.prototype.checkLoginCount=function(t){return this.get(this.api.CHECK_LOGIN_COUNT,t)},a.prototype.checkPhoneIsRegister=function(t){return this.post(this.api.CHECK_PHONE_IS_REGISTER,t,!0)},a.prototype.checkPhoneIsActivate=function(t){return this.post(this.api.CHECK_PHONE_IS_ACTIVATE,t,!0)},a.prototype.checkAccountIsRegisted=function(t){return this.post(this.api.CHECK_ACCOUNT_IS_REGISTER,t,!0)},a.prototype.checkImageCode=function(t){return this.post(this.api.CHECK_IMAGE_CODE,t,!0)},a.prototype.checkModifyPhoneNext=function(t){return this.post(this.api.MODIFY_PHONE_NEXT,t)},a.prototype.checkSmsCode=function(t){return this.post(this.api.CHECK_SMS_CODE,t,!0)},a.prototype.forgetPassword=function(t){return this.post(this.api.FORGET_PASSWORD,t)},a.prototype.sendSms=function(t){var e={phone:t.phone,NECaptchaValidate:t.validate,channelId:t.channelId,typeId:t.typeId};return this.post(this.api.SEND_SMS_CODE,e)},a.prototype.sendSmsCode=function(t){var e={phone:t.phone,NECaptchaValidate:t.validate,channelId:t.channelId};return t.isReg?e.typeId=0:e.typeId=1,this.post(this.api.SEND_SMS_CODE,e)},a.prototype.pushSmsCode=function(t,e){return e?t.typeId=0:t.typeId=1,this.post(this.api.PUSH_SMS_CODE,t)},a.prototype.logout=function(){return this.post(this.api.LOGOUT)},a.prototype.getMobile=function(){return this.get(this.api.GET_CUSTOMER_MOBILE,null,!0)},a.prototype.getCreditBatch=function(){return this.get(this.api.GET_CUSTOMER_CREDIT_BATCH,null,!0)},a.prototype.getManager=function(){return this.get(this.api.GET_CUSTOMER_MANAGER,null,!0)},a.prototype.modifyPassword=function(t,e){return this.post(this.api.MODIFY_PASSWORD,{newPass:e,pass:t})},a.prototype.bindingPhone=function(t,e){return this.post(this.api.MODIFY_BINDING_PHONE,{newPhone:t,smsCode:e})},a.prototype.modifyNoticePhone=function(t,e){return this.post(this.api.MODIFY_NOTICE_PHONE,{newPhone:t,smsCode:e})},a.prototype.registerImprove=function(t){return this.post(this.api.REGISTER_IMPROVE,{companyName:t.companyName,employeeNumType:t.employeeNumType,registerName:t.registerName,registerJob:t.registerJob,registerEmail:t.registerEmail})},a.prototype.getAuthType=function(t){return this.post(this.api.GET_AUTHTYPE,{phone:t})},a.prototype.getRecycleList=function(t,e){return this.get(this.api.GET_CUSTOMER_RECYCLE_LIST,{startIndex:t,pageSize:e})},a.prototype.getReturnDeviceList=function(t){return this.get(this.api.QUERY_RETURN_DEVICE_LIST,{query:t.query,status:t.status,rangeType:t.rangeType,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.getWaitPayOrderCount=function(){return this.get(this.api.GET_CUSTOMER_WAIT_PAY_ORDER_COUNT,{})},a.prototype.getReceiveOrderCount=function(){return this.get(this.api.GET_CUSTOMER_RECEIVE_ORDER_COUNT,{})},a.prototype.getRentProductCount=function(){return this.get(this.api.GET_CUSTOMER_RENT_PRODUCT_COUNT,{})},a.prototype.getCopeArrears=function(){return this.get(this.api.GET_CUSTOMER_ARREARS,{})},a.prototype.getBills=function(){return this.get(this.api.GET_CUSTOMER_BILLS,{})},a.prototype.getPhoneByToken=function(){return this.get(this.api.GET_PHONE_BY_TOKEN,{},!0)},a.prototype.applyRecycleDevice=function(t){return this.post(this.api.APPLY_RECYCLE_DEVICE,{type:t.type,phone:t.phone,remark:t.remark})},a.prototype.queryCustomerTrans=function(t){return this.post(this.api.QUERY_CUSTOMER_TRANS,{orderId:t.orderId,rangeType:t.rangeType,billType:t.billType,accountType:t.accountType,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.commitWithdraw=function(t){return this.post(this.api.COMMIT_WITHDRAW,{amount:t})},a.prototype.cancelWithdraw=function(t){return this.post(this.api.CANCEL_WITHDRAW,{id:t})},a.prototype.checkNoticeModifyPhone=function(){return this.post(this.api.CHECK_NOTICE_MODIFY_PHONE,{})},a.prototype.stopNoticeModifyPhone=function(){return this.post(this.api.STOP_NOTICE_MODIFY_PHONE,{})},a.prototype.pushSmsByPhone=function(t){return this.post(this.api.PUSH_SMS_CODE,{imgCode:t.imgCode,phone:t.phone,channelId:1,typeId:1})},a.prototype.sendSmsByPhone=function(t,e){return this.post(this.api.SEND_SMS_CODE,{NECaptchaValidate:e,phone:t,channelId:1,typeId:1})},a.prototype.loginByPhone=function(t){return this.post(this.api.LOGIN_BY_PHONE,{phone:t.phone,smsCode:t.smsCode,autoLogin:t.autoLogin,from_ad_source:t.from_ad_source})},a.prototype.checkIsGoalCustomer=function(){return this.post(this.api.CHECK_IS_GOAL_CUSTOMER,{},!0)},a.prototype.getTopNotice=function(){return this.post(this.api.TOP_NOTICE,{})},a.prototype.checkPhoneIsUseable=function(t){return this.post(this.api.CHECK_PHONE_IS_USABLE,{phone:t},!0)},a.prototype.verifyGetbackPwdPhone=function(t){return this.post(this.api.VERIFY_GETBACK_PHONE,{phone:t},!0)},a.prototype.getGuide=function(){return this.post(this.api.GET_GUIDE,{},!0)},a.prototype.updatePersonal=function(){return this.post(this.api.UPDATE_PERSONAL,{},!0)},a.prototype.sendASmsByPhone=function(t){return this.post(this.api.SEND_SMS_CODE,{NECaptchaValidate:t.validate,phone:t.phone,channelId:1,typeId:t.typeId||1})},a.prototype.joinCompany=function(t){return this.post(this.api.JOIN_COMPANY,{phone:t.phone,smsCode:t.smsCode},!0)},a.prototype.unbindCompany=function(){return this.post(this.api.UNBIND_COMPANY,{},!0)},e.Service.Customer=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.CUSTOMER_SAY};a.prototype.getCustomerSayList=function(){return this.get(this.api.GET_CUSTOMER_SAY_LIST,null)},e.Service.CustomerSay=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.EMAIL.UNSUBSCRIBE};a.prototype.unsubscribe=function(t){return this.post(this.api,{companyName:t.companyName,emailAddress:t.emailAddress,imageCode:t.imageCode})},e.Service.EmailService=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.post=e.Service.Ajax.post,this.api=e.CONST.API.EquipmentRecycle};a.prototype.applyEquipmentRecycle=function(t){return this.post(this.api.APPLY_EQUIPMENT_RECYCLE,{companyName:t.companyName,contact:t.contact,phone:t.phone,num:t.num,year:t.year,category:t.category,brand:t.brand,remark:t.remark,secCustomerManager:t.secCustomerManager})},e.Service.EquipmentRecycle=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.GROUP};a.prototype.getReturnGroupAccountMain=function(){return this.get(this.api.GROUP_ACCOUNT_MAIN,{})},a.prototype.groupDataEmbedding=function(t){return this.post(this.api.GROUP_DATA_EMBEDDING,{clickBanner:t.clickBanner?t.clickBanner:null,propagandaTime:t.propagandaTime?t.propagandaTime:null,clickApply:t.clickApply?t.clickApply:null,applyTime:t.applyTime?t.applyTime:null,applySuccess:t.applySuccess?t.applySuccess:null},!0)},a.prototype.loginToGroupAccountSystem=function(){return this.post(this.api.LOGIN_TO_GROUP_ACCOUNT_SYSTEM,{})},e.Service.Group=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.HELP};a.prototype.getHelpMenu=function(){return this.get(this.api.MENU,null)},e.Service.HelpAbout=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.INVOICE};a.prototype.getList=function(t,e){return this.get(this.api.GET_LIST,{startIndex:(t-1)*e,pageSize:e})},a.prototype.getDetail=function(t){return this.get(this.api.GET_DETAIL,{id:t})},a.prototype.cancelRequest=function(t){return this.post(this.api.CANCEL_REQUEST,{id:t})},a.prototype.submitRequest=function(t){var e=t.chosenBill?this.api.COMMIT_INVOICE_REQUEST_BASE_BILL:this.api.SUBMIT_REQUEST;return this.post(e,t)},a.prototype.queryInvoiceNoticeInfo=function(){return this.post(this.api.QUERY_NOTICE,{})},a.prototype.queryAllOrderBillMonthly=function(){return this.get(this.api.QUERY_ALL_ORDER_BILL_MONTHLY,{})},a.prototype.showInvoiceImg=function(t){return this.get(this.api.GET_INVOICE_IMG,{id:t})},a.prototype.downloadInvoiceImg=function(e){return t.open(this.api.DOWNLOAD_INVOICE_IMG+"?id="+e)},a.prototype.getEInvoiceDetail=function(t){return this.get(this.api.GET_E_INVOICE_DETAIL+"?mallInvoiceRequest="+t)},a.prototype.payBillByApplyInvoice=function(t){return this.post(this.api.PAYBILL_BY_APPLYINVOICE,{customerId:t.customerId,billMonthList:JSON.stringify(t.billMonthList)})},e.Service.Invoice=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.post_sync=e.Service.Ajax.post_sync,this.api=e.CONST.API.ORDER,this.dataMap={rentType:["未知","随租随还","固定租期","租完即送","随租随还","短期租赁"],status:["已下单等待确认","已确认等待配货","已取消","开始配货","配货完成","已发货","租赁中","已完成"],paymentType:["未知","在线支付","银行转账","货到付款"],isExpire:["未逾期","逾期"],payStatus:["未支付","已支付"]}};a.prototype.queryMyOrderList=function(t){return this.get(this.api.QUERY_MY_ORDER_LIST,t)},a.prototype.modifyCarts=function(t){return this.post(this.api.MODIFY_CARTS,t)},a.prototype.getCartProductCountFromServer=function(){return this.get(this.api.GET_CART_PRODUCT_COUNT,{},!0)},a.prototype.createRechargeOrder=function(t,e){return this.post_sync(this.api.CREATE_RECHARGE_ORDER,{total_fee:t,payType:e})},a.prototype.getDeviceInfo=function(t,e){return this.get(this.api.GET_DEVICE_LIST,{startIndex:t,pageSize:e})},a.prototype.getReturnDeviceNotice=function(){return this.get(this.api.GET_RETURN_DEVICE_NOTICE,null)},a.prototype.getDeviceList=function(t,e){return 1==e?this.get(this.api.QUERY_ORDER_RENT_ORDER,{nameOrOrderId:t.nameOrOrderId,startIndex:t.startIndex,pageSize:t.pageSize}):this.get(this.api.QUERY_ORDER_RENT_DEVICE,{nameOrOrderId:t.nameOrOrderId,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.querySnExpress=function(t){return this.get(this.api.QUERY_SNEXPRESS,{mainOrderId:t})},a.prototype.getOrderProductBill=function(t){return this.get(this.api.GET_ORDER_PRODUCT_BILL,{orderId:t})},a.prototype.orderCancel=function(t){return this.post(this.api.DELETE_ORDER,{orderId:t})},a.prototype.cancelOrder=function(t,e){var i=e?{mainOrderId:t}:{orderId:t};return this.post(this.api.CANCEL_ORDER,i)},a.prototype.createOrders=function(t){return this.post(this.api.CREATE_ORDERS,{source:t.source,orderCreateModels:t.orderCreateModels,customerAddressId:t.customerAddressId,paymentType:t.paymentType,balance:t.balance,userRemark:t.userRemark,couponId:t.couponId,eMoney:t.eMoney})},a.prototype.queryOnRentDevice=function(t){return this.get(this.api.QUERY_ON_RENT_DEVICE,{startDate:t.startDate,endDate:t.endDate,orderId:t.orderId,sn:t.sn,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.queryOnReturnDevices=function(t){return this.get(this.api.QUERY_ON_RETURN_DEVICE,{orderId:t.orderId,sn:t.sn,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.queryReturnDevices=function(t){return this.get(this.api.QUERY_RETURN_DEVICE,{startDate:t.startDate,endDate:t.endDate,orderId:t.orderId,sn:t.sn,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.queryFianceRentEndDevices=function(t){return this.get(this.api.QUERY_FIANCE_RENT_END_DEVICES,{startDate:t.startDate,endDate:t.endDate,orderId:t.orderId,sn:t.sn,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.queryOrderExchangeLog=function(t){return this.get(this.api.QUERY_ORDER_EXCHANGE_LOG,{orderId:t.orderId,sn:t.sn,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.queryOrderExchangeSendLog=function(t){return this.get(this.api.QUERY_ORDER_EXCHANGE_SEND_LOG,{startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.queryOrderReturnLog=function(t){return this.get(this.api.QUERY_ORDER_RETURN_LOG,{orderId:t.orderId,sn:t.sn,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.queryOrderReturnPackageLog=function(t){return this.get(this.api.QUERY_ORDER_RETURN_PACKAGE_LOG,{startDate:t.startDate,endDate:t.endDate,expressCode:t.expressCode,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.queryOrderReletLog=function(t){return this.get(this.api.QUERY_ORDER_RELET_LOG,{orderId:t.orderId,sn:t.sn,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.queryOrderAllocateLog=function(t){return this.get(this.api.QUERY_ORDER_ALLOCATE_LOG,{orderId:t.orderId,sn:t.sn,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.queryOrderRepairLog=function(t){return this.get(this.api.QUERY_ORDER_REPAIR_LOG,{orderId:t.orderId,sn:t.sn,startIndex:t.startIndex,pageSize:t.pageSize})},a.prototype.validateProductStock=function(t){return this.post(this.api.VALIDATE_PRODUCT_STOCK,{orderCreateModels:t.orderCreateModels})},a.prototype.cancelSubProductOrder=function(t){return this.post(this.api.CHECK_SUB_PRODUCT_CANCEL,{orderId:t.orderId})},e.Service.Order=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.ORDER_RELET};a.prototype.queryOrderRelet=function(t){return this.get(this.api.QUERY_ORDER_RELET,{index:t.current_page-1,pageSize:t.pageSize})},a.prototype.createRelet=function(t){return this.post(this.api.CREATE_RELET,{orderId:t,isAll:t?0:1})},a.prototype.cancelRelet=function(t){return this.post(this.api.CANCEL_RELET,{orderId:t})},e.Service.Relet=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.post_sync=e.Service.Ajax.post_sync,this.api=e.CONST.API.PRODUCT};a.prototype.getQuickSearchKey=function(){return this.get(this.api.GET_QUICK_SEARCH_KEY,null)},a.prototype.getDeposit=function(t,e){return this.get(this.api.GET_PRODUCT_DEPOSIT,{productId:t,creditAmount:e})},a.prototype.getQAList=function(t){return this.get(this.api.GET_QA_LIST,{productId:t})},a.prototype.checkProductInfo=function(t){return this.post_sync(this.api.CHECK_PRODUCT_INFO,{productId:t},!0)},a.prototype.sendSmsToSale=function(t,e){return this.post(this.api.SEND_SMS_TO_SALER,{productId:t,rentMoney:e},!0)},a.prototype.createShipmentNotice=function(t,e,i){return this.post(this.api.CREATE_SHIPMENT_NOTICE,{productId:t,phone:e,contactPhone:i})},a.prototype.createQA=function(t,e){return this.post(this.api.CREATE_QA,{productId:t,question:e})},a.prototype.createProductLimit=function(t){return this.post(this.api.CREATE_PRODUCT_LIMIT,{productId:t.productId})},a.prototype.getDateLimit=function(){return this.post(this.api.DATE_LIMIT,{})},a.prototype.getProductCategory=function(){return this.get("/product/queryProductCategorySimple",null)},e.Service.Product=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.RELATION};a.prototype.queryAttch=function(t){return this.get(this.api.QUERY_RELATION,t)},a.prototype.goAttch=function(t){return this.post(this.api.GORELATION,{applyId:t.applyId,status:t.status})},a.prototype.getParentReceivePhone=function(t){return this.post(this.api.QUERY_GROUPPHONE,{groupId:t})},e.Service.RelationService=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Service){var a=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.DEPOSIT_SHAREHOLDER};a.prototype.addShareholder=function(t){return this.post(this.api.ADD_SHAREHOLDER,t)},a.prototype.getShareholder=function(t){return this.get(this.api.GET_SHAREHOLDER,{shareholderId:t})},a.prototype.editShareholder=function(t){return this.post(this.api.EDIT_SHAREHOLDER,t)},e.Service.ShareholderService=a}}(window,window.EDZ,window.jQuery),function(t,e,i,a){"use strict";if(e&&e.Service){var n=function(){this.get=e.Service.Ajax.get,this.post=e.Service.Ajax.post,this.api=e.CONST.API.CARTS};n.prototype.add=function(t,e,i){var n=[];a.each(t,function(t){n.push({productId:t.productId,num:t.num,rentType:t.rentType,rentTypeId:t.rentTypeId,payType:t.payType,month:t.month,startDate:t.startDate,isSale:t.isSale,serviceId:t.serviceId,insuranceTypeId:t.insuranceTypeId,addedServiceTypeId:t.addedServiceTypeId,suitsType:t.suitsType,softServiceTypeId:t.softServiceTypeId,onsiteServiceTypeId:t.onsiteServiceTypeId})});var o={orderCreateModels:JSON.stringify(n)};return e&&(o.source=e),this.post(this.api.ADD,o,i)},n.prototype.checkCarts=function(t){return this.post(this.api.CHECK_CARTS,{isChecked:t.isChecked,isSale:t.isSale})},n.prototype.removeCarts=function(t){return this.post(this.api.REMOVE_CARTS,{ids:t.ids})},n.prototype.cleanCarts=function(){return this.post(this.api.CLEAN_CARTS,{})},n.prototype.validateCarts=function(t){return this.post(this.api.VALIDATE_CARTS,{cartIds:t})},e.Service.ShoppingCart=n}}(window,window.EDZ,window.jQuery,window._),function(t,e){"use strict";if(e&&e.Validate){var i={required:function(t){return t.length>0},telMobile:function(t){return/^((0\d{2,3}-?\d{7,8})|(1[3-9]\d{9}))$/.test(t)},telMobile400:function(t){return/^((0\d{2,3}-?\d{7,8})|(1[3-9]\d{9})|(400((-?\d{3}-?\d{4})|(-?\d{4}-?\d{3})|(\d-?\d{3}-?\d{3}))))$/.test(t)},digitAndHyphen:function(t){return/^[\d\-]+$/.test(t)},characterAndDigit15Or18:function(t){return/^[\w\d]+$/.test(t)&&(15===t.length||18===t.length)},areaNumber:function(t){return/^(0\d{2,3})$/.test(t)},onlyTel:function(t){return/^\d{7,8}$/.test(t)},qq:function(t){return/^\d{5,11}$/.test(t)},telephone:function(t){return/^0\d{2,3}-?\d{7,8}$/.test(t)},mobilePhone:function(t){return/^1[3-9]\d{9}$/.test(t)},postCode:function(t){return/^[1-9][0-9]{5}$/.test(t)},money:function(t){return/^[0-9]*(\.[0-9]{1,2})?$/.test(t)},number:function(t){return/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},positiveInteger:function(t){return/^[1-9]\d*$/.test(Number(t))},characters:function(t){return/^\w+$/.test(t)},digits:function(t){return/^\d+$/.test(t)},characterAndDigit:function(t){return/^[\w|\d]+$/.test(t)},email:function(t){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])+(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t){return!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},password:function(t){return/^(?=.*?[a-zA-Z])(?=.*?[0-9])[a-zA-Z0-9]{8,32}$/.test(t)},passwordLogin:function(t){return t.length>=6&&t.length<=32},account:function(t){return/^[A-Za-z0-9]{8,32}$/.test(t)&&!/^\d*$/.test(t)},idCard:function(t){function e(t){return t=$.trim(t),15==t.length?i(t):18==t.length&&a(t)}function i(t){var e=parseInt(t.substring(6,8),10),i=parseInt(t.substring(8,10),10),a=parseInt(t.substring(10,12),10),n=new Date(e,i-1,a);return n.getYear()==e&&n.getMonth()==i-1&&n.getDate()==a}function a(t){function e(t){var e=parseInt(t.substring(6,10),10),i=parseInt(t.substring(10,12),10),a=parseInt(t.substring(12,14),10),n=new Date(e,i-1,a);return n.getFullYear()==e&&n.getMonth()==i-1&&n.getDate()==a}var i=e(t);if(i){var a=t.split(""),r=0;"x"==a[17].toLowerCase()&&(a[17]=10);for(var s=0;s<a.length-1;s++)r+=n[s]*parseInt(a[s],10);var l=r%11;return a[17]==o[l]}return!1}var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],o=[1,0,10,9,8,7,6,5,4,3,2];return e(t)},nickName:function(t){var e=function(t){if(null===t)return 0;"string"!=typeof t&&(t+="");var e=t.replace(/[^\x00-\xff]/g,"01").length;return e>=4&&e<=24};return e(t)},imgCode:function(t){return/^[0-9]{5}$|^[0-9]{6}$/.test(t)},smsCode:function(t){return/^[0-9]{6}$/.test(t)},companyRegCode:function(t){return t.length>=13&&t.length<=18},companyName:function(t){return/^[a-zA-Z0-9\u4E00-\u9FA5（）()]{3,}$/.test(t)},name:function(t){return/^[a-zA-Z0-9\u4E00-\u9FA5]{2,}$/.test(t)},luhmCheck:function(t){for(var e=t.substr(t.length-1,1),i=t.substr(0,t.length-1),a=[],n=i.length-1;n>-1;n--)a.push(i.substr(n,1));for(var o=[],r=[],s=[],l=0;l<a.length;l++)(l+1)%2==1?2*parseInt(a[l])<9?o.push(2*parseInt(a[l])):r.push(2*parseInt(a[l])):s.push(a[l]);for(var d=[],c=[],p=0;p<r.length;p++)d.push(parseInt(r[p])%10),c.push(parseInt(r[p])/10);for(var u=0,h=0,m=0,f=0,v=0,g=0;g<o.length;g++)u+=parseInt(o[g]);for(var y=0;y<s.length;y++)h+=parseInt(s[y]);for(var b=0;b<d.length;b++)m+=parseInt(d[b]),f+=parseInt(c[b]);v=parseInt(u)+parseInt(h)+parseInt(m)+parseInt(f);var C=parseInt(v)%10===0?10:parseInt(v)%10,w=10-C;return e==w},remark:function(t){return!/[\/'\"“”‘’]+/.test(t)},realName:function(t){return/^[a-zA-Z0-9\u4E00-\u9FA5·]{2,}$/.test(t)},address:function(t){return!/[\/'\"“”‘’]+/.test(t)}};e.Validate=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="phone-dlg-body">联系方式<input class="phone" value="${phone}" autocomplete="off" require="true" valid="mobilePhone" errorTarget="phoneError" error="手机号码格式不正确" emptyError="请输入手机号码"/><span id="phoneError"></span><div class="bounced-btn"><input type="button" value="确定" class="uc-bounced-button uc-submit" /><input type="button" value="取消" class="uc-bounced-button uc-cancel" /></div></div>';
e.Template.billQuestionDialog=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="window show">     <div class="bounced-main">         <h4 class="text-center">${title}</h4>     </div></div>';e.Template.dialog=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="select-box clearfix ${style_class}">                <span class="selected-text" data-value >${default_text}</span>                <i class="icon-arrow-down"></i>            </div>            <ul class="dropdown-list">            \t{@each data as item, index}\t                <li class="dropdown-item" data-value="${item.value}">${item.text}</li>                {@/each}            </ul>';e.Template.dropdown=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<h6 class="warm-tip">${tipMessage}</h6>';e.Template.warmTip=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="window"><div class="ie-tips-box"><span class="close">×</span><div class="title1">您正在使用低版本的IE浏览器</div><div class="title2">低版本的IE浏览器可能无法正常登录或注册，请更换或升级浏览器<br/>易点租将竭诚为您服务</div><div class="goon-btn">继续访问</div><div class="ielogo clesrfix"><a href="https://ie.sogou.com/" target="_blank" class="lxqie"></a><a href="http://www.google.cn/intl/zh-CN/chrome/browser/desktop/index.html" target="_blank" class="chrom"></a><a href="http://www.firefox.com.cn/download/" target="_blank" class="firefox"></a><a href="http://browser.qq.com/" target="_blank" class="qq"></a><a href="http://se.360.cn/" target="_blank" class="lxq360"></a></div><div class="ietext clesrfix"><a href="https://ie.sogou.com/" target="_blank" class="lxqie">搜狗浏览器</a><a href="http://www.google.cn/intl/zh-CN/chrome/browser/desktop/index.html" target="_blank" class="chrom">谷歌浏览器</a><a href="http://www.firefox.com.cn/download/" target="_blank" class="firefox">火狐浏览器</a><a href="http://browser.qq.com/" target="_blank" class="qq">QQ浏览器</a><a href="http://se.360.cn/" target="_blank" class="lxq360">360浏览器</a></div></div></div>';e.Template.ieTips=i}}(window,window.EDZ),function(t,e,i){"use strict";if(e&&e.Template){var a='<div class="topLeft {@if items.length>3}six-left{@/if}">       <h4>当前需支付：<i id="currentPay">${totalPayableAmount}</i>元</h4>       <p class="{@if(totalPayableAmount==0 && needRechargeAmount==0) }hide{@/if}">(您的账户余额：<i id="accountBalance">${customerAvailableBalance.toFixed(2)}</i>元，充值<i>${needRechargeAmount.toFixed(2)}</i>元即可完成支付)</p>       <b class="icon-top-left"></b>   </div>   <div class="topCenter {@if items.length>3}six-center{@/if}">       <i {@if items.length>0} class="{@if items.length>3}icon-top-center-six{@else}icon-top-center-three{@/if}" {@/if}></i>   </div>   <div class="topRight {@if items.length>3}six-right{@/if}">       <div class="bill-table">           {@if items.length>0}               {@each items as item,index}               <div {@if index==items.length-1}class="border-bottom"{@/if}>                   <span>${item.monthString}</span>                   <span class="span-center">未付款金额{@if item.status=="已逾期"}（${item.status}）{@/if}：<i>${item.payableAmount}元</i></span>                   <span class="span-right"><a month="${item.monthString}" href="javascript:;">账单详情</a></span>               </div>               {@/each}           {@else}               <dl>                   <dt class="icon-no-detail"></dt>                   <dd>无明细显示</dd>               </dl>           {@/if}       </div>   </div>',n='<div class="list-billName">    <div class="list-item">        <span class="name-span">${title}</span>        <span class="title-span">${content}</span>        <span class="price-span">${total.toFixed(2)}元</span>        <span class="details-span" month="${month}" key="${key}">查看详情<i class="icon-details-show hide"></i></span>    </div>    <div class="list-details hide"></div></div>',o='<div class="details-cont">    <div class="header-table">        <div class="width-13-percent">品牌</div>        <div class="width-17-percent">订单号</div>        <div class="width-21-percent">序列号</div>        <div class="width-8-percent">设备状态</div>        <div class="width-8-percent">支付状态</div>        <div class="width-9-percent">下单日</div>        <div class="width-8-percent">租金（元）</div>        <div class="width-9-percent line-height-25 column-last">购买设备<br />金额（元）</div>    </div>    {@each items as item,index}   <div class="content-table">        <div class="width-13-percent {@if item.title}line-height-25{@/if}">           ${item.brand ? item.brand : "-"}           {@if item.title}<br />（<a tooltip content="${item.title}" href="javascript:;">配置</a>）{@/if}        </div>        <div class="width-17-percent" style="position: relative">           {@if item.orderId}<a target="_blank" href="'+ROOT_PATH+'/order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}           {@if item.orderSubscript==1}               <i class="icon-bill-order-new"></i>           {@else if item.orderSubscript==2}               <i class="icon-bill-order-continue"></i>           {@/if}        </div>        <div class="width-21-percent">${item.sn?item.sn:"-"}</div>        <div class="width-8-percent">${item.deviceStatus?item.deviceStatus:"-"}</div>        <div class="width-8-percent">${item.payStatus?item.payStatus:"-"}</div>        <div class="width-9-percent">${item.orderCreateDate}</div>        <div class="width-8-percent {@if item.rent}line-height-25{@/if}">${item.rent?item.rent.toFixed(2):"0.00"}{@if item.rent}<br />（<a tooltip content="${item.rentInterval}&nbsp;&nbsp;${item.rentSchedule}" href="javascript:;">租期</a>）{@/if}</div>        <div class="width-9-percent column-last">${item.sale?item.sale:"0.00"}</div>    </div>{@/each}   {@if items.length==0}<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>{@/if}   {@if items.length>10}<i class="icon-pack-up"></i>{@/if}</div>',r='<div class="details-cont">    <div class="header-table">        <div class="width-13-percent">品牌</div>        <div class="width-17-percent">订单号</div>        <div class="width-27-percent">序列号</div>        <div class="width-4-percent line-height-25">设备<br />状态</div>        <div class="width-4-percent line-height-25">支付<br />状态</div>        <div class="width-8-percent">下单日</div>        <div class="width-8-percent">退回日</div>        <div class="width-6-percent line-height-25">租金（元）</div>        <div class="width-6-percent line-height-25">调整金额<br />（元）</div>        <div class="width-6-percent column-last">备注</div>    </div>    {@each items as item,index}   <div class="content-table">        <div class="width-13-percent {@if item.title}line-height-25{@/if}">           ${item.brand ? item.brand : "-"}           {@if item.title}<br />（<a tooltip content="${item.title}" href="javascript:;">配置</a>）{@/if}        </div>        <div class="width-17-percent" style="position: relative">           {@if item.orderId}<a target="_blank" href="'+ROOT_PATH+'/order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}           {@if item.orderSubscript==1}               <i class="icon-bill-order-new"></i>           {@else if item.orderSubscript==2}               <i class="icon-bill-order-continue"></i>           {@/if}       </div>        <div class="width-27-percent">${item.sn?item.sn:"-"}</div>        <div class="width-4-percent {@if item.deviceStatus}line-height-25{@/if}">${item.deviceStatus?item.deviceStatus:"-"}</div>        <div class="width-4-percent {@if item.payStatus}line-height-25{@/if}">${item.payStatus?item.payStatus:"-"}</div>        <div class="width-8-percent">${item.orderCreateDate}</div>        <div class="width-8-percent">${item.returnDate}</div>        <div class="width-6-percent {@if item.rent}line-height-25{@/if}">${item.rent?item.rent.toFixed(2):"0.00"}{@if item.rent}<br />（<a tooltip content="${item.rentInterval}&nbsp;&nbsp;${item.rentSchedule}" href="javascript:;">租期</a>）{@/if}</div>        <div class="width-6-percent">${item.adjustAmount?item.adjustAmount.toFixed(2):"0.00"}</div>        <div class="width-6-percent column-last">{@if item.remark}<a tooltip content="${item.remark}">查看备注</a>{@else}-{@/if}</div>    </div>{@/each}   {@if items.length==0}<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>{@/if}   {@if items.length>10}<i class="icon-pack-up"></i>{@/if}</div>',s='<div class="details-cont">    <div class="header-table">        <div class="width-13-percent">品牌</div>        <div class="width-17-percent">订单号</div>        <div class="width-27-percent">序列号</div>        <div class="width-7-percent">设备状态</div>        <div class="width-7-percent">支付状态</div>        <div class="width-8-percent">下单日</div>        <div class="width-6-percent">租赁进度</div>        <div class="width-9-percent">租期</div>        <div class="width-5-percent column-last line-height-25"> 租金（元）</div>    </div>    {@each items as item,index}   <div class="content-table">        <div class="width-13-percent {@if item.title}line-height-25{@/if}">           ${item.brand ? item.brand : "-"}           {@if item.title}<br />（<a tooltip content="${item.title}" href="javascript:;">配置</a>）{@/if}        </div>        <div class="width-17-percent" style="position: relative">           {@if item.orderId}<a target="_blank" href="'+ROOT_PATH+'/order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}           {@if item.orderSubscript==1}               <i class="icon-bill-order-new"></i>           {@else if item.orderSubscript==2}               <i class="icon-bill-order-continue"></i>           {@/if}        </div>        <div class="width-27-percent">${item.sn?item.sn:"-"}</div>        <div class="width-7-percent">${item.deviceStatus?item.deviceStatus:"-"}</div>        <div class="width-7-percent">${item.payStatus?item.payStatus:"-"}</div>        <div class="width-8-percent">${item.orderCreateDate}</div>        <div class="width-6-percent">${item.rentSchedule?item.rentSchedule:"-"}</div>        <div class="width-9-percent {@if item.rentInterval}line-height-15{@/if}">           {@if item.rentInterval}<p style="margin-top: 2px">${item.rentInterval.split("~")[0]}</p>~<p>${item.rentInterval.split("~")[1]}</p>           {@else} - {@/if}       </div>        <div class="width-5-percent column-last">${item.rent?item.rent.toFixed(2):"0.00"}</div>    </div>{@/each}   {@if items.length==0}<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>{@/if}   {@if items.length>10}<i class="icon-pack-up"></i>{@/if}</div>',l='<div class="details-cont">    <div class="header-table">        <div class="width-9-percent">费用项目</div>        <div class="width-13-percent">品牌</div>        <div class="width-17-percent">订单号</div>        <div class="width-25-percent">序列号</div>        <div class="width-4-percent line-height-25">设备状态</div>        <div class="width-4-percent line-height-25">支付状态</div>        <div class="width-9-percent">下单日</div>        <div class="width-9-percent line-height-25">调整金额<br />（元）</div>        <div class="width-7-percent column-last">备注</div>    </div>    {@each items as item,index}   <div class="content-table">        <div class="width-12-percent">${item.itemName?item.itemName:"-"}           {@if (item.itemName === "展期租金")}<a class="icon-question" tooltip arr-left="-22" content="展期租金是原订单租期结束，未在规定日期内退回，每月以原订单租金为标准收取的费用"></a>{@/if}        </div>        <div class="width-13-percent {@if item.title}line-height-25{@/if}">           ${item.brand ? item.brand : "-"}           {@if item.title}<br />（<a tooltip content="${item.title}" href="javascript:;">配置</a>）{@/if}        </div>        <div class="width-17-percent" style="position: relative">           {@if item.orderId}<a target="_blank" href="'+ROOT_PATH+'/order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}           {@if item.orderSubscript==1}               <i class="icon-bill-order-new"></i>           {@else if item.orderSubscript==2}               <i class="icon-bill-order-continue"></i>           {@/if}        </div>        <div class="width-25-percent">${item.sn?item.sn:"-"}</div>        <div class="width-4-percent {@if item.deviceStatus}line-height-25{@/if}">${item.deviceStatus?item.deviceStatus:"-"}</div>        <div class="width-4-percent {@if item.payStatus}line-height-25{@/if}">${item.payStatus?item.payStatus:"-"}</div>        <div class="width-9-percent">${item.orderCreateDate?item.orderCreateDate:"-"}</div>        <div class="width-9-percent">${item.adjustAmount?item.adjustAmount.toFixed(2):"0.00"}</div>        <div class="width-7-percent column-last">{@if item.remark}<a tooltip content="${item.remark}">查看备注</a>{@else}-{@/if}</div>    </div>{@/each}   {@if items.length==0}<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>{@/if}   {@if items.length>10}<i class="icon-pack-up"></i>{@/if}</div>',d='<ul>    <li><span>新增设备租金</span><span>${ing.toFixed(2)}</span><i>+</i></li>    <li><span>往期设备租金</span><span>${oldIng.toFixed(2)}</span><i>+</i></li>    <li><span>退回设备租金</span><span>${oldBack.toFixed(2)}</span><i>+</i></li>    <li><span>其他调整项</span><span>${other.toFixed(2)}</span><i>-</i></li>    <li><span>已付金额</span><span>${paid.toFixed(2)}</span><i>=</i></li>    <li><span>未付金额</span><span class="span-color">${noPay.toFixed(2)}</span></li></ul>';e.Template.bill={list:n,firstMonthRentBillOutModel:o,nonFirstMonthRentBillOutModel:s,nonFirstMonthRentVirtualBillOutModel:s,allReturnBillOutModel:r,otherBillOutModel:l,header:a,detailBillMoney:d}}}(window,window.EDZ,window.moment),function(t,e,i){"use strict";if(e&&e.Template){var a='<div class="topLeft payment-list {@if items.length>3}six-left{@/if}"><h4>当前需支付：<i id="currentPay">${totalPayableAmount}</i>元</h4>{@if availableBalance > 0 || (payType != 1 && eMoney > 0)}<p class="dongshow">(您的{@if availableBalance > 0}现金余额<i id="accountBalance">${availableBalance.toFixed(2)}</i>元{@/if}{@if payType != 1 && availableBalance > 0 && eMoney > 0}，{@/if}{@if payType != 1 && eMoney > 0}e币余额<i>${eMoney.toFixed(2)}</i>元{@/if})</p>{@/if}<p class="dongshow {@if !cutMoneyDate || cutMoneyDate == "3000-01-01" || cutMoneyDate == "-"}hide{@/if}">请于<span>${cutMoneyDate}</span>之前进行支付</p><b class="icon-top-left"></b></div><div class="topCenter {@if items.length>3}six-center{@/if}"><i {@if items.length>0} class="{@if items.length>3}icon-top-center-six{@else}icon-top-center-three{@/if}" {@/if}></i></div>',n='{@if items.length > 0}<div class="header-table"><div class="width-11-percent">账单月份</div><div class="width-20-percent">账单周期</div><div class="width-8-percent">   付款日<a class="icon-question" tooltip arr-left="-22" content="付款日是易点租给用户的最后付款期限，若超过期限还未支付就会逾期，逾期会影响您的信用星级。"></a></div><div class="width-16-percent">账单金额（元）</div><div class="width-15-percent">已付金额（元）</div><div class="width-14-percent">未付金额（元）</div><div class="width-10-percent column-last">账单详情</div></div>{@each items as item,index}<div class="content-table"><div class="width-11-percent">${item.monthString}</div><div class="width-20-percent">${item.rentInterval}</div><div class="width-12-percent">{@if item.cutMoneyDate && item.cutMoneyDate != "3000-01-01"}${item.cutMoneyDate}{@else}<span style="color: #3da4e2;">等待发票签收</span>{@/if}</div><div class="width-16-percent">${item.totalPayableAmount}</div><div class="width-15-percent">${item.totalPayedAmount}</div><div class="width-14-percent">${item.payableAmount}<span class="overdue">{@if item.status=="已逾期"}（${item.status}）{@/if}</span></div><div class="width-10-percent column-last"><a class="checkList" month="${item.monthString}">查看</a></div></div>{@/each}{@else}{@/if}',o='{@each list as item, index}{@if item.status == 5}<div class="list-billName" style="width:985px;font-size:12px; color:#555; height:40px; line-height:40px; background:#fbfbfb;padding-left:15px;">以下为退款项，直接退还到账户余额中，不计入账单，支付账单时可直接抵扣。</div>{@/if}<div class="list-billName"><div class="list-item"><span class="name-span">${item.title}</span><span class="title-span {@if item.status == 4 || item.status == 5 || item.status == 6}line-height-20{@/if}">$${item.content}</span><span class="price-span"><i>${item.total.toFixed(2)}</i>元</span><span class="details-span" month="${item.month}" key="${item.key}">查看详情<i class="icon-details-show hide"></i></span></div><div class="list-details hide"></div></div>{@/each}',r='<tr class="content-table">        <td class="{@if item.title}line-height-25{@/if}">           ${item.brand ? item.brand : "-"}           {@if item.title}<br />（<a tooltip content="${item.title}" href="javascript:;">配置</a>）{@/if}        </td>        <td class="" style="position: relative">           {@if item.orderId}<a target="_blank" href="'+ROOT_PATH+'/order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}           {@if item.orderSubscript == 1}               <i class="orderSubscriptnew">新增</i>           {@else if item.orderSubscript == 2}               <i class="orderSubscriptcon">续租</i>           {@else if item.orderSubscript == 3}               <i class="allot">调拨</i>           {@/if}        </td>        <td class="" style="position: relative;">${item.sn?item.sn:"-"}           {@if item.payType == 2}               <i class="orderSubscriptnew">季付</i>           {@else if item.payType == 3}               <i class="no-return">半年付</i>           {@else if item.payType == 4}               <i class="orderSubscriptcon">年付</i>           {@/if}       </td>        <td class="">           {@if item.payStatus == "已逾期"}               <em>未支付</em>               <em class="overdue">(${item.payStatus?item.payStatus:"-"})</em>           {@else if item.status !="已逾期"}               ${item.payStatus?item.payStatus:"-"}           {@/if}        </td>        <td class="">${item.realStartDate?item.realStartDate:"-"}</td>        <td class="line-height-12" style="line-height: normal;"><p style="margin-top: 2px">           {@if item.rentInterval}            ${item.rentInterval.split("~")[0]}</p>~<p>${item.rentInterval.split("~")[1]}           {@else if !item.rentInterval}             -           {@/if}</td><td class="reduce-price-box {@if item.rent}line-height-25{@/if}" style="position:relative;">${item.rent?item.rent.toFixed(2):"0.00"}{@if item.oldRent != 0 && item.isContainSoftRentOrder != 1}<i class="reduce-price">降价<div class="old-price">原价格：${item.rent?item.oldRent.toFixed(2):"0.00"}元</div></i>{@/if}</td>        <td class="">           {@if item.perMonth == -1}-           {@else}                ${item.perMonth}            {@/if}        </td>        <td class="">${item.needPay ? item.needPay.toFixed(2) : "0.00"}</td>       {@if showCutMoneyDate}        <td class="">${item.cutMoneyDate}</td>       {@/if}        <td class="">{@if item.offsetList && item.offsetList.length > 0}<a class="show-charge-against-detail-btn">查看详情<i class="icon-arrow-up-blue"></i></a>{@else}-{@/if}</td>   </tr>   <tr class=""><td colspan="11">{@if item.offsetList && item.offsetList.length > 0}<table class="charge-aginst-table"><thead><th>费用项目</th><th>调整金额（元）</th><th>调整时间</th><th>备注</th></thead>{@each item.offsetList as offsetitem, offsetitemindex}<tr><td>${offsetitem.itemName}</td><td>${offsetitem.adjustAmount ? offsetitem.adjustAmount.toFixed(2):"0.00"}</td><td>${offsetitem.adjustDate}</td><td>{@if offsetitem.remark}<a tooltip content="${offsetitem.remark}">查看备注</a>{@else}-{@/if}</td></tr>{@/each}</table>{@/if}</td></tr>',s='<table class="details-cont with-charge-against-table"><tr class="header-table"><td class="">品牌</td><td class="">订单号</td><td class="">序列号</td><td class="">支付状态</td><td class="">起租日</td><td class="">租期</td><td class="">月租金（元）</td><td class="">应付期数</td><td class="">应付金额</td>{@if showCutMoneyDate}<td class="width-10-percent">付款日<a class="icon-question" tooltip arr-left="-22" content="付款日是易点租给用户的最后付款期限，若超过期限还未支付就会逾期，逾期会影响您的信用星级。"></a></td>{@/if}<td class="">操作</td></tr>{@if itemsMap[2] && itemsMap[2].billItemList}   {@each itemsMap[2].billItemList as item, index}'+r+'   {@/each}   <tr class="content-table"><td colspan="11" class="pay-type-desc">${itemsMap[2].payTypeDes}</td></tr>{@/if}{@if itemsMap[3] && itemsMap[3].billItemList}   {@each itemsMap[3].billItemList as item, index}'+r+'   {@/each}   <tr class="content-table"><td colspan="11" class="pay-type-desc">${itemsMap[3].payTypeDes}</td></tr>{@/if}{@if itemsMap[4] && itemsMap[4].billItemList}   {@each itemsMap[4].billItemList as item, index}'+r+'   {@/each}   <tr class="content-table"><td colspan="11" class="pay-type-desc">${itemsMap[4].payTypeDes}</td></tr>{@/if}{@if itemsMap[1] && itemsMap[1].billItemList}   {@each itemsMap[1].billItemList as item, index}'+r+"   {@/each}{@/if}{@if itemsMap[0] && itemsMap[0].billItemList}   {@each itemsMap[0].billItemList as item, index}"+r+'   {@/each}{@/if}{@if (!itemsMap[0] && !itemsMap[1] && !itemsMap[2] && !itemsMap[3] && !itemsMap[4])}<tr class="none-content-box"><td class="width-100-percent none-content">暂无信息</td></tr>{@/if}</table>{@if row_count > 10}<i class="icon-pack-up"></i>{@/if}',l='<div class="details-cont with-charge-against-table"><div class style="display: table-row;"><div class style="display: table-cell;"><div class="head-table"><div class="header-table"><div class="width-11-percent">品牌</div><div class="">订单号</div><div class="width-15-percent">序列号</div><div class="width-8-percent">支付状态</div><div class="width-10-percent">设备金额（元）</div><div class="width-10-percent">应付金额（元）</div>{@if showCutMoneyDate}<div class="width-10-percent">付款日</div>{@/if}<div class="width-7-percent column-last">操作</div></div></div></div></div>{@each items as item,index}<div class style="display: table-row;"><div class="table-cell"><div class="row-table" style="display: table; width: 100%;"><div class="content-table"><div class="width-11-percent {@if item.title}line-height-25{@/if}">${item.brand ? item.brand : "-"}{@if item.title}<br />（<a tooltip content="${item.title}" href="javascript:;">配置</a>）{@/if}</div><div class="" style="position: relative">{@if item.orderId}<a target="_blank" href="'+ROOT_PATH+'/order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}</div><div class="width-15-percent" style="position: relative">${item.sn?item.sn:"-"}</div><div class="width-8-percent">{@if item.payStatus == "已逾期"}<em>未支付</em><em class="overdue">(已逾期)</em>{@else}${item.payStatus?item.payStatus:"-"}{@/if}</div><div class="width-10-percent">${item.sale ? item.sale.toFixed(2) : "0.00"}</div><div class="width-10-percent">${item.needPay ? item.needPay.toFixed(2) : "0.00"}</div>{@if showCutMoneyDate}<div class="width-10-percent">${item.cutMoneyDate}</div>{@/if}<div class="width-7-percent column-last">{@if item.offsetList && item.offsetList.length > 0}<a class="show-charge-against-detail-btn">查看详情<i class="icon-arrow-up-blue"></i></a>{@else}-{@/if}</div></div></div>{@if item.offsetList && item.offsetList.length > 0}<table class="charge-aginst-table"><thead><th>费用项目</th><th>调整金额（元）</th><th>调整时间</th><th>备注</th></thead>{@each item.offsetList as offsetitem, offsetitemindex}<tr><td>${offsetitem.itemName}</td><td>${offsetitem.adjustAmount ? offsetitem.adjustAmount.toFixed(2):"0.00"}</td><td>${offsetitem.adjustDate}</td><td>{@if offsetitem.remark}<a tooltip content="${offsetitem.remark}">查看备注</a>{@else}-{@/if}</td></tr>{@/each}</table>{@/if}</div></div>{@/each}{@if !items || items.length==0}<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>{@/if}{@if items.length>10}<i class="icon-pack-up"></i>{@/if}</div>',d='<div class="details-cont with-charge-against-table"><div class style="display: table-row;"><div class style="display: table-cell;"><div class="head-table">    <div class="header-table">        <div class="width-10-percent">品牌</div>        <div class="">订单号</div>        <div class="width-10-percent">序列号</div>        <div class="width-8-percent">支付状态</div>        <div class="width-8-percent">起租日</div>        <div class="width-7-percent">租赁进度</div>        <div class="width-8-percent">租期</div>        <div class="width-7-percent line-height-25">               月租金/展期租金<a class="icon-question" tooltip arr-left="-22" content="展期租金是原订单租期结束，未在规定日期内退回，每月以原订单租金为标准收取的费用。"></a>       </div>        <div class="width-6-percent">应付期数</div>        <div class="width-6-percent">应付金额</div>       {@if showCutMoneyDate}        <div class="width-8-percent">               付款日<a class="icon-question" tooltip arr-left="-22" content="付款日是易点租给用户的最后付款期限，若超过期限还未支付就会逾期，逾期会影响您的信用星级。"></a>        </div>       {@/if}        <div class="width-6-percent column-last">操作</div>    </div></div></div></div>{@each items as item,index}<div class style="display: table-row;"><div class="table-cell"><div class="row-table" style="display: table; width: 100%;"><div class="content-table"><div class="width-10-percent {@if item.title}line-height-25{@/if}">${item.brand ? item.brand : "-"}{@if item.title}<br />（<a tooltip content="${item.title}" href="javascript:;">配置</a>）{@/if}</div><div class="{@if item.title}line-height-25{@/if}" style="position: relative">           {@if item.orderId}<a target="_blank" href="'+ROOT_PATH+'/order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}           {@if item.orderSubscript == 1}               <i class="orderSubscriptnew">新增</i>           {@else if item.orderSubscript == 2}               <i class="orderSubscriptcon">续租</i>           {@else if item.orderSubscript == 3}               <i class="allot">调拨</i>           {@else if item.orderBillType == 11}               <i class="no-return" tooltip content="展期租金是原订单租期结束，未在规定日期内退回，每月以原订单租金为标准收取的费用。">展期租金</i>           {@/if}        </div>        <div class="width-10-percent" style="position: relative">${item.sn?item.sn:"-"}           {@if item.payType == 2}               <i class="orderSubscriptnew">季付</i>           {@else if item.payType == 3}               <i class="no-return">半年付</i>           {@else if item.payType == 4}               <i class="orderSubscriptcon">年付</i>           {@/if}        </div>        <div class="width-8-percent">           {@if item.payStatus == "已逾期"}               <em>未支付</em>               <em class="overdue">(${item.payStatus?item.payStatus:"-"})</em>           {@else if item.status !="已逾期"}               ${item.payStatus?item.payStatus:"-"}           {@/if}        </div>        <div class="width-8-percent">${item.realStartDate}</div>        <div class="width-7-percent">${item.rentSchedule?item.rentSchedule:"-"}</div>        <div class="width-8-percent {@if item.rentInterval}line-height-12{@/if}">           {@if item.rentInterval}<p style="margin-top: 2px">${item.rentInterval.split("~")[0]}</p>~<p>${item.rentInterval.split("~")[1]}</p>           {@else} - {@/if}       </div>        <div class="width-7-percent reduce-price-box" style="position: relative">           ${item.rent?item.rent.toFixed(2):"0.00"}           {@if item.oldRent != 0 && item.isContainSoftRentOrder != 1}               <i class="reduce-price">降价                   <div class="old-price">原价格：${item.rent?item.oldRent.toFixed(2):"0.00"}元</div>               </i>           {@/if}        </div>        <div class="width-6-percent">           {@if item.perMonth == -1}-           {@else}${item.perMonth}           {@/if}        </div>        <div class="width-6-percent">${item.needPay ? item.needPay.toFixed(2) : "0.00"}</div>       {@if showCutMoneyDate}        <div class="width-8-percent">${item.cutMoneyDate}</div>       {@/if}        <div class="width-6-percent column-last">           {@if item.offsetList && item.offsetList.length > 0}<a class="show-charge-against-detail-btn">查看详情<i class="icon-arrow-up-blue"></i></a>{@else}-{@/if}       </div>    </div></div>{@if item.offsetList && item.offsetList.length > 0}<table class="charge-aginst-table"><thead><th>费用项目</th><th>调整金额（元）</th><th>调整时间</th><th>备注</th></thead>{@each item.offsetList as offsetitem, offsetitemindex}<tr><td>${offsetitem.itemName}</td><td>${offsetitem.adjustAmount ? offsetitem.adjustAmount.toFixed(2):"0.00"}</td><td>${offsetitem.adjustDate}</td><td>{@if offsetitem.remark}<a tooltip content="${offsetitem.remark}">查看备注</a>{@else}-{@/if}</td></tr>{@/each}</table>{@/if}</div></div>{@/each}{@if items.length==0}<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>{@/if}{@if items.length>10}<i class="icon-pack-up"></i>{@/if}</div>',c='<div class="details-cont with-charge-against-table"><div class style="display: table-row;"><div class style="display: table-cell;"><div class="head-table">    <div class="header-table">        <div class="width-9-percent">品牌</div>        <div class="">订单号</div>        <div class="width-9-percent">序列号</div>        <div class="width-7-percent line-height-25">支付状态</div>        <div class="width-9-percent">起租日</div>        <div class="width-7-percent">租赁进度</div>        <div class="width-9-percent">退回日</div>        <div class="width-7-percent">末期天数</div>        <div class="width-6-percent line-height-25">月租金（元）</div>        <div class="width-6-percent line-height-25">应付金额<br />（元）</div>       {@if showCutMoneyDate}        <div class="width-9-percent">               付款日<a class="icon-question" tooltip arr-left="-22" content="付款日是易点租给用户的最后付款期限，若超过期限还未支付就会逾期，逾期会影响您的信用星级。"></a>        </div>       {@/if}        <div class="width-6-percent column-last">操作</div>    </div></div></div></div>{@each items as item,index}<div class style="display: table-row;"><div class="table-cell"><div class="row-table" style="display: table; width: 100%;"><div class="content-table"><div class="width-9-percent {@if item.title}line-height-25{@/if}">           ${item.brand ? item.brand : "-"}           {@if item.title}<br />（<a tooltip content="${item.title}" href="javascript:;">配置</a>）{@/if}        </div><div class="" style="position: relative">           {@if item.orderId}<a target="_blank" href="'+ROOT_PATH+'/order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}           {@if item.orderSubscript == 1}               <i class="orderSubscriptnew">新增</i>           {@else if item.orderSubscript == 2}               <i class="orderSubscriptcon">续租</i>           {@else if item.orderSubscript == 3}               <i class="allot">调拨</i>           {@/if}        </div>        <div class="width-9-percent" style="position:relative;">${item.sn?item.sn:"-"}           {@if item.payType == 2}               <i class="orderSubscriptnew">季付</i>           {@else if item.payType == 3}               <i class="no-return">半年付</i>           {@else if item.payType == 4}               <i class="orderSubscriptcon">年付</i>           {@/if}        </div>        <div class="width-7-percent">           {@if item.payStatus == "已逾期"}               <em>未支付</em>               <em class="overdue">(${item.payStatus?item.payStatus:"-"})</em>           {@else if item.status !="已逾期"}               ${item.payStatus?item.payStatus:"-"}           {@/if}        </div>        <div class="width-9-percent">${item.realStartDate}</div>        <div class="width-7-percent">${item.rentSchedule}</div>        <div class="width-9-percent">${item.returnDate}</div>        <div class="width-7-percent">${item.endMonthDays}</div>        <div class="width-6-percent {@if item.rent}line-height-25{@/if}">${item.rent?item.rent.toFixed(2):"0.00"}           {@if item.oldRent != 0 && item.isContainSoftRentOrder != 1}               <i class="reduce-price">降价               <div class="old-price">原价格：${item.oldRent.toFixed(2)}元</div>               </i>           {@/if}       </div>        <div class="width-6-percent reduce-price-box" style="position: relative">           ${item.needPay ? item.needPay.toFixed(2) : "0.00"}       </div>{@if showCutMoneyDate}<div class="width-9-percent">${item.cutMoneyDate}</div>{@/if}<div class="width-6-percent column-last" style="line-height: 20px;">{@if item.remark || (item.offsetList && item.offsetList.length)}{@if item.remark}<a tooltip content="${item.remark}">查看备注</a>{@/if}{@if item.offsetList && item.offsetList.length > 0}<a class="show-charge-against-detail-btn">查看详情<i class="icon-arrow-up-blue"></i></a>{@/if}{@else}-{@/if}</div></div></div>{@if item.offsetList && item.offsetList.length > 0}<table class="charge-aginst-table"><thead><th>费用项目</th><th>调整金额（元）</th><th>调整时间</th><th>备注</th></thead>{@each item.offsetList as offsetitem, offsetitemindex}<tr><td>${offsetitem.itemName}</td><td>${offsetitem.adjustAmount ? offsetitem.adjustAmount.toFixed(2):"0.00"}</td><td>${offsetitem.adjustDate}</td><td>{@if offsetitem.remark}<a tooltip content="${offsetitem.remark}">查看备注</a>{@else}-{@/if}</td></tr>{@/each}</table>{@/if}</div></div>   {@/each}   {@if items.length==0}<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>{@/if}   {@if items.length>10}<i class="icon-pack-up"></i>{@/if}</div>',p='<div class="details-cont with-charge-against-table"><div class style="display: table-row;"><div class style="display: table-cell;"><div class="head-table"><div class="header-table"><div class="width-10-percent">费用项目</div><div class="{@if showCutMoneyDate}width-10-percent{@else}width-17-percent{@/if}">品牌</div><div class="width-17-percent">订单号</div><div class="width-12-percent">序列号</div><div class="width-9-percent">支付状态</div><div class="width-10-percent">起租日</div><div class="width-10-percent">调整金额（元）</div>{@if showCutMoneyDate}<div class="width-10-percent">付款日<a class="icon-question" tooltip arr-left="-22" content="付款日是易点租给用户的最后付款期限，若超过期限还未支付就会逾期，逾期会影响您的信用星级。"></a></div>{@/if}<div class="width-6-percent column-last">操作</div></div></div></div></div>{@each items as item,index}<div class style="display: table-row;"><div class="table-cell"><div class="row-table" style="display: table; width: 100%;"><div class="content-table"><div class="width-10-percent">${item.itemName?item.itemName:"-"}{@if (item.itemName === "展期租金")}<a class="icon-question" tooltip arr-left="-22" content="展期租金是原订单租期结束，未在规定日期内退回，每月以原订单租金为标准收取的费用"></a>{@/if}</div><div class="{@if showCutMoneyDate}width-10-percent{@else}width-17-percent{@/if} {@if item.title}line-height-25{@/if}">${item.brand ? item.brand : "-"}{@if item.title}<br />（<a tooltip content="${item.title}" href="javascript:;">配置</a>）{@/if}</div><div class="width-17-percent line-height-25" style="position: relative">{@if item.orderId}<a target="_blank" href="'+ROOT_PATH+'/order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}{@if item.orderSubscript == 1}<i class="orderSubscriptnew">新增</i>{@else if item.orderSubscript == 2}<i class="orderSubscriptcon">续租</i>{@else if item.orderSubscript == 3}<i class="allot">调拨</i>{@/if}</div><div class="width-12-percent line-height-25" style="position: relative;">${item.sn?item.sn:"-"}{@if item.payType == 2}<i class="orderSubscriptnew">季付</i>{@else if item.payType == 3}<i class="no-return">半年付</i>{@else if item.payType == 4}<i class="orderSubscriptcon">年付</i>{@/if}</div><div class="width-9-percent">{@if item.payStatus == "已逾期"}<em>未支付</em><em class="overdue">(${item.payStatus?item.payStatus:"-"})</em>{@else if item.status !="已逾期"}${item.payStatus?item.payStatus:"-"}{@/if}</div><div class="width-10-percent">${item.realStartDate}</div><div class="width-10-percent">${item.adjustAmount?item.adjustAmount.toFixed(2):"0.00"}</div>{@if showCutMoneyDate}<div class="width-10-percent">${item.cutMoneyDate}</div>{@/if}<div class="width-6-percent column-last" style="line-height: 20px;">{@if item.remark || (item.offsetList && item.offsetList.length)}{@if item.remark}<p><a tooltip content="${item.remark}">查看备注</a></p>{@/if}{@if item.offsetList && item.offsetList.length > 0}<p><a class="show-charge-against-detail-btn">查看详情<i class="icon-arrow-up-blue"></i></a></p>{@/if}{@else}-{@/if}</div></div></div>{@if item.offsetList && item.offsetList.length > 0}<table class="charge-aginst-table"><thead><th>费用项目</th><th>调整金额（元）</th><th>调整时间</th><th>备注</th></thead>{@each item.offsetList as offsetitem, offsetitemindex}<tr><td>${offsetitem.itemName}</td><td>${offsetitem.adjustAmount ? offsetitem.adjustAmount.toFixed(2):"0.00"}</td><td>${offsetitem.adjustDate}</td><td>{@if offsetitem.remark}<a tooltip content="${offsetitem.remark}">查看备注</a>{@else}-{@/if}</td></tr>{@/each}</table>{@/if}</div></div>{@/each}   {@if items.length==0}<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>{@/if}   {@if items.length>10}<i class="icon-pack-up"></i>{@/if}</div>',u='<div class="details-cont with-charge-against-table"><div class style="display: table-row;"><div class style="display: table-cell;"><div class="head-table"><div class="header-table"><div class="width-14-percent">费用项目</div><div class="width-9-percent">品牌</div><div class="width-17-percent">订单号</div><div class="width-17-percent">序列号</div><div class="width-8-percent">支付状态</div><div class="width-8-percent">起租日</div><div class="width-8-percent">退款金额</div><div class="width-11-percent column-last line-height-25">备注</div></div></div></div></div>{@each items as item,index}<div class style="display: table-row;"><div class="table-cell"><div class="row-table" style="display: table; width: 100%;"><div class="content-table"><div class="width-14-percent line-height-25">${item.itemName}</div><div class="width-9-percent {@if item.title}line-height-25{@/if}">${item.brand ? item.brand : "-"}{@if item.title}<br />（<a tooltip content="${item.title}" href="javascript:;">配置</a>）{@/if}</div><div class="width-17-percent" style="position: relative">{@if item.orderId}<a target="_blank" href="'+ROOT_PATH+'/order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}{@if item.orderSubscript == 3}<i class="allot">调拨</i>{@/if}</div><div class="width-17-percent" style="position:relative;">${item.sn?item.sn:"-"}{@if item.payType == 2}<i class="orderSubscriptnew">季付</i>{@else if item.payType == 3}<i class="no-return">半年付</i>{@else if item.payType == 4}<i class="orderSubscriptcon">年付</i>{@/if}</div><div class="width-8-percent">{@if item.payStatus == "已逾期"}<em>未支付</em><em class="overdue">(${item.payStatus?item.payStatus:"-"})</em>{@else if item.status !="已逾期"}${item.payStatus?item.payStatus:"-"}{@/if}</div><div class="width-8-percent">${item.realStartDate}</div><div class="width-8-percent">${item.refundAmount.toFixed(2)}</div><div class="width-11-percent column-last">{@if item.remark}<a tooltip content="${item.remark}">查看备注</a>{@else if item.offsetList && item.offsetList.length > 0}<a class="show-charge-against-detail-btn">查看详情<i class="icon-arrow-up-blue"></i></a>{@else}-{@/if}</div></div></div>{@if item.offsetList && item.offsetList.length > 0}<table class="charge-aginst-table"><thead><th>费用项目</th><th>调整金额（元）</th><th>调整时间</th><th>备注</th></thead>{@each item.offsetList as offsetitem, offsetitemindex}<tr><td>${offsetitem.itemName}</td><td>${offsetitem.adjustAmount ? offsetitem.adjustAmount.toFixed(2):"0.00"}</td><td>${offsetitem.adjustDate}</td><td>{@if offsetitem.remark}<a tooltip content="${offsetitem.remark}">查看备注</a>{@else}-{@/if}</td></tr>{@/each}</table>{@/if}</div></div>{@/each}{@if items.length==0}<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>{@/if}{@if items.length>10}<i class="icon-pack-up"></i>{@/if}</div>',h='<ul><li><span>新增设备租金</span><span>${first.toFixed(2)}</span><i>+</i></li><li><span>往期设备租金</span><span>${nonFirst.toFixed(2)}</span><i>+</i></li><li><span>退回设备租金</span><span>${back.toFixed(2)}</span><i>+</i></li>{@if sale >= 0}<li><span>销售商品金额</span><span>${sale.toFixed(2)}</span><i>+</i></li>{@/if}<li><span>调整项</span><span>${other.toFixed(2)}</span><i>-</i></li><li><span>已付金额</span><span>${paid.toFixed(2)}</span><i>=</i></li><li><span>未付金额</span><span class="span-color">${noPay.toFixed(2)}</span></li></ul>';
e.Template.billmonth={header:a,monthList:n,list:o,firstMonthRentBillOutModel:s,firstMonthRentVirtualBillOutModel:s,nonFirstMonthRentBillOutModel:d,nonFirstMonthRentVirtualBillOutModel:d,allReturnBillOutModel:c,allReturnVirtualBillOutModel:c,saleBillOutModel:l,saleVirtualBillOutModel:l,otherBillOutModel:p,otherVirtualBillOutModel:p,refundBillModel:u,refundVirtualBillModel:u,detailBillMoney:h}}}(window,window.EDZ,window.moment),function(t,e){"use strict";if(e&&e.Template){var i='{@each data as item,index}{@if item.description}<div class="item">   <div>       <div class="img-box">           <img src="${item.logo}">       </div>       <div class="detail">           <h2>${item.name}</h2>           <p>客户介绍：${item.description}</p>           <p>使用产品：<b>${item.products}</b></p>       </div>   </div>   <div class="content {@if index == data.length-1}no-border{@/if}">客户说：${item.content}</div></div>{@else}<div class="item no-desc-item">   <div>       <div class="img-box">           <img src="${item.logo}">       </div>       <div class="detail">           <h2>${item.name}</h2>           <div class="content">${item.content}</div>       </div>   </div></div>{@/if}{@/each}';e.Template.customerSay=i}}(window,window.EDZ),function(t,e,i){"use strict";if(e&&e.Template){var a='{{each list}}<div class="post-box"><div class="post-summary clearfix"><span class="post-name">{{$value.postName}}</span><span class="location"><i class="icon-join-us-location"></i>{{$value.location}}</span><span class="arrow">{{if $index == 0 }}<i class="arrow-icon icon-blue-up-arrow"></i>{{else }}<i class="arrow-icon icon-blue-down-arrow"></i>{{/if}}</span></div>{{if $index == 0 }}<div class="post-desc show">{{else }}<div class="post-desc hide">{{/if}}<dl><dt>工作职责：</dt>{{each $value.detail as item i}}<dd>{{#item.duty}}</dd>{{/each}}</dl><p><a href="mailto:hr@edianzu.com">联系邮箱：hr@edianzu.com</a></p></div></div>{{/each}}';e.Template.helpAbout={postInfo:a}}}(window,window.EDZ,window.moment),function(t,e){"use strict";if(e&&e.Template){var i='<div class="window">  <a class="image-model-close">×</a>  <table class="image-box">     <tr><td>      <img src="${options.url}">     </td></tr>  </table></div>';e.Template.imgModal=i}}(window,window.EDZ),function(t,e,i){"use strict";if(e&&e.Template){var a='{@each abstractList as item,index}<div class="content-table table-bg"><div class="width-18-percent">${item.typeId==1?"普通纸质发票":(item.typeId==2?"增值税专用发票":"普通电子发票")}</div><div class="width-10-percent">${item.typeId==3?"-":item.receiverName}</div><div class="width-10-percent">￥${item.amount?item.amount.toFixed(2):"0.00"}</div><div class="width-10-percent"><span class="{@if item.status == 2 || item.status == 6 }color-red{@else if item.status==8 || (item.typeId == 3 && (item.status == 11 || item.status == 4))}color-green{@/if}">${item.statusName}</span></div><div class="width-23-percent"><span class="{@if item.status == 2 || item.status == 6 }color-red{@else if item.status==8 || (item.typeId == 3 && (item.status == 11 || item.status == 4))}color-green{@/if}">{@if !item.remark || item.remark.length==0}-{@else}{@each item.remark as rmk}{@each rmk.split("|") as rmk1,index}<span class="line-height-25 {@if rmk1.indexOf("红冲") != -1 || rmk1.indexOf("作废") != -1 }color-red{@/if}">${index==1?"快递单号：":""}${rmk1}</span><br />{@/each}{@/each}{@/if}</span></div><div class="width-13-percent">${item.cdate}</div><div class="width-10-percent column-last">  {@if item.typeId == 3 && (item.status == 4 || item.status == 11)}<a operate="openList" operateId="${item.mallRequestId}">查看</a>{@else if item.status == 2 || item.status == 7 }<a operate="modify" operateId="${item.id}">修改</a>{@else if item.status == 1 }<a operate="showDetail" operateId="${item.id}">查看</a>{@if item.cancelFlag}<a operate="cancel" operateId="${item.id}">撤销</a>{@/if}{@else} <a operate="showDetail" operateId="${item.id}">查看</a>{@/if}</div></div>{@/each}',n='<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>',o='<div class="invoice-details"><ul class="details-ul"><li><span>开票金额：</span> <p>${amount?amount.toFixed(2):"0.00"}元</p></li>{@if !chosenBill && invoiceContent}<li><span>发票内容： </span><p>${invoiceContent}</p></li>{@/if}<li><span>发票类型： </span><p>${typeId==1?"普通纸质发票":(typeId==2?"增值税专用发票":"普通电子发票")}</p></li>{@if typeId==1}<li><span>抬头类型：</span> <p>${titleType==2?"个人":"企业"}</p></li>{@/if}<li><span>发票抬头：</span> <p>${companyName}</p></li>{@if taxerId}<li class="clear"><span>纳税人识别号：</span> <p>${taxerId?taxerId:""}</p></li>{@/if}{@if typeId == 3}<li><span>收票人手机号：</span> <p>${receiverPhone?receiverPhone:""}</p></li>{@/if}{@if titleType == 1}{@if companyAddress}<li><span>工商注册地址：</span> <p class="address" title="${companyAddress}">${companyAddress}</p></li>{@/if}{@if companyTel}<li><span>工商注册电话：</span> <p>${companyTel}</p></li>{@/if}{@if companyBank}<li><span>开户行：</span> <p>${companyBank}</p></li>{@/if}{@if companyAccount}<li><span>银行账户：</span> <p>${companyAccount}</p></li>{@/if}{@/if}{@if typeId==1 && proofFile}<li><span>证明文件：</span> <form class="file-img"><img src="${proofFile}" /></form></li>{@/if}<li><span>发票备注：</span> <p>${invoiceRemark?invoiceRemark:""}&nbsp;</p></li><li><span>发票要求：</span> <p>${applyRemark?applyRemark:""}&nbsp;</p></li>{@if typeId!=3}<li><span>收件人：</span> <p>${receiverName?receiverName:""}</p></li><li><span>手机号：</span> <p>${receiverPhone?receiverPhone:""}</p></li><li><span>收件地址：</span> <p class="address" title="${receiverAddress}">${receiverAddress?receiverAddress:""}</p> </li>{@/if}{@if typeId!=3}<li><span>发票快递费：</span> <p>{@if postType==2}快递到付{@else if postType==3}15.00元{@else}无{@/if}</p></li>{@/if}</ul>{@if !isConfirm}<div class="btn-confirm"><input type="button" id="okBtn" value="我知道了" /></div>{@else}<div class="bounced-btn"><input type="button" value="确定" class="uc-bounced-button uc-submit" /><input type="button" value="取消" class="uc-bounced-button uc-cancel" /></div>{@/if}</div>';e.Template.invoice={listEmpty:n,list:a,detail:o}}}(window,window.EDZ,window.moment),function(t,e){"use strict";if(e&&e.Template){var i='{@each data as address,index}    <li isDefault="{@if address.isDefault==1}true{@else}false{@/if}">        <label>            <input type="radio" value="${address.id}" name="address" ${address.isDefault==1?"checked=true":""} />            <i class="name">${address.name}</i>            <i>${address.provinceName}</i>            <i>${address.bcityName}</i>            <i>${address.scityName}</i>            <i class="address" {@if address.address.length>26}title="${address.address}"{@/if}>${address.address}</i>            <i>$${address.phone}</i>            <span operateId="${address.id}">                <i operate="edit">编辑</i>                <i operate="delete">删除</i>            </span>        </label>    </li>    {@/each}    <li class="more-address {@if data.length<5}hide{@/if}">        <span class="show">更多地址  ↓</span>   </li>',a='<div class="new-address">     <div class="address-content">         <div>               <i>*</i><span>收货人：</span>               <input value="${name}" type="text" id="name" require="true" valid="realName" errorTarget="nameError" emptyError="请输入收货人" maxlength="32" error="收货人格式错误" placeholder="请输入收货人" class="address-text" />               <div class="error-prompt-box"><span id="nameError" class="error-prompt-main error-prompt hide">                    <i class="icon-forgeterror"></i>               </span></div>         </div>         <div>             <i class="fl">*</i><span class="fl">所在地区：</span>             <div class="address-option">                 <select require="true" valid="true" errorTarget="areaError" emptyError="请选择所在地区"  id="province" class="select-margin"></select>                 <select require="true" valid="true" errorTarget="areaError" emptyError="请选择所在地区" id="city"></select>                 <select require="true" valid="true" errorTarget="areaError" emptyError="请选择所在地区" id="district" class="error-select-margin"></select>             </div>\t\t\t  <div class="error-prompt-box"><span id="areaError" class="error-prompt-main error-prompt hide">                    <i class="icon-forgeterror"></i>                 </span></div>             </div>         <div>               <i>*</i><span>详细地址：</span>               <input value="${address}" id="address" require="true" valid="address" errorTarget="addressError" emptyError="请输入详细地址" maxlength="300" error="详细地址中不允许输入中英文引号" placeholder="请输入详细地址" type="text" class="address-text" />               <div class="error-prompt-box"><span id="addressError" class="error-prompt-main error-prompt hide">                    <i class="icon-forgeterror"></i>               </span></div>         </div>         <div>               <i>*</i><span>联系电话：</span>               <input value="${phone}" type="text" id="phone" require="true" valid="telMobile" errorTarget="phoneError" emptyError="请输入联系电话" error="联系电话格式错误"  placeholder="手机号/固话（例：010-12349876）" class="address-text" />               <div class="error-prompt-box"><span id="phoneError" class="error-prompt-main error-prompt hide">                    <i class="icon-forgeterror"></i>               </span></div>         </div>     </div>     <div class="bounced-btn">         <input type="button" value="保存收货地址" class="uc-bounced-button uc-submit" />         <input type="button" value="取消" class="uc-bounced-button uc-cancel" />     </div></div>';e.Template.invoiceAddress={list:i,create:a}}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="window">  <div class="bounced-main ${options.className}" style="width:${options.width}px;">      <h4>${title}<a class="close">×</a></h4>      <div class="bounced-content">          <div class="bounced-choose">$${content}</div>          {@if !options.hideFoot}<div class="bounced-btn">              <a class="ok-btn">${options.ok_txt}</a>              {@if !isAlert}<a class="cancel-btn">${options.cancel_txt}</a>{@/if}          </div>{@/if}      </div>  </div></div>';e.Template.modal=i}}(window,window.EDZ),function(t,e,i){"use strict";e&&e.Template&&(template.helper("couponAmount",function(t,e){var i=t.substring(1,t.length-1).split(",");return Number(i[e]).toFixed(2)}),template.helper("couponRestrict",function(t,e){return t?e:""}),e.Template.myCoupon='{{each abstractList}}<dl class="yhq-dl clearfix"><dt class="fl"><b>￥{{$value.discountValue | couponAmount:"1"}}</b><p>【消费满{{$value.discountValue | couponAmount:"0"}}元可用】</p><p>{{$value.startTime}}至{{$value.endTime}}</p><label class="yhq-ico"></label></dt><dd class="fl"><p>优惠券编号：{{$value.id}}</p>{{if $value.isFirstOrder || $value.isFirstMonth}}<p>使用限制：仅限{{$value.isFirstOrder | couponRestrict:"首单"}}{{$value.isFirstMonth | couponRestrict:"首月"}}使用，同一订单只能使用一张</p>{{else}}<p>使用限制：同一订单只能使用一张</p>{{/if}}{{if $value.status != "已使用" }}{{if !$value.isExpre }}<span class="not-expired-color">未过期</span>{{else}}<span class="expired-color">已过期</span>{{/if}}{{else}}<div class="yhq-use-info"><p>订单号：{{$value.orderId}}</p>{{if "null" == $value.useTime }}<p>使用时间：</p>{{else}}<p>使用时间：{{$value.useTime}}</p>{{/if}}</div>{{/if}}<span class="use-status">{{$value.status}}</span></dd></dl>{{/each}}')}(window,window.EDZ,window.moment),function(t,e,i){"use strict";if(e&&e.Template){var a='<dl class="express-address clearfix" id="address_rows_${id}"><dt class="consignee-name-tit" data_id="${id}">${name}</dt><dd><span class="consignee-name-cont">${name}</span><span class="province">${pbsText}</span><span class="consignee-address">${address}</span><span class="consignee-phone">${phone}</span><span class="default-address hide">默认地址</span><div class="default-box"><span class="set-default" data_id="${id}">设为默认地址</span> <span class="edit-address" data_id="${id}">修改</span><span class="delete-address" data_id="${id}">删除</span></div></dd></dl>',n='<tr><th>券号</th><th>券名称</th><th>有效期</th><th>使用条件</th></tr>{@if !enableCouponList.length}<tr class="coupon-list"><td colspan="4">暂无可用优惠券信息！</td></tr>{@/if}{@each enableCouponList as item,index}<tr class="coupon-list available-coupon-tab"><td><input type="checkbox" class="available-coupon-cb" name="availableCoupon" value="${item.id}" />${item.id}</td><td>${item.name}</td><td>${item.startTime}至${item.endTime}</td><td><b>满${Number(item.discountValue.substring(1,item.discountValue.length-1).split(",")[0]).toFixed(2)}减${Number(item.discountValue.substring(1,item.discountValue.length-1).split(",")[1]).toFixed(2)}</b><input type="hidden" id="disMan_${item.id}" value="${Number(item.discountValue.substring(1,item.discountValue.length-1).split(",")[0]).toFixed(2)}"><input type="hidden" id="disJian_${item.id}" value="${Number(item.discountValue.substring(1,item.discountValue.length-1).split(",")[1]).toFixed(2)}"></td></tr>{@/each}',o='<tr><th>券号</th><th>券名称</th><th>有效期</th><th>使用条件</th></tr>{@if !otherCouponList.length}<tr class="coupon-list"><td colspan="4">暂无可用优惠券信息！</td></tr>{@/if}{@each otherCouponList as item,index}<tr class="coupon-list"><td>${item.id}</td><td>${item.name}</td><td>${item.startTime}至${item.endTime}</td><td><b>满${Number(item.discountValue.substring(1,item.discountValue.length-1).split(",")[0]).toFixed(2)}减${Number(item.discountValue.substring(1,item.discountValue.length-1).split(",")[1]).toFixed(2)}</b></td></tr>{@/each}',r='<div class="overdue-wrapper"><p>尊敬的<span id="expire_company">${companyName}</span>，<span class="box-important">此订单易点租无法为您发货！</span></p><p>原因：有逾期未支付的账单共计：<span id="expire_amount">${unpayedAmount}</span>元。请及时充值，以免影响您的正常发货！</p><p>如有疑问，<span id="expire_manager">{@if customerManager}请及时联系您的专属客户经理：${customerManager}{@else}请联系客服：400-886-9528{@/if}</span></p><span class="know-btn">我知道了</span></div>',s='<div class="special-models-wrapper">{@each data as item,index}<p>由于${item.title}机型库存不足，系统已自动以<span>相同的价格</span>将${item.subNum}台免费为您升级为配置更高的机型：${item.subTitle}，<a href="/queryProductDetail?id=${item.subProductId}" target="_blank">点击查看商品详情</a></p>{@/each}<p>您将下单{@each data as item,index}<span>${item.num}台</span>${item.title}；<span>${item.subNum}台</span>${item.subTitle} {@/each}</p></div>';e.Template.OrderConfirm={addressDataTemp:a,enableCouponListTemp:n,otherCouponListTemp:o,overdueTemp:r,specialModelsTemp:s}}}(window,window.EDZ,window.moment),function(t,e,i){"use strict";if(e&&e.Template){var a='{@if data && data.length}{@each data as expressWrap,index}<div class="express-detail"><ul><li><label class="order-color">${parseInt(index) + 1}<label>快递：${expressWrap.expressName}</li><li>快递单号：${expressWrap.expressNo}</li><li>设备数：${expressWrap.productCount}</li></ul><dl class="clearfix"><dt class="fl">设备名称：</dt><dd class="fl">{@each expressWrap.expressProducts as expressInfo,index}<p>${expressInfo.productName}<br/>设备序列号：${expressInfo.sns}</p>{@/each}</dd></dl><ul><li><h5>跟踪详情</h5></li>{@each expressWrap.expressDetails as expressDetail,index}<li><label>$${expressDetail}</label></li>{@/each}</ul></div>{@/each}{@else}<div class="express-detail">暂无快递信息</div>{@/if}',n='{@if data.length}{@each data as item,index}<li><a href="#"><p><span class="bill-left">第${item.num}期</span><label class="bill-right">${item.balanceDate}</label></p><p>应付：${item.billAmount}</p><p>已付：${item.payedAmount}</p></a></li>{@/each}{@else}<li>暂无账单信息</li>{@/if}';e.Template.orderDetail={expressInfo:a,orderProductBill:n}}}(window,window.EDZ,window.moment),function(t,e,i){"use strict";if(e&&e.Template){var a='<thead>   <tr class="table-head">       <th width="width-40-percent">订单编号</th>       <th width="width-20-percent">数量</th>       <th width="width-20-percent">每月总租金</th>       <th width="width-20-percent">起租日期</th>   </tr></thead><tr><td colspan="4">暂无设备信息！</td></tr>',n='<thead>   <tr class="table-head">       <th width="width-40-percent">订单编号</th>       <th width="width-20-percent">数量</th>       <th width="width-20-percent">每月总租金</th>       <th width="width-20-percent">起租日期</th>   </tr></thead>{@each list as item,index}<tbody><tr class="tab-colspan"><td class="width-40-percent"><a href="order_detail?mainOrderId=${item.mainOrderId}">${item.orderId}</a></td><td class="width-20-percent">本订单共${item.deviceNum}台设备</td><td class="width-20-percent">${item.totalRent}元</td><td class="width-20-percent">${item.startDate}<a class="rent-tabbtn" href="javascript:;"></a></td></tr></tbody><tbody class="hide"><tr class="table-th"><td  class="width-60-percent" colspan="2">商品名称</td><td  class="width-20-percent">序列号</td><td  class="width-20-percent">租金</td></tr>{@each item.list as itemlist,index}<tr><td colspan="2"><a href="javascript:;">${itemlist.productName}</a></td><td>${itemlist.sns}</td><td>${itemlist.rentAmount}元</td></tr>{@/each}</tbody>{@/each}',o='<thead>   <tr class="table-head">       <th width="width-55-percent" colspan="2">商品名称</th>       <th width="width-20-percent">数量</th>       <th width="width-25-percent">单台租金</th>   </tr></thead><tr><td colspan="4">暂无设备信息！</td></tr>',r='<thead>   <tr class="table-head">       <th width="55%" colspan="2">商品名称</th>       <th width="20%">数量</th>       <th width="25%">单台租金</th>   </tr></thead>{@each list as item,index}<tbody><tr class="tab-colspan"><td colspan="2"><a href="javascript:;">${item.productName}</a></td><td>本订单共${item.deviceNum}台设备</td><td>${item.rentAmount}元<a class="rent-tabbtn" href="javascript:;"></a></td></tr></tbody><tbody class="hide"><tr class="table-th"><td  class="30%">订单编号</td><td  class="25%">序列号</td><td  class="20%">已租</td><td  class="25%">日期</td></tr>{@each item.list as itemlist,index}<tr><td><a href="javascript:;">${itemlist.orderId}</a></td><td>${itemlist.sns}</td><td>${itemlist.balanceNumber}个月</td><td>${itemlist.startTime}-${itemlist.endTime}</td></tr>{@/each}</tbody>{@/each}';e.Template.orderRent={headerTempNone:a,headerTemp:n,headerDeviceNone:o,headerDevice:r}}}(window,window.EDZ,window.moment),function(t,e,i){"use strict";e&&e.Template&&(e.Template.orderReturn='{{each list}}<tr><td>{{$value.returnDate}}</td><td><a href="order_detail?mainOrderId={{$value.orderId}}">{{$value.orderId}}</a></td><td>{{$value.productName}}</td><td>{{$value.oldSn}}</td><td>{{$value.rentStartDate}}</td><td>{{$value.dealStatusName}}</td></tr>{{/each}}')}(window,window.EDZ,window.moment),function(t,e){"use strict";if(e&&e.Template){var i='<div class="uc-paging">       <div class="paging-number">           <ul class="number-ul fl">               <li value="${currentPage-1}" class="btn-page {@if currentPage==1}disabled{@/if}"><i class="icon-page-left"></i></li>               {@if totalPage <= 6}                   {@each i in range(1, totalPage+1)}                       <li value="${i}" {@if i==currentPage}class="on"{@/if}>${i}</li>                   {@/each}               {@else}                   {@if currentPage==1 && currentPage<6}                       {@each i in range(1, 6)}                       <li value="${i}" {@if i==currentPage}class="on"{@/if}>${i}</li>                       {@/each}                       <li value="6" class="omit-li">...</li>                       <li value="${totalPage}">${totalPage}</li>                   {@else if currentPage>=totalPage-4}                       <li value="1">1</li>                       <li value="${totalPage-5}" class="omit-li">...</li>                       {@each i in range(totalPage-4, totalPage+1)}                       <li value="${i}" {@if i==currentPage}class="on"{@/if}>${i}</li>                       {@/each}                   {@else if currentPage<totalPage-4 && currentPage>5}                       <li value="1">1</li>                       <li value="${currentPage-3}" class="omit-li">...</li>                       {@each i in range(currentPage-2, currentPage+3)}                       <li value="${i}" {@if i==currentPage}class="on"{@/if}>${i}</li>                       {@/each}                       <li value="${currentPage+3}" class="omit-li">...</li>                       <li value="${totalPage}">${totalPage}</li>                   {@else if currentPage<totalPage-4 && currentPage<=5}                       {@each i in range(1, 6)}                       <li value="${i}" {@if i==currentPage}class="on"{@/if}>${i}</li>                       {@/each}                       <li value="6" class="omit-li">...</li>                       <li value="${totalPage}">${totalPage}</li>                   {@/if}               {@/if}               <li value="${currentPage+1}" class="btn-page {@if currentPage==totalPage}disabled{@/if}"><i class="icon-page-right"></i></li>           </ul>           <ul class="jump-ul fl">               <li class="total-page">共${totalPage}页</li>               <li>到</li>               <li><input type="text" value="${currentPage}" class="total-input" /></li>               <li>页</li>               <li><input type="button" value="确定" class="total-button" /></li>           </ul>       </div>  </div>';e.Template.pagination=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="success-tip hide">    <div class="tip-content">商品已成功加入购物车！</div>    <div class="btn-box">        <a href="/carts" class="btn">去购物车结算</a>        <a href="javascript:;" class="close-tip">继续购物</a>    </div></div>',a='{@each abstractList as item,index}<div class="item">   <div class="user-info">网友：${item.customerPhone}<span>${item.cdate}</span></div>   <div class="content-box">       <div class="title">咨询内容：</div>       <div class="content">${item.question}</div>   </div>   <div class="content-box">       <div class="title">商家回复：</div>       <div class="content answer">${item.answer}</div>   </div></div>{@/each}';e.Template.product={successTip:i,qaTemp:a}}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="bounced-content">点击“已支付完成”，跳转至“我的帐户”页面，点击“支付失败，重新支付”则弹出框消失，页面不跳转。</div><div class="bounced-btn">        <input type="button" value="已完成支付" class="uc-bounced-button uc-submit" />        <input type="button" value="支付失败，重新支付" class="uc-bounced-button uc-cancel" /></div>';e.Template.rechargeDialog=i}}(window,window.EDZ),function(t,e,i){"use strict";if(e&&e.Template){var a='   <div class="header-table">       <div class="width-26-percent line-height40">订单编号</div>       <div class="width-42-percent line-height40">商品名称</div>       <div class="width-15-percent line-height40">序列号</div>       <div class="width-17-percent column-last line-height40">应归还时间</div>   </div>   {@each dataList as item,index}   <div class="content-table table-bg">       <div class="width-26-percent line-height40">{@if item.orderId}<a class="color-blue" href="'+ROOT_PATH+'order_detail?mainOrderId=${item.orderId}">${item.orderId}</a>{@else}-{@/if}</div>       <div class="width-42-percent line-height40">{@if item.productName}${item.productName}{@else}-{@/if}</div>       <div class="width-15-percent line-height40">{@if item.sn}${item.sn}{@else}-{@/if}</div>       <div class="width-17-percent line-height40">{@if item.expectedReturnDate}${item.expectedReturnDate}{@else}-{@/if}</div>   </div>   {@/each}   {@if dataList.length==0}<div class="none-content-box"><div class="width-100-percent none-content">暂无信息</div></div>{@/if}';e.Template.returnDevice={deviceTable:a}}}(window,window.EDZ,window.moment),function(t,e){"use strict";if(e&&e.Template){var i='<div class="bounced" style="display: block;"></div>';e.Template.rightTool=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="active-info"><span class="info"><i class="icon-border-left"></i>$${content}</span></div>';e.Template.rightTooltip=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="tooltip">$${content}<i class="icon-pic-triangle"></i></div>';e.Template.tooltip=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<ul class="sidebar fl">  {@each items as lv2_menu ,index}   <li {@if lv2_menu.key}key="${lv2_menu.key}"{@/if} class="side_li {@if lv2_menu.isHide==\'true\'}hide{@/if}">      <h3>${lv2_menu.title}</h3>      <ul>          {@each lv2_menu.items as item}               <li {@if item.key}key="${item.key}"{@/if} {@if item.isHide==\'true\'}class="hide"{@/if} click-name="${item.clickName}">{@if item.key =="returnEquipment"}<i class="icon-red-point hide"></i>{@/if}                   <a {@if selectTitle==item.title}class="on"{@/if}  href="${item.link}">${item.title}</a>               </li>           {@/each}      </ul>  </li>  {@/each}</ul>';e.Template.uc_navigate=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="bounced">   <div class="cont_div">      <div class="cont_jg">${content}</div>      {@if isAlert==false}           <input type="button" value="确定" class="ipt_btn btn_sc ok-btn">           <input type="button" value="取消" class="ipt_btn btn_qx cancel-btn">       {@/if}   </div></div>';e.Template.wapModal=i}}(window,window.EDZ),function(t,e){"use strict";if(e&&e.Template){var i='<div class="weixin-mask"><div class="mask-container"><div class="tip-circle"></div><div class="right-box"><div class="tip-arrow"></div><span>请点击浏览器上方</span><div class="tip-icon"></div><span>在新窗口访问网站</span><div class="tip-close"></div></div></div></div>';e.Template.weixinModal=i}}(window,window.EDZ),function(t,e,i){"use strict";if(e&&e.Template){template.helper("evalution",function(t){var e="",i=0;t&&(i=parseInt(t,10));for(var a=0;a<i;a++)e+='<span><img src="../images/icon_star_3.png" /></span>';if(t!=i&&(e+='<span><img src="../images/icon_star_2.png" /></span>',i+=1),i<5)for(var n=i;n<5;n++)e+='<span><img src="../images/icon_star_1.png" /></span>';return e}),template.helper("getTime",function(t){return i(t).format("YYYY-MM-DD HH:mm:ss")}),template.helper("strAddBr",function(t){return t.replace(/\n|\r\n|\↵/g,"<br/>")}),template.helper("getType",function(t){var e=t;switch(e.indexOf("?")!=-1&&(e=e.substring(0,e.indexOf("?"))),e=/\.[^\.]+$/.exec(e),e=e&&e[0]?e[0].toLowerCase():""){case".jpg":case".jpeg":case".png":case".bmp":case".gif":return"<img src="+t+' alt="">';case".doc":case".docx":return'<a href="'+t+'" target="_blank" class="type-02"></a>';case".xls":case".xlsx":return'<a href="'+t+'" target="_blank" class="type-03"></a>';case".ppt":case".pptx":return'<a href="'+t+'" target="_blank" class="type-04"></a>';case".zip":case".rar":case".7z":return'<a href="'+t+'" target="_blank" class="type-05"></a>'}});var a='{{each list}}<tr><td>{{$value.workId}}</td><td class="title"><a href="workformDetail?workId={{$value.workId}}" target="_blank">{{if $value.isUpdated}}<i class="icon-red-point"></i>{{/if}}{{$value.title}}</a></td><td>{{$value.createTime | getTime}}</td><td>{{if $value.status == "0" }}待接单{{else if $value.status == "1" }}处理中{{else if $value.status == "2" }}已解决待确认{{else if $value.status == "3" }}已解决{{/if}}</td><td class="evaluate">{{if $value.status == "3" }}{{if $value.evalutionStar == "-1" }}<a href="/workformDetail?workId={{$value.workId}}#valuate" target="_blank">立即评价</a>{{else}}{{#$value.evalutionStar | evalution}}{{/if}}{{/if}}</td></tr>{{/each}}',n='<div class="workform-title"><div class="txt"><span>{{title}}</span>{{if status == "0" }}<i>待接单</i>{{else if status == "1" }}<i>处理中</i>{{else if status == "2" }}<i>已解决待确认</i>{{else if status == "3" }}<i>已解决</i>{{/if}}</div><div class="time">{{createTime | getTime}}</div></div><div class="detail">{{if isReplaceCustomer}}<span class="tag">这是一个客服代替您发起的工单</span>{{/if}}<p class="txt">{{#content | strAddBr}}</p>{{if files.length }}<div class="attachment-box"><p class="title">附件：</p><table class="attachment-list"><tr>{{each files}}<td>{{#$value.url | getType}}</td>{{/each}}</tr></table></div>{{/if}}</div><div class="reply-box"><h4 class="detail-tit clearfix">回复{{if status != "3" }}<span class="close-workform">关闭工单</span>{{/if}}</h4>{{if replys.length}}{{each replys}}<div class="reply-detail"><p class="info"><span class="name">{{$value.replyName}}</span><span class="time">{{$value.replyTime}}</span></p><p class="reply{{if $value.reply_type}} custom-service-reply{{/if}}">{{#$value.content | strAddBr}}</p>{{if $value.files.length }}<div class="attachment-box"><p class="title">附件：</p><table class="attachment-list"><tr>{{each $value.files as item i}}<td>{{#item.url | getType}}</td>{{/each}}</tr></table></div>{{/if}}</div>{{/each}}{{else}}<div class="reply-detail no-reply"><p class="reply">暂无回复，我们的客服人员将尽快查看并处理。</p></div>{{/if}}</div>{{if status != "3" }}<div class="add-reply-box"><h4 class="detail-tit">添加回复</h4><textarea name="content" class="textarea" require="true" maxlength="2000" valid="required" errorTarget="contentError" emptyError="请输入您当前碰到的问题"></textarea><p class="error-info" id="contentError"></p></div><div id="uploadBox" class="upload-box clearfix"><div class="img-upload-bg fl" id="uploadFileBtn"><div style="width: 101px;height: 86px;"></div></div></div><div class="deposite-important"><span>添加附件</span>支持图片格式（JPG/PNG/BMP/GIF/JPEG），每次最多5张</div><div class="submit">提交</div>{{/if}}{{if status == "3" && evalutionStar == "-1" }}<div class="service-valuation-box" id="valuate"><h4 class="detail-tit">服务评价</h4><div class="item"><div class="service-tit">请问你的问题解决了么？</div><div class="radio-box"><span class="selected" data-result="0"><i>已解决</i></span><span data-result="1"><i>未解决</i></span></div></div><div class="item"><div class="service-tit">请对本次处理的结果进行评价：</div><div class="star-box"><span class="evaluate"><i class="star"><img src="../images/icon_star_3.png" /></i><i class="star"><img src="../images/icon_star_3.png" /></i><i class="star"><img src="../images/icon_star_3.png" /></i><i class="star"><img src="../images/icon_star_3.png" /></i><i class="star"><img src="../images/icon_star_3.png" /></i></span><span>5星为特别满意，1星为特别不满意</span></div></div><div class="evaluate-btn">确认评价</div></div>{{/if}}';e.Template.workform={workformList:a,workformDetail:n}}}(window,window.EDZ,window.moment),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.isWap=e(document.body).attr("isWap"),this.form=e("#regform"),this.modal=i.Plugin.Modal,this.validate=new i.Plugin.Validate(this.form,this.isWap),this.customer=new i.Service.Customer};a.prototype.init=function(){this.regSubmitEvent(),this.regSyncCheckPhoneUsed(),this.regSmsCodeBtnEvent(),this.regVoiceSmsCodeBtnEvent(),this.regSecHoverEvent(),this.regCaptchaInitEvent(),this.captchaIns="",this.captchaData="",this.isClickVoiceCode=!1},a.prototype.regCaptchaInitEvent=function(){var t=this;initNECaptcha({captchaId:i.Common.captchaId,element:"#captcha",onVerify:function(e,i){t.captchaData=i,t.isClickVoiceCode?t.doSendVoiceSmsCode():t.doSendSmsCode()}},function(e){t.captchaIns=e},function(t){})},a.prototype.refreshCaptcha=function(){this.captchaIns&&this.captchaIns.refresh(),this.captchaData=""},a.prototype.regSecHoverEvent=function(){e(".icon-active-bind-phone").attr("content","如果忘记登录密码，可以通过该账号绑定的手机号发送短信，设置新密码。"),new i.Plugin.RightTooltip(e(".icon-active-bind-phone")).init()},a.prototype.enableSubmitSmsBtn=function(){var t=this.form.find("#smsCodeBtn"),e=this.form.find("#voiceSmsCodeBtn");t.attr("isWaiting")||(!this.form.find("#phone").attr("invalid")&&this.form.find("#phone").val().trim().length>0?(t.removeAttr("disabled").addClass("sure-num-click"),e.removeAttr("disabled")):(t.attr("disabled","disabled").removeClass("sure-num-click"),e.removeAttr("disabled")))},a.prototype.doSendSmsCode=function(){var t=this,i=e("#smsCodeBtn");if(!i.attr("isWaiting")&&!i.attr("disabled")){if(!t.captchaData||!t.captchaData.validate)return void e("#imgCodeError").html('<i class="icon-prefect-error"></i>请进行滑块验证');e("#imgCodeError").html("");var a=1;i.attr("channelId")&&(a=i.attr("channelId")),i.attr("isWaiting",!0),t.customer.sendSms({phone:e("#phone").val(),channelId:a,typeId:5,validate:t.captchaData.validate}).then(function(e){if(i.removeAttr("isWaiting"),e.code)t.refreshCaptcha();else{new t.modal("信息提示","短信验证码发送成功").alert();var a=t.form.find("#voiceSmsCodeBtn");a.addClass("hide"),i.attr("isWaiting",!0);var n=60,o=setInterval(function(){i.removeClass("sure-num-click"),i.text(n+"秒后重新发送"),n--,0===n&&(i.removeAttr("isWaiting").attr("channelId",2).text("重发短信验证码"),i.addClass("sure-num-click"),a.removeClass("hide"),clearInterval(o),t.refreshCaptcha());
},1e3)}})}},a.prototype.regSmsCodeBtnEvent=function(){var t=this;this.form.find("#smsCodeBtn").click(function(){t.isClickVoiceCode=!1,t.doSendSmsCode()})},a.prototype.doSendVoiceSmsCode=function(){var t=this,i=e("#voiceSmsCodeBtn");if(!i.attr("isWaiting")&&!i.attr("disabled")){if(!t.captchaData||!t.captchaData.validate)return void e("#imgCodeError").html('<i class="icon-prefect-error"></i>请进行滑块验证');e("#imgCodeError").html(""),i.attr("isWaiting",!0),t.customer.sendSms({phone:e("#phone").val(),channelId:3,typeId:5,validate:t.captchaData.validate}).then(function(e){if(i.removeAttr("isWaiting"),e.code)t.refreshCaptcha();else{new t.modal("信息提示","语音验证码发送成功").alert(),i.addClass("hide");var a=t.form.find("#smsCodeBtn");a.attr("isWaiting",!0);var n=60,o=setInterval(function(){a.removeClass("sure-num-click"),a.text(n+"秒后重新发送"),n--,0===n&&(a.attr("channelId",2).removeAttr("isWaiting").text("重发短信验证码"),i.removeClass("hide"),a.addClass("sure-num-click"),clearInterval(o),t.refreshCaptcha())},1e3)}})}},a.prototype.regVoiceSmsCodeBtnEvent=function(){var t=this;this.form.find("#voiceSmsCodeBtn").on("click",".code",function(){t.isClickVoiceCode=!0,t.doSendVoiceSmsCode()})},a.prototype.regSyncCheckPhoneUsed=function(){var t=this;this.form.find("#phone").blur(function(){var a=this;e(this).attr("invalid")||t.customer.checkPhoneIsActivate({phone:e(this).val().trim()}).then(function(e){e.code&&i.Common.showFromError(a,"该手机号已被使用"),t.enableSubmitSmsBtn()})})},a.prototype.regSyncCheckSmsCode=function(){var t=this;this.form.find("#smsCode").blur(function(){var a=this;!e(this).attr("invalid")&&!e("#phone").attr("invalid")&&e("#phone").val().trim().length>0&&t.customer.checkSmsCode({phone:e("#phone").val().trim(),phoneCode:e(this).val().trim()}).then(function(t){t.code&&i.Common.showFromError(a,"短信验证码不正确")})})},a.prototype.regSubmitEvent=function(){var t=this;t.form.attr("waitingCount",0);var i=function(e,i){t.customer.login({phone:e,newPassword:i},!0).then(function(t){location.href=ROOT_PATH+"/"})},a=function(a){var n={oldPassword:e("#oldPassword").val().trim(),newPassword:e("#newPassword").val().trim(),trueName:e("#trueName").val().trim(),phone:e("#phone").val().trim(),smsCode:e("#smsCode").val().trim()};t.customer.active(n).then(function(e){a.removeAttr("submitting"),e.code||new t.modal("提示信息","恭喜，您的账号已经成功激活").alert(function(){i(n.phone,n.newPassword)})})},n=function(e){if(0===t.form.find("[invalid]").length){if(!t.form.find("#agree").is(":checked"))return new t.modal("提示信息","请勾选并接受《易点租服务条款》").alert(),void e.removeAttr("submitting");a(e)}else e.removeAttr("submitting")};e("#submitBtn").click(function(){var i=e(this);if(!i.attr("submitting"))if(i.attr("submitting",1),t.validate.doValid(),t.form.attr("waitingCount")>0){new t.modal("信息提示","正在校验数据，请稍后再试");var a=setInterval(function(){"0"===t.form.attr("waitingCount")&&(clearInterval(a),i.removeAttr("submitting"))},100)}else n(i)})},i.Application.Web.Active=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.modal=i.Plugin.Modal,this.service=new i.Service.CustomerSay,this.temp=i.Template.customerSay};a.prototype.init=function(){this.renderCustomerSayList()},a.prototype.renderCustomerSayList=function(){var t=this;this.service.getCustomerSayList().then(function(i){if(!i.code){var a=juicer(t.temp,i);e(".container").html(a)}})},i.Application.Web.CustomerSay=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){};a.prototype.init=function(){this.initBannerDom(),this.initBargainPriceDom(),this.initColumnDom()},a.prototype.regScrollBanner=function(){e(".main_image").touchSlider({flexible:!0,speed:200,btn_prev:e(".btn_prev"),btn_next:e(".btn_next"),paging:e(".flicking_inner a"),counter:function(t){e(".flicking_inner a").removeClass("on").eq(t.current-1).addClass("on")}}),e(".main_visual").hover(function(){i.Common.isLessIE9()?e(".banner-btn").show():e(".banner-btn").fadeIn()},function(){i.Common.isLessIE9()?e(".banner-btn").hide():e(".banner-btn").fadeOut()});var t=function(){return setInterval(function(){e(".btn_next").click()},5e3)},a=t();e(".main_visual").hover(function(){clearInterval(a)},function(){a=t()})},a.prototype.getBannerData=function(){return{list:[{id:"117762",imgUrl:"/images/banner-01.1.jpg"},{id:"117670",imgUrl:"/images/banner-02.1.jpg"},{id:"118742",imgUrl:"/images/banner-04.1.jpg"}]}},a.prototype.initBannerDom=function(){var t=this.getBannerData();e(".main_visual").html(template("bannerTpl",t)),this.regScrollBanner()},a.prototype.getBargainPriceData=function(){return{mainImgUrl:"./images/bargain-price.jpg",productList:[{linkUrl:"117762",imgUrl:"https://edzimg.edianzu.com/product/2018/07/d7728a04f6d186b24f3a73c39eb28870.jpg",tit:"全新 易点租/Edianzu E33 Pro台式机(I3-8100 3.6GHz/4G/1T/核显UHD630/Linux/E2216H 21.5寸/USB无线网卡)",newPrice:"3299",oldPrice:"3599"},{linkUrl:"117605",imgUrl:"https://edzimg.edianzu.com/product/2016/12/619a12ca69083da29632cd3de8daac09.jpg",tit:"ThinkPad T430 极速版 14.0英寸笔记本电脑(i5/4GB/120GB SSD/集显)",newPrice:"2300",oldPrice:"2500"},{linkUrl:"117662",imgUrl:"https://edzimg.edianzu.com/product/2018/02/04248a2513d3ed8e36e25704b84217cf.jpg",tit:"全新 惠普/hp ProBook 440 G5 14英寸笔记本电脑(i5-8250U/8G/1T/930MX 2G独显)",newPrice:"4749",oldPrice:"4999"}]}},a.prototype.initBargainPriceDom=function(){var t=this.getBargainPriceData();e(".bargain-price-layer").html(template("bargainPriceTpl",t))},a.prototype.getColumnData=function(){return{columnList:[{mainTit:"一周热点",mainImgUrl:"./images/floor-00.1.jpg",mainLinkUrl:"119444",productList:[{linkUrl:"118760",imgUrl:"https://edzimg.edianzu.com/product/2018/08/026568582c3c5f2b480895aac01db611.jpg",tit:"全新 易点租 QuickPC P31 台式机(i5-8400/8G/120G SSD+2T/GTX1050Ti 4G/戴尔 E2417H 23.8英寸/无线键鼠/USB无线网卡/Linux/易点租保修)",newPrice:"6599"},{linkUrl:"119445",imgUrl:"https://edzimg.edianzu.com/product/2018/09/2a48ec696fa5f621c62ae3003e62c394.jpg",tit:"全新 易点租 QuickPC E32 Pro 台式机 (G4900/4G/120G SSD/核显/E2016H 19.5英寸/USB无线网卡/USB键鼠/Linux/8L机箱/易点租保修)",newPrice:"2599"},{linkUrl:"117660",imgUrl:"https://edzimg.edianzu.com/product/2018/02/d5b69b25c593e93d18560153f92fb20f.jpg",tit:"全新 惠普/hp ProBook 440 G5 14英寸笔记本电脑(i5-8250U/8G/128G SSD+1T/930MX 2G独显)",newPrice:"5249"},{linkUrl:"117670",imgUrl:"https://edzimg.edianzu.com/product/2018/03/a2471eac46520e1f12631a1e1c45b1df.jpg",tit:"全新 ThinkPad E480 (20KNA003CD)14英寸笔记本电脑(i5-8250U/8G/1T/RX550 2G独显/1366*768/1年保修) ",newPrice:"5449"},{linkUrl:"117665",imgUrl:"https://edzimg.edianzu.com/product/2018/02/1fff3638d6a45e07e2c9337f5abe6e9e.jpg",tit:"全新 惠普/hp ProBook 440 G5 14英寸笔记本电脑(i7-8550U/8G/128G SSD+1T/930MX 2G独显)",newPrice:"6149"},{linkUrl:"117603",imgUrl:"https://edzimg.edianzu.com/product/2017/10/db5b2a22c59bdf7292cee37d3b9c697a.jpg",tit:"ThinkPad T430 14.0英寸笔记本电脑(i5/4GB/500GB/集显)",newPrice:"2180"},{linkUrl:"117606",imgUrl:"https://edzimg.edianzu.com/product/2016/12/922a13b46bdd584fb96d10dfde4d2918.jpg",tit:"ThinkPad X230 极速版 12.5英寸便携笔记本电脑(i5/4GB/120GB SSD/集显)",newPrice:"2100"},{linkUrl:"117682",imgUrl:"https://edzimg.edianzu.com/product/2018/03/1208313db4c5b96689914649439e5fcb.jpg",tit:"全新 ThinkPad T480 (20L50021CD)14英寸笔记本电脑(i5-8250U/8G/500G/GeForce MX150 2G/HD/0+6电池/WIN 10家庭版/1年保修) ",newPrice:"7099"}]},{mainTit:"行政办公",mainImgUrl:"./images/floor-01.jpg",mainLinkUrl:"117762",productList:[{linkUrl:"117617",imgUrl:"https://edzimg.edianzu.com/product/2016/12/3478f424913a70b26cefadf3f0d59cb4.png",tit:"ThinkPad T420 极速版 14.0英寸笔记本电脑(i5/4GB/120GB SSD/集显)",newPrice:"1900"},{linkUrl:"117765",imgUrl:"https://edzimg.edianzu.com/product/2018/07/e342f2bb2e7c449c764d2e78f87d2aca.jpg",tit:"全新 易点租 QuickPC E34A Pro 台式机(i3-8100/8G/240G SSD/核显/E2216H 21.5寸/USB无线网卡/USB键鼠/Linux/8L机箱/易点租保修)",newPrice:"3699"},{linkUrl:"119444",imgUrl:"https://edzimg.edianzu.com/product/2018/09/af452000ca46a5abee65fea54b07e6e5.jpg",tit:"全新 易点租 QuickPC E31 Pro 台式机 (G4900/4G/1T/核显/E2016H 19.5英寸/USB无线网卡/USB键鼠/Linux/8L机箱/易点租保修)",newPrice:"2599"},{linkUrl:"117603",imgUrl:"https://edzimg.edianzu.com/product/2017/10/db5b2a22c59bdf7292cee37d3b9c697a.jpg",tit:"ThinkPad T430 14.0英寸笔记本电脑(i5/4GB/500GB/集显)",newPrice:"2180"},{linkUrl:"117613",imgUrl:"https://edzimg.edianzu.com/product/2017/07/5ab22581452b49c0e400e40d1328c307.jpg",tit:"ThinkPad T420 14.0英寸笔记本电脑(i5/4GB/500GB/集显)",newPrice:"1855"},{linkUrl:"117799",imgUrl:"https://edzimg.edianzu.com/product/2017/03/0c03fc102ba839e39bb53678c32beff7.jpg",tit:"全新 联想(Lenovo) AIO 520s 23英寸一体电脑 (i3-6006U/4GB/256G SSD/2G独显/FHD显示器/1年保修)",newPrice:"5249"},{linkUrl:"117632",imgUrl:"https://edzimg.edianzu.com/product/2017/09/deb94900298cd67b28e059c30a74874e.jpg",tit:"ThinkPad T420 14.0英寸笔记本电脑(i5/4GB/500GB/独显)",newPrice:"1855"},{linkUrl:"117757",imgUrl:"https://edzimg.edianzu.com/product/2017/06/f844d187c8f7338891aa3223b925200b.jpg",tit:"全新 联想(Lenovo) M710s 商用台式机(i5-7500/8G/256G SSD/GT730 2GB独显/T2324 23英寸显示器)",newPrice:"6249"}]},{mainTit:"技术开发",mainImgUrl:"./images/floor-02.jpg",mainLinkUrl:"117609",productList:[{linkUrl:"117876",imgUrl:"https://edzimg.edianzu.com/product/2018/07/94332432cc68790e1512ec718800a75e.jpg",tit:"全新 易点租 QuickPC E38 Pro 台式机 (i7-8700/16G/240G SSD/核显/戴尔 E2417H 23.8英寸/Linux/USB无线网卡/8L机箱/易点租保修)",newPrice:"6299"},{linkUrl:"117873",imgUrl:"https://edzimg.edianzu.com/product/2018/07/240c2d65930d65e0b1eb19a72a129b2a.jpg",tit:"全新 易点租 QuickPC E35 Pro 台式机 (i5-8400/8G/1T/核显/E2417H 23.8英寸/Linux/USB无线网卡/8L机箱/易点租保修)",newPrice:"4499"},{linkUrl:"117612",imgUrl:"https://edzimg.edianzu.com/product/2016/12/c9254532078fca304edef4cc0f3cfa71.jpg",tit:"ThinkPad T430 极速版 14.0英寸笔记本电脑(i5/16GB/240GB SSD/集显)",newPrice:"2960"},{linkUrl:"117664",imgUrl:"https://edzimg.edianzu.com/product/2018/02/0a911fd8866d4a406074560f4b6e0781.jpg",tit:"全新 惠普/hp ProBook 440 G5 14英寸笔记本电脑(i5-8250U/8G/256G SSD/930MX 2G独显)",newPrice:"5249"},{linkUrl:"117750",imgUrl:"https://edzimg.edianzu.com/product/2017/08/72206bb96bb1cff379d2abf5a690a233.jpg",tit:"全新 惠普(HP) ProDesk 400 G4 SFF 小机箱台式机(i5-7500/8G/256G SSD/AMD RadeonR7 430 2G独显/P232 23英寸显示器/Win10Home)",newPrice:"5349"},{linkUrl:"117673",imgUrl:"https://edzimg.edianzu.com/product/2018/03/a12b755d4b12e6aa6778047d41a68c69.jpg",tit:"全新 ThinkPad E480 (20KNA00CCD)14英寸笔记本电脑(i5-8250U/8G/128G SSD+1T/RX550 2G独显/1920*1080/1年保修)",newPrice:"6149"},{linkUrl:"117664",imgUrl:"https://edzimg.edianzu.com/product/2018/02/0a911fd8866d4a406074560f4b6e0781.jpg",tit:"全新 惠普/hp ProBook 440 G5 14英寸笔记本电脑(i5-8250U/8G/256G SSD/930MX 2G独显)",newPrice:"5249"},{linkUrl:"117874",imgUrl:"https://edzimg.edianzu.com/product/2018/07/25bbff44bf20560c6bda5470a80ecdf4.jpg",tit:"全新 易点租 QuickPC E36 Pro 台式机 (i5-8400/8G/240G SSD/核显/E2417H 23.8英寸/Linux/USB无线网卡/8L机箱/易点租保修)",newPrice:"4699"}]},{mainTit:"商务便携",mainImgUrl:"./images/floor-03.jpg",mainLinkUrl:"117606",productList:[{linkUrl:"117691",imgUrl:"https://edzimg.edianzu.com/product/2018/03/040d45ca056233db0806fcfa95f87a98.jpg",tit:"全新 ThinkPad X280 (20KF000RCD)12.5英寸笔记本电脑(i5-8250U/8G/256G SSD/UHD 620核显/HD/WIN 10家庭版/0+6电池/1年保修) ",newPrice:"7549"},{linkUrl:"117610",imgUrl:"https://edzimg.edianzu.com/product/2016/12/922a13b46bdd584fb96d10dfde4d2918.jpg",tit:"ThinkPad X230 极速版 12.5英寸便携笔记本电脑(i5/8GB/240GB SSD/集显)",newPrice:"2700"},{linkUrl:"117678",imgUrl:"https://edzimg.edianzu.com/product/2018/06/7776d7b172b5b10946fe951dc7ccc343.png",tit:"全新 ThinkPad NEW S2 (20L1A001CD)13.3英寸笔记本电脑(i5-8250U/8G/256G SSD/UHD 620核显/FHD/WIN 10家庭版/银/无指纹/1年保修)",newPrice:"6349"},{linkUrl:"117688",imgUrl:"https://edzimg.edianzu.com/product/2018/06/8fb48a0ada551aca692e123448d4a26d.png",tit:"全新 ThinkPad X1 Carbon 2018 (20KH0009CD)14英寸笔记本电脑(i5-8250U/8G/256G SSD/UHD 620核显/FHD/WIN 10家庭版/1年保修)",newPrice:"9949"},{linkUrl:"117633",imgUrl:"https://edzimg.edianzu.com/product/2017/06/9a955a06e791ac75af6a104816766878.jpg",tit:"ThinkPad X220 极速版 12.5英寸便携笔记本电脑(i5/8GB/240GB SSD/HD3000集显)",newPrice:"2400"},{linkUrl:"117813",imgUrl:"https://edzimg.edianzu.com/product/2017/09/19d29257cc73728ec525425d9ea1d188.jpg",tit:"全新 小米(XIAOMI) Air 13.3英寸笔记本电脑(i5-7200U/8G/256G PCle SSD/MX150 2G独显/FHD/指纹识别/银色/Win10 home)",newPrice:"4949"},{linkUrl:"117701",imgUrl:"https://edzimg.edianzu.com/product/2018/03/ce91abf2708c2ad85753cad82eb8a6f5.jpg",tit:"全新 微软(Microsoft) 2017款 Surface Pro (FKJ00009) 12.3寸便携超极本 (i7/16G/512G SSD/核显/Win10 Pro)",newPrice:"17238"},{linkUrl:"117690",imgUrl:"https://edzimg.edianzu.com/product/2018/03/ed2a390b803a6c528f07148fa7b719c3.jpg",tit:"全新 ThinkPad X1 Carbon 2018 (20KH000HCD)14英寸笔记本电脑(i7-8550U/8G/256G SSD/UHD 620核显/FHD/WIN 10家庭版/1年保修)",newPrice:"12949"}]},{mainTit:"图形处理",mainImgUrl:"./images/floor-04.jpg",mainLinkUrl:"118760",productList:[{linkUrl:"119114",imgUrl:"https://edzimg.edianzu.com/product/2018/09/c6281c4e3c5750cb781b9990b35bc85b.jpg",tit:"全新 易点租 QuickPC P33 台式机(i7-8700/16G/240G SSD+2T/GTX1050Ti 4G/P2719H 27英寸/无线键鼠/USB无线网卡/Linux/易点租保修)",newPrice:"9199"},{linkUrl:"119117",imgUrl:"https://edzimg.edianzu.com/product/2018/09/23bebb87b624da0f2ab11a9e8e91df36.jpg",tit:"全新 易点租 QuickPC P36 台式机(i7-8700/8G/120G+2T/Quadro P600 2G/P2319H 23英寸/无线键鼠/USB无线网卡/Linux)",newPrice:"7999"},{linkUrl:"119113",imgUrl:"https://edzimg.edianzu.com/product/2018/09/16fb48ce1128cea91650ee180aed918d.jpg",tit:"全新 易点租 QuickPC P32A 台式机(i5-8400/16G/240G SSD/GTX1050Ti 4G/P2319H 23英寸/无线键鼠/USB无线网卡/Linux/易点租保修)",newPrice:"7199"},{linkUrl:"117814",imgUrl:"https://edzimg.edianzu.com/product/2017/11/925a81e223ddc374596eaa434653e325.jpg",tit:"全新 小米(XIAOMI) Pro 15.6英寸笔记本电脑(i5-8250U/8G/256G SSD/MX150 2G独显/Win10 home)",newPrice:"5549"},{linkUrl:"118770",imgUrl:"https://edzimg.edianzu.com/product/2018/08/756a5370a76e6a34a4ac3a6547b402e7.jpg",tit:"全新 易点租 QuickPC P33A 台式机(i7-8700/16G/240G+2T/GTX1050Ti 4G/Q2790PQ 27英寸/无线键鼠/USB无线网卡/Linux/易点租保修)",newPrice:"9499"},{linkUrl:"117751",imgUrl:"https://edzimg.edianzu.com/product/2017/08/4047ea8ca991213158c933f930e9aad6.jpg",tit:"全新 惠普(HP) ProDesk 400 G4 SFF 小机箱台式机(i5-7500/8GB/1TB/AMD Radeon R7 430 2G独显/P232 23英寸显示器/Win10Home)",newPrice:"5049"},{linkUrl:"117676",imgUrl:"https://edzimg.edianzu.com/product/2018/04/4708be3a52c4c05e0f3bef3d69cce090.jpg",tit:"全新 ThinkPad E480(20KNA010CD)14英寸笔记本电脑(i7-8550U/8G/256G SSD/RX550 2G独显/1920*1080/1年保修)",newPrice:"6738"},{linkUrl:"119118",imgUrl:"https://edzimg.edianzu.com/product/2018/09/848a3c9ee372a233b03090296ff4bd62.jpg",tit:"全新 易点租 QuickPC P37 台式机(i7-8700/16G/240G SSD+2T/Quadro P2000 5G/P2719H 27英寸/无线键鼠/USB无线网卡/Linux)",newPrice:"10999"}]},{mainTit:"外设配件",mainImgUrl:"./images/floor-05.jpg",mainLinkUrl:"117791",productList:[{linkUrl:"117544",imgUrl:"https://edzimg.edianzu.com/product/2017/10/c8270dca7eb0f175065a145c77143ef1.jpg",tit:"全新 ThinkPad T300 原装单肩皮质电脑包",newPrice:"49"},{linkUrl:"117541",imgUrl:"https://edzimg.edianzu.com/product/2018/07/b86d1dbb90e934fbe3420680c82a4d76.jpg",tit:"THINKPAD 蓝光鼠标",newPrice:"69"},{linkUrl:"119333",imgUrl:"https://edzimg.edianzu.com/product/2018/09/f05b29673879198f23f47589b54a524d.jpg",tit:"全新 绿联（UGREEN）10459 Mini DP转VGA转换器 Surface扩展坞迷你dp转接线头苹果MacBook/Air Pro雷电接投影仪黑 12CM",newPrice:"58"},{linkUrl:"119284",imgUrl:"https://edzimg.edianzu.com/product/2018/09/09ab12484b843150fb9f2348cf6902a7.jpg",tit:"全新 罗技（Logitech）MK540 无线键鼠套装 MK520升级版 /黑色",newPrice:"288"},{linkUrl:"117796",imgUrl:"https://edzimg.edianzu.com/product/2017/11/a943d36fd819f4e8dd123b78f6dd5711.jpg",tit:"全新 魅族/Meizu Note5 手机 月光银 (MTK八核处理器/3G RAM/32G ROM/5.5寸FHD)",newPrice:"649"},{linkUrl:"117815",imgUrl:"https://edzimg.edianzu.com/product/2018/07/4c39207be4696fdc49549aea0f283b85.jpg",tit:"全新 AOC Q2790PQ",newPrice:"1804"},{linkUrl:"117793",imgUrl:"https://edzimg.edianzu.com/product/2017/07/2d9176c469b34a2cb61091cb527b24e7.jpg",tit:"全新 兄弟(brother) 标签打印机 PT-P900 (不含色带)",newPrice:"2939"},{linkUrl:"117788",imgUrl:"https://edzimg.edianzu.com/product/2017/10/5164d34d6cb07dc4db9af0a6cdb02a56.jpg",tit:"全新 爱普生/EPSON CB-X05E 投影仪(3300流明/XGA分辨率/HDMI/VGA/支持左右梯形校正)",newPrice:"3379"}]}]}},a.prototype.initColumnDom=function(){var t=this.getColumnData();e(".column-wrapper").html(template("columnTpl",t))},i.Application.Web.EQiGouIndex=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.validate=new i.Plugin.Validate(e(".prefect-form"),(!1)),this.equipmentRecycleService=new i.Service.EquipmentRecycle,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};a.prototype.init=function(){this.regSubmitEvent(),this.initSelect()},a.prototype.initSelect=function(){for(var t=[{text:"请选择购置年份",value:""}],e=2007;e<=(new Date).getFullYear();e++)t.push({text:e+"年",value:e});new i.Plugin.Dropdown(".year-select",{data:t,default_text:"请选择购置年份",default_value:"",onSelect:function(t,e){}})},a.prototype.regSubmitEvent=function(){var t=this;e(".book").on("click",".btn",function(){t.validate.doValid(),0===e(".prefect-form").find("[invalid]").length&&t.doSubmit()})},a.prototype.doSubmit=function(){var t=this,i=e('input[name="category"]:checked').map(function(){return this.value}).get(),a=e('input[name="brand"]:checked').map(function(){return this.value}).get(),n={companyName:e(".company-name input").val(),contact:e(".contact input").val(),phone:e(".phone input").val(),num:Number(e(".num input").val()),year:e(".year-select").attr("data-value"),category:JSON.stringify(i),brand:JSON.stringify(a),remark:e(".textarea").val(),secCustomerManager:e(".customer-manager input").val()};t.equipmentRecycleService.applyEquipmentRecycle(n).done(function(i){i.code||t.alert("预约成功！",function(){e(".prefect-form, .customer-manager").find("input").val(""),e(".category-brand-box").find('input[type="checkbox"]').prop("checked",!1),e(".textarea").val(""),t.initSelect()})})},i.Application.Web.EquipmentRecycle=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.isWap=e(document.body).attr("isWap"),this.form=e("#forgetform"),this.modal=i.Plugin.Modal,this.validate=new i.Plugin.Validate(this.form,this.isWap),this.customer=new i.Service.Customer};a.prototype.init=function(){this.isPhoneDisabled=!1,this.regSubmitEvent(),this.regSyncCheckPhoneUsed(),this.regSmsCodeBtnEvent(),this.regVoiceSmsCodeBtnEvent(),this.regCaptchaInitEvent(),this.captchaIns="",this.captchaData="",this.isClickVoiceCode=!1},a.prototype.regCaptchaInitEvent=function(){var t=this;initNECaptcha({captchaId:i.Common.captchaId,element:"#captcha",onVerify:function(e,i){t.captchaData=i,t.isClickVoiceCode?t.doSendVoiceSmsCode():t.doSendSmsCode()}},function(e){t.captchaIns=e},function(t){})},a.prototype.refreshCaptcha=function(){this.captchaIns&&this.captchaIns.refresh(),this.captchaData=""},a.prototype.enableSubmitSmsBtn=function(){var t=this.form.find("#smsCodeBtn"),e=this.form.find("#voiceSmsCodeBtn"),i=this.form.find("#phone");if(!t.attr("isWaiting"))return this.isPhoneDisabled?(t.attr("disabled","disabled").removeClass("sure-num-click"),void e.attr("disabled","disabled").removeClass("sure-num-click")):void(!i.attr("invalid")&&i.val().trim().length?(t.removeAttr("disabled").addClass("sure-num-click"),e.removeAttr("disabled").addClass("sure-num-click")):(t.attr("disabled","disabled").removeClass("sure-num-click"),e.attr("disabled","disabled").removeClass("sure-num-click")))},a.prototype.doSendSmsCode=function(){var t=this,i=e("#smsCodeBtn");if(!i.attr("isWaiting")&&!i.attr("disabled")){if(!t.captchaData||!t.captchaData.validate)return void e(".imgCode-error").html('<i class="icon-prefect-error"></i>请进行滑块验证');e(".imgCode-error").html("");var a=1;i.attr("channelId")&&(a=i.attr("channelId")),i.attr("isWaiting",!0),t.customer.sendSmsCode({phone:e("#phone").val(),validate:t.captchaData.validate,typeId:1,channelId:a,isReg:!1}).then(function(e){if(e.code)t.refreshCaptcha(),i.removeAttr("isWaiting");else{new t.modal("信息提示","短信验证码发送成功").alert();var a=t.form.find("#voiceSmsCodeBtn");a.addClass("hide"),i.attr("isWaiting",!0);var n=60,o=setInterval(function(){i.removeClass("sure-num-click").text(n+"秒后重新发送"),n--,0===n&&(i.removeAttr("isWaiting").attr("channelId",2).addClass("sure-num-click").text("重发短信验证码"),a.removeClass("hide").addClass("sure-num-click"),clearInterval(o),t.refreshCaptcha())},1e3)}})}},a.prototype.regSmsCodeBtnEvent=function(){var t=this;this.form.find("#smsCodeBtn").click(function(){t.isClickVoiceCode=!1,t.doSendSmsCode()})},a.prototype.doSendVoiceSmsCode=function(){var t=this,i=e("#voiceSmsCodeBtn");if(!i.attr("isWaiting")&&!i.attr("disabled")){if(!t.captchaData||!t.captchaData.validate)return void e(".imgCode-error").html('<i class="icon-prefect-error"></i>请进行滑块验证');e(".imgCode-error").html(""),i.attr("isWaiting",!0),t.customer.sendSmsCode({phone:e("#phone").val(),validate:t.captchaData.validate,channelId:3,isReg:!1}).then(function(e){if(i.removeAttr("isWaiting"),e.code)t.refreshCaptcha();else{new t.modal("信息提示","语音验证码发送成功").alert(),i.addClass("hide");var a=t.form.find("#smsCodeBtn");a.attr("isWaiting",!0);var n=60,o=setInterval(function(){a.removeClass("sure-num-click").text(n+"秒后重新发送"),n--,0===n&&(a.addClass("sure-num-click").attr("channelId",2).removeAttr("isWaiting").text("重发短信验证码"),i.removeClass("hide"),clearInterval(o),t.refreshCaptcha())},1e3)}})}},a.prototype.regVoiceSmsCodeBtnEvent=function(){var t=this;this.form.find("#voiceSmsCodeBtn").on("click",".code",function(){t.isClickVoiceCode=!0,t.doSendVoiceSmsCode()})},a.prototype.regSyncCheckPhoneUsed=function(){var t=this;this.form.find("#phone").blur(function(){var a=this;e(this).attr("invalid")||(t.form.attr("waitingCount",1),t.customer.verifyGetbackPwdPhone(e(this).val().trim()).then(function(e){t.form.attr("waitingCount",0),e.code?(t.isPhoneDisabled=!0,i.Common.showFromError(a,e.message)):(t.isPhoneDisabled=!1,t.enableSubmitSmsBtn())}))})},a.prototype.regSyncCheckSmsCode=function(){var t=this;this.form.find("#smsCode").blur(function(){var a=this;!e(this).attr("invalid")&&!e("#phone").attr("invalid")&&e("#phone").val().trim().length>0&&t.customer.checkSmsCode({phone:e("#phone").val().trim(),phoneCode:e(this).val().trim()}).then(function(t){t.code&&i.Common.showFromError(a,"短信验证码不正确")})})},a.prototype.regSubmitEvent=function(){var t=this;t.form.attr("waitingCount",0);var a=function(a){if(t.isPhoneDisabled)return i.Common.showFromError(e("#phone"),"账号冻结，请联系您的专属客户经理"),void a.removeAttr("submitting");if(0===t.form.find("[invalid]").length){var n={phone:e("#phone").val().trim(),smsCode:e("#smsCode").val().trim(),newPass:e("#pass").val().trim()};t.customer.forgetPassword(n).then(function(e){a.removeAttr("submitting"),e.code?t.refreshCaptcha():new t.modal("提示信息","您的密码已修改成功，请重新登录").alert(function(){location.href=ROOT_PATH+"/login"})})}else a.removeAttr("submitting")};e("#submitBtn").click(function(){var i=e(this);if(!i.attr("submitting"))if(i.attr("submitting",1),t.validate.doValid(),t.form.attr("waitingCount")>0){new t.modal("信息提示","正在校验数据，请稍后再试");var n=setInterval(function(){"0"===t.form.attr("waitingCount")&&(clearInterval(n),i.removeAttr("submitting"))},100)}else a(i)})},i.Application.Web.Forget=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.group=new e.Service.Group,this.beginTime=moment(new Date).format("x")};a.prototype.init=function(){this.bindAgreeBtnClickEvent(),this.bindClosePageEvent(),this.bindApplyBtnClickEvent(),this.bindPageLoadSendDataEvent()},a.prototype.bindClosePageEvent=function(){var e=this;t.onbeforeunload=function(){var t=moment(new Date).format("x"),a=t-e.beginTime;i("#result").length>0?e.group.groupDataEmbedding({applyTime:a}):e.group.groupDataEmbedding({propagandaTime:a})}},a.prototype.bindApplyBtnClickEvent=function(){var t=this;i("#apply-click").click(function(){t.group.groupDataEmbedding({clickApply:!0}).then(function(){location.href=ROOT_PATH+"/toGroupProtocol"},function(){location.href=ROOT_PATH+"/toGroupProtocol"})})},a.prototype.bindPageLoadSendDataEvent=function(){var t=this,e=i.trim(i("#result").val());"0"==e?t.group.groupDataEmbedding({applySuccess:!0}):t.group.groupDataEmbedding({applySuccess:!1})},a.prototype.bindAgreeBtnClickEvent=function(){var t=i("._agreementCheck"),e=i("._agreement-btn a");t.click(function(){i(this).find("input").is(":checked")?e.attr("href",ROOT_PATH+"/applyGroupAccount"):e.attr("href","javascript:;")})},e.Application.Web.GroupApplyService=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){e.Common.isLessIE9()&&(i("textarea").placeholder(),"Login"==i(document.body).attr("page")?i('input[type!="password"]').placeholder():i("input").placeholder()),this.customer=new e.Service.Customer,this.product=new e.Service.Product,this.order=new e.Service.Order,this.group=new e.Service.Group,this.depositService=new e.Service.Deposit,this.DepositHead=new e.Service.DepositHead,this.timeout_hide_top_menu};a.prototype.init=function(){this.regUserNavHoverEvent(),this.regCommonNavHoverEvent(),this.regSearch(),this.regLogout(),this.getUserData(),this.getProductQuickSearchKey(),this.getCartProductCount(),this.gotoGroupBtnClickEvent(),this.getIsApplied(),this.regLoginBtnClickEvent(),this.getInvoiceTips(),this.getTopNotice(),this.setIETipsEvent(),this.initWeixinMask(),this.deleteProductListCond()},a.prototype.initWeixinMask=function(){if(navigator.userAgent.indexOf("WindowsWechat")>-1&&!i.cookie("isWeixinFirst")){var t=new Date;t.setTime(t.getTime()+864e5),i.cookie("isWeixinFirst",!0,{path:".edianzu.com",expires:t}),this.temp=i(juicer(e.Template.weixinModal,{})),i(document.body).append(this.temp);var a=this;i(".tip-close").click(function(){a.temp.remove()})}},a.prototype.regLoginBtnClickEvent=function(){i("#to_login").click(function(){t.location.href=ROOT_PATH+"/login?returnUrl="+encodeURIComponent(t.location.href)})},a.prototype.getIsApplied=function(){var t=this;t.DepositHead.getIsApplied().then(function(e){if(!e.code){if(e.data&&1==e.data.isChild)return i("._application-remind").remove(),i("._apply-now").remove(),void i(".header-list .line").addClass("hide");e.data&&e.data.status?(i("#headerDepositLink").text("我的免押金额度"),t.depositService.getCreditApplyInfo().then(function(e){e.code||(e.data&&9==e.data.status?t.DepositHead.getDepositAmount().then(function(e){if(!e.code){var a=e.data?e.data:{},n=a.availableAmount,o=a.creditAmount,r=a.usedAmount;try{var s=r/o}catch(l){s=0}(0===o||s>.9)&&t.depositService.getApplyOperationRecords().then(function(t){!t.code&&t.data&&t.data[0]&&9!=t.data[0].status?(i("._application-remind").html(""),i("._apply-now").html(""),i(".header-list .line").addClass("hide")):(i("._application-remind").html("当前可用免押金额度为"+n+"元"),i("._apply-now").html('<a href="/credit_apply?amouneType=1" class="color-blue">申请提额</a>'),i(".header-list .line").removeClass("hide"))})}}):(i("._application-remind").html(""),i("._apply-now").html(""),i(".header-list .line").addClass("hide")))})):(i("._application-remind").html("您还未申请免押金额度"),i("._apply-now").html('<a href="/apply_deposit" class="color-blue">立即申请</a>'),i("#headerDepositLink").text("申请免押金额度"),i(".header-list .line").removeClass("hide"))}})},a.prototype.getCartProductCount=function(){var t=this;this.order.getCartProductCountFromServer().then(function(e){e&&!e.code&&(i(".index-Hshopping span").text(e.data),i(".center-Hshopping span").text(e.data),t.setCartNumStyle())})},a.prototype.setCartNumStyle=function(){var t=i(".eqigou-header-top").attr("data-webType"),e=i(".index-Hshopping span").html();1==t&&e>0?i(".index-Hshopping span").addClass("red"):i(".index-Hshopping span").removeClass("red")},a.prototype.regSearch=function(){i(".hsearch-text").val().trim()&&i(".search-del-btn").removeClass("hidden");var t=function(){var t=i(".hsearch-text").val().trim(),a=i(document.body).attr("page");if("ProductList"==a){var n=new e.Application.Web.ProductList;n.setTitle(t)}else{var o="";t&&(o="title="+encodeURI(t)),location.href=ROOT_PATH+"/category?"+o}};i(".hsearch-but").click(function(){t()}),i(".hsearch-text").on("keyup",function(e){13==e.keyCode&&t();var a=i(this),n=a.val().trim();n?a.siblings(".search-del-btn").show():a.siblings(".search-del-btn").hide()}),i(".search-del-btn").on("click",function(){i(".hsearch-text").focus().val(""),i(this).hide()})},a.prototype.regLogout=function(){var t=this;i(".logout").click(function(){t.customer.logout().then(function(t){t.code||(location.href=ROOT_PATH+"/login")})})},a.prototype.getUserData=function(){var t=i("#customerManager").parent();this.customer.getCreditBatch().then(function(t){var a="";if(t.code)for(var n=0;n<5;n++)a+='<i class="icon-star"></i>';else if(e.Common.isString(t.data)&&(t.data=JSON.parse(t.data)),t.data){var o=0;t.data.showStar&&(o=parseInt(t.data.showStar,10));for(var r=0;r<o;r++)a+='<i class="icon-star-light"></i>';if(t.data.showStar!=o&&(a+='<i class="icon-star-light-half"></i>',o+=1),o<5)for(var s=o;s<5;s++)a+='<i class="icon-star"></i>';i("#customerCreditBatch").html(a)}i("#customerCreditBatch").html(a)}),this.customer.getManager().then(function(a){t.removeClass("hide").addClass("show"),a.code||(e.Common.isString(a.data)&&(a.data=JSON.parse(a.data)),i.trim(a.data.name).length>0&&(i("._customerManager").append(a.data.name),i.trim(a.data.workPhone).length>0&&i("._customerManager").append("（"+a.data.workPhone+"）"),i("._customerManager").show()),a.data.oldDebitDate&&a.data.newDebitDate?i(".bill-tips").show().find("p").html("尊敬的客户，因9月账期恰逢国庆中秋假期，为了方便您办理付款事宜，我们将您的付款日由"+a.data.oldDebitDate+"顺延至"+a.data.newDebitDate+"，请在此之前完成付款，如有疑问，请致电客服：400-886-9528，<br/>祝您节日快乐，万事如意。"):i(".bill-tips").remove())})},a.prototype.getProductQuickSearchKey=function(){this.product.getQuickSearchKey().then(function(t){if(!t.code){var e="",a="";i.each(t.data,function(t,i){a=i.url.indexOf("http")>-1&&i.url.indexOf("http")<3?' <a href="${url}"> ${query} </a>':' <a href="'+ROOT_PATH+'/${url}"> ${query} </a>',e+=juicer(a,i)}),i(".search-word").html(e)}})},a.prototype.regUserNavHoverEvent=function(){var t=this;i(document).on("mouseenter click",".use_center > a, .use_center > ul",function(){"undefined"!=typeof t.timeout_hide_top_menu&&(clearTimeout(t.timeout_hide_top_menu),t.timeout_hide_top_menu=null),i(".use_center > ul").show(),i(".use_center .icon-header-centerup").removeClass("animated rotate-back").addClass("animated rotate"),i(".use_center .icon-eqigou-header-centerup").removeClass("icon-eqigou-header-centerup").addClass("icon-eqigou-header-centertop")}).on("mouseleave",".use_center > a, .use_center > ul",function(){t.timeout_hide_top_menu=setTimeout(function(){i(".use_center > ul").hide(),i(".use_center .icon-header-centerup").removeClass("rotate").addClass("rotate-back"),i(".use_center .icon-eqigou-header-centertop").removeClass("icon-eqigou-header-centertop").addClass("icon-eqigou-header-centerup")},300)})},a.prototype.regCommonNavHoverEvent=function(){i(".commonnav-bg h2").bind({mouseenter:function(t){i(".nav-list").fadeIn(),i(this).find(".nav-direction").removeClass("icon-nav-down").addClass("icon-nav-up")},mouseleave:function(t){i(".nav-list").fadeOut(),i(this).find(".nav-direction").removeClass("icon-nav-up").addClass("icon-nav-down")}}),(i("div").hasClass("index-nav-show")||i("div").hasClass(".index-nav-show"))&&(i(".commonnav-bg h2").unbind("mouseenter").unbind("mouseleave"),i(".nav-list").show())},a.prototype.gotoGroupBtnClickEvent=function(){var t=this;i("#goto-group-btn").click(function(){t.group.groupDataEmbedding({clickBanner:!0}).then(function(t){t.code||(location.href=ROOT_PATH+"/propaganda")})})},a.prototype.getInvoiceTips=function(){var t=i(".invoice-tips"),e=new Date("2018-01-01 00:00:00").getTime(),a=(new Date).getTime();e<=a||this.customer.checkIsGoalCustomer().then(function(e){!e.code&&e.data?t.show().find("p").html("尊敬的客户，年底将至，为满足贵公司财务结账需求，请及时登录易点租商城申请2017年发票。感谢您一直以来的信赖与支持，并提前祝您新年快乐。"):t.remove()})},a.prototype.getTopNotice=function(){var t=i(".top-notice");this.customer.getTopNotice().then(function(e){!e.code&&e.data?t.show().find("p").html(e.data):t.hide()})},a.prototype.setIETipsEvent=function(){var t=i(document.body).attr("page");"Login"!=t&&"Register"!=t&&"Forget"!=t||e.Common.isLessIE9()&&e.Common.isWindowsXP()&&(new e.Plugin.IETips).open()},a.prototype.deleteProductListCond=function(){"ProductList"!=i(document.body).attr("page")&&i.cookie("showAllCond",null,{path:"/"})},e.Application.Web.Header=a;
}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.modal=e.Plugin.Modal,this.help=new e.Service.HelpAbout,this.template=e.Template.helpAbout};a.prototype.init=function(){var t=i(document.body).attr("currentId");i(".help"+t).addClass("cur-help"),i(".join-us .post-layer")[0]&&this.initDom()},a.prototype.getData=function(){return{list:[{postName:"销售部-客户经理",location:"北京",detail:[{duty:"1、负责寻找、搜集外部资源、挖掘企业客户，评估资源的可合作性，并进行沟通；"},{duty:"2、通过电话、见面拜访等方式与客户进行有效沟通，了解客户需求，寻找销售机会并完成销售业绩；"},{duty:"3、把我们产品的优势和影响力介绍给客户，更好的取得客户的信赖，最终达成销售任务；"},{duty:"4、与客户建立并保持正常稳定的关系，保证业务良好开展。"}]},{postName:"重要客户部-大客户销售经理",location:"北京",detail:[{duty:"1、负责市场拓展路径策略的方案及执行；"},{duty:"2、收集和分析市场数据，并定期反馈最新信息，负责目标行业潜在客户的拓展及合作跟进；"},{duty:"3、通过对客户行业特性以及客户痛点的挖掘，结合平台产品提供解决方案；"},{duty:"4、挖掘重点客户的新需求，维持与大客户的良好业务关系，及时更新公司产品信息，达成稳定的长久合作关系；"},{duty:"5、定期向上级提交客户需求情况分析报告及调研报告，为公司的总体经营部署提供可靠依据；"},{duty:"6、负责业务跟进、客户信息整理及客户关系维护等后续工作，树立标杆案例；"},{duty:"7、搭建内外部沟通渠道，处理各环节产生的矛盾及问题。"}]},{postName:"运营中心-客户成功经理",location:"北京",detail:[{duty:"1、关键客户关键人关系维护；"},{duty:"2、通过客户驻场或定期拜访的方式了解客户服务需求，加强与客户关键人的联系；"},{duty:"3、变被动响应为主动服务和支持，制定客户跟踪计划，跟踪反馈客户使用过程中的问题和需求，跨部门协调公司产品、生产、服务运营等部门，解决客户需求；"},{duty:"4、了解客户关键人考核，协助客户成功；"},{duty:"5、提高客户体验，保证客户满意度，并识别二次销售机会提高续约扩签率和用户粘性；"},{duty:"6、通过市场分析、客户反馈、产品梳理等提出产品改进方案，持续优化产品；"},{duty:"7、总结客户使用情况，汇总制作案例沉淀，分析客户流失原因。"}]},{postName:"研发中心-Java开发工程师",location:"北京",detail:[{duty:"1、负责编写主要功能代码实现产品功能模块；"},{duty:"2、进行单元测试和代码调优；"},{duty:"3、协调解决开发过程中的技术问题；"},{duty:"4、支持业务人员的需求，提出相应的解决方案并实现； "},{duty:"5、根据项目leader的分工完成各项程序的开发工作。"}]}]}},a.prototype.initDom=function(){var t=this.getData();i(".join-us .post-layer").html(template.compile(this.template.postInfo)(t)),this.regClickFoldEvent()},a.prototype.regClickFoldEvent=function(){i(".post-box").on("click",".post-summary",function(){var t=i(this).siblings(".post-desc"),e=i(this).closest(".post-box").siblings(".post-box").find(".post-desc"),a=i(this).find(".arrow-icon"),n=i(this).closest(".post-box").siblings(".post-box").find(".arrow-icon");t.hasClass("show")?(t.toggleClass("show hide"),a.toggleClass("icon-blue-up-arrow icon-blue-down-arrow")):(t.toggleClass("show hide"),a.toggleClass("icon-blue-up-arrow icon-blue-down-arrow"),e.addClass("hide").removeClass("show"),n.addClass("icon-blue-down-arrow").removeClass("icon-blue-up-arrow"))})},e.Application.Web.HelpAbout=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){};a.prototype.init=function(){var t=i("<span>+</span>");t.css({"margin-left":80,"font-size":18,"font-weight":"bold"}),i(".sub-nav").hasClass("open")&&t.text("-"),i(".sub-nav").children("a").append(t),i(".sub-nav").click(function(){i(this).hasClass("open")?(i(this).removeClass("open"),t.text("+")):(i(this).addClass("open"),t.text("-"))})},e.Application.Web.HelpIndex=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.customerService=new i.Service.Customer};a.prototype.init=function(){this.regFloorScrollEvent(),this.regHelpBtnHoverEvent(),this.regScrollBanner(),0===e("#to_login").length&&this.checkNoticeModifyPhone()},a.prototype.createImg=function(){var t=document.createElement("img");e(document.body).append(t),e(t).css({width:0,height:0}),this.$img=e(t)},a.prototype.regHelpBtnHoverEvent=function(){e(".fnav_small li").hover(function(){e(this).find("i").first().hide(),e(this).find("i").last().show(),e(this).addClass("addbg"),e(this).find("a").css("color","white")},function(){e(this).find("i").first().show(),e(this).find("i").last().hide(),e(this).removeClass("addbg"),e(this).find("a").css("color","#333")})},a.prototype.regFloorScrollEvent=function(){var i=[],a=e(".hot-model").length?e(".hot-model").offset().top-100:0;if(i.push(a),_.each(e('div[id^="floor-"]'),function(t,a){a<5&&i.push(e(t).offset().top-250)}),e(".cooper-partner").length){i.push(e(e(".cooper-partner")[0]).offset().top-380),i.push(e(".footerAll").offset().top-320),e("#floor-direct a").attr("href","javascript:;"),e("#floor-direct li").click(function(){e("html,body").animate({scrollTop:i[e(this).index()]+10},100)});var n=function(){var t=e(document).scrollTop();t>a?e("#floor-direct").show():e("#floor-direct").hide();var n=-1;if(_.each(i,function(e,a){i[a]<t&&t<=i[a+1]&&(n=a),t>i[a+1]&&(n=7)}),n>=0){if(7==n)return void e("#floor-direct").hide();e("#floor-direct").find(".num").css("display","block"),e("#floor-direct").find(".word").hide(),e("#floor-direct ul li").eq(n).find(".num").hide(),e("#floor-direct ul li").eq(n).find(".word").css("display","block")}};e(t).scroll(n)}},a.prototype.vipArea=function(){var t=e(".apply .apply_w"),i=t.children();t.css("width",251*i.length),e(".apply .img_l").click(function(){var i=e(this);if(!i.attr("running")){i.attr("running",!0);var a=e(t.children()[t.children().length-1]).clone();a.insertBefore(e(t.children()[0])),t.css({left:"-=247px"}),t.animate({left:"+=247px"},200,function(){e(t.children()[t.children().length-1]).remove(),i.removeAttr("running")})}}),e(".apply .img_r").click(function(){var i=e(this);i.attr("running")||(i.attr("running",!0),t.animate({left:"-=247px"},200,function(){var a=e(t.children()[0]).clone();t.append(a),t.css({left:0}),e(t.children()[0]).remove(),i.removeAttr("running")}))})},a.prototype.regScrollBanner=function(){e(".main_image").touchSlider({flexible:!0,speed:200,btn_prev:e(".btn_prev"),btn_next:e(".btn_next"),paging:e(".flicking_inner a"),counter:function(t){e(".flicking_inner a").removeClass("on").eq(t.current-1).addClass("on")}}),e(".main_visual").hover(function(){i.Common.isLessIE9()?e(".banner-btn").show():e(".banner-btn").fadeIn()},function(){i.Common.isLessIE9()?e(".banner-btn").hide():e(".banner-btn").fadeOut()});var t=function(){return setInterval(function(){e(".btn_next").click()},5e3)},a=t();e(".main_visual").hover(function(){clearInterval(a)},function(){a=t()})},a.prototype.checkNoticeModifyPhone=function(){var a=this;a.customerService.checkNoticeModifyPhone().done(function(n){if(!n.code&&n.data){var o,r="温馨提示",s="尊敬的用户，您好，系统检测到您设置的“接收消息通知手机号”为您所在公司的股东/法人手机号，为避免通知消息打扰到您的领导，您可以把“通知手机号”更改为相关负责人的手机号。",l={ok_txt:"不再提示",cancel_txt:"立即修改"};new i.Plugin.Modal(r,s,o,l).confirm(function(){a.stopNoticeModifyPhone()},function(){t.location="/modifyNoticePhone"}),e(".window .bounced-btn .cancel-btn").css("background","#37a3ff")}})},a.prototype.stopNoticeModifyPhone=function(){this.customerService.stopNoticeModifyPhone().done(function(t){!t.code})},i.Application.Web.Index=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){};a.prototype.init=function(){this.initDom()},a.prototype.getData=function(){return{list:[{tit:"全新 ThinkPad X1 Carbon 2018 (20KH0009CD) 14英寸超轻薄笔记本",desc:"i5-8250U/8G/256G SSD/UHD 620核显/FHD/Win 10 Home/黑色",imgURL:"images/lenovo-01.png",productId:114854},{tit:"全新 ThinkPad T480 (20L50021CD) 14英寸笔记本电脑",desc:"i5-8250U/8G/500G/GeForce MX150 2G/HD/0+6电池/Win 10 Home/黑色",imgURL:"images/lenovo-02.png",productId:114852},{tit:"全新 ThinkPad X280 (20KF000RCD) 12.5英寸超轻薄笔记本电脑",desc:"i5-8250U/8G/256G SSD/UHD 620核显/HD/Win 10 Home/0+6电池/黑色",imgURL:"images/lenovo-03.png",productId:114856},{tit:"全新 ThinkPad E480 (20KNA003CD) 14英寸笔记本电脑",desc:"i5-8250U/8G/1T/RX550 2G独显/HD/Win 10 Home/黑色",imgURL:"images/lenovo-04.png",productId:114848},{tit:"全新 ThinkPad NEW S2 (20L1A001CD) 13.3英寸超轻薄笔记本",desc:"i5-8250U/8G/256G SSD/UHD 620核显/FHD/Win 10 Home/银色",imgURL:"images/lenovo-05-1.png",productId:114851}]}},a.prototype.initDom=function(){var t=this.getData();e(".item-wrapper").html(template("productTemplate",t))},i.Application.Web.Lenovo=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){};a.prototype.init=function(){this.initDom()},a.prototype.getMainData=function(){return{list:[{title:"全新 ThinkPad E470 (20H1A08PCD) 14英寸笔记本电脑",tags:["i3-6006U<br>处理器","4GB<br>内存","500GB<br>硬盘","HD520<br>核显"],imgURL:"images/lenovo-119043.png",productId:119043,rent:99},{title:"全新 ThinkPad E480 (20KNA01ACD) 14英寸笔记本电脑",tags:["i3-7020U<br>处理器","4G<br>内存","256GB<br>SSD","HD620<br>核显"],imgURL:"images/lenovo-119050.png",productId:119050,rent:168},{title:"全新 ThinkPad NEW S2 (20L1A001CD)13.3寸笔记本",tags:["i5-8250U<br>处理器","8G<br>内存","256GB<br>SSD","UHD 620<br>核显"],imgURL:"images/lenovo-119054.png",productId:119054,rent:232}]}},a.prototype.getBottomData=function(){return{list:[{title:"全新 ThinkPad E480 (20KNA003CD)14英寸笔记本电脑",tag:"i5-8250U/8G/1T/RX550 2G独显",imgURL:"images/lenovo-119044.png",productId:119044,rent:216},{title:"全新 ThinkPad E470 (20H1A08PCD) 14英寸笔记本电脑",tag:"i3-6006U/4G/250G SSD/核显",imgURL:"images/lenovo-119048.png",productId:119048,rent:139},{title:"全新 ThinkPad E480 (20KNA00QCD)14英寸笔记本电脑",tag:"i5-8250U/8G/256G SSD/RX550 2G独显",imgURL:"images/lenovo-119042.png",productId:119042,rent:248},{title:"全新 ThinkPad E480 (20KNA00CCD)14英寸笔记本电脑",tag:"i5-8250U/8G/128G SSD+1T/RX550 2G独显",imgURL:"images/lenovo-119052.png",productId:119052,rent:258},{title:"全新 ThinkPad X280 (20KF000RCD)12.5寸笔记本电脑",tag:"i5-8250U/8G/256G SSD/UHD620核显",imgURL:"images/lenovo-119046.png",productId:119046,rent:269},{title:"全新 ThinkPad T480 (20L5A00DCD)14英寸笔记本电脑",tag:"i5-8250U/8G/256G SSD/核显",imgURL:"images/lenovo-119047.png",productId:119047,rent:278},{title:"全新 ThinkPad E480(20KNA010CD)14英寸笔记本电脑",tag:"i7-8550U/8G/256G SSD/RX550 2G独显",imgURL:"images/lenovo-119045.png",productId:119045,rent:298},{title:"全新 ThinkPad E480（20KNA014CD）14英寸笔记本电脑",tag:"i7-8550U/8G/128G SSD+1T HDD/RX550 2GB 独显",imgURL:"images/lenovo-119049.png",productId:119049,rent:308},{title:"全新 ThinkPad NEW S2 (20L1A005CD)13.3寸笔记本",tag:"i7-8550U/8G/256G SSD/UHD 620核显",imgURL:"images/lenovo-119056.png",productId:119056,rent:358},{title:"全新 ThinkPad X1 Carbon 2018 (20KH0009CD)14寸笔记本",tag:"i5-8250U/8G/256G SSD/UHD 620核显",imgURL:"images/lenovo-119053.png",productId:119053,rent:387},{title:"全新 ThinkPad T480 (20L5A00LCD)14英寸笔记本电脑",tag:"i5-8250U/8G/256G SSD/MX150 2G独显",imgURL:"images/lenovo-119051.png",productId:119051,rent:388},{title:"全新2017款 ThinkPad X1 Carbon (20HRA01DCD) 14寸笔记本",tag:"i7-7500u/8G/256G SSD/集显",imgURL:"images/lenovo-119055.png",productId:119055,rent:398}]}},a.prototype.initDom=function(){var t=this.getMainData(),i=this.getBottomData();e(".lenovo-main").html(template("mainProductTemplate",t)),e(".lenovo-bottom").html(template("bottomProductTemplate",i))},i.Application.Web.Lenovo2=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){};a.prototype.init=function(){this.initDom()},a.prototype.getData=function(){return{list:[{tit:"全新 微软(Microsoft) 2017款 Surface Pro (FJU00009) 12.3寸便携超极本",desc:"第七代i5/4G/128G SSD/核显Intel HD615/Win10 Pro(键盘盖及触控笔需另行配购)",imgURL:"images/microsoft-01.jpg",office:[{type:"Office 365商业协作版",productId:"113594",oldPrice:"378",newPrice:"332"},{type:"Office 365商业版",productId:"113595",oldPrice:"398",newPrice:"349"},{type:"Office 365商业高级版",productId:"113596",oldPrice:"428",newPrice:"375"}]},{tit:"全新 微软(Microsoft) 2017款 Surface Pro (FJY00009) 12.3寸便携超极本",desc:"第七代i5/8G/256G SSD/核显Intel HD615/Win10 Pro(键盘盖及触控笔需另行配购)",imgURL:"images/microsoft-02.jpg",office:[{type:"Office 365商业协作版",productId:"113597",oldPrice:"488",newPrice:"427"},{type:"Office 365商业版",productId:"113598",oldPrice:"508",newPrice:"444"},{type:"Office 365商业高级版",productId:"113599",oldPrice:"538",newPrice:"470"}]},{tit:"全新 微软(Microsoft) 2017款 Surface Pro (FKG00009) 12.3寸便携超极本",desc:"第七代i7/8G/256G SSD/核显Iris Plus 640/Win10 Pro(键盘盖及触控笔需另行配购)",imgURL:"images/microsoft-03.jpg",office:[{type:"Office 365商业协作版",productId:"113600",oldPrice:"608",newPrice:"538"},{type:"Office 365商业版",productId:"113601",oldPrice:"628",newPrice:"555"},{type:"Office 365商业高级版",productId:"113602",oldPrice:"658",newPrice:"581"}]},{tit:"全新 微软(Microsoft) 2017款 Surface Pro (FKJ00009) 12.3寸便携超极本",desc:"第七代i7/16G/512G SSD/核显Iris Plus 640/Win10 Pro(键盘盖及触控笔需另行配购)",imgURL:"images/microsoft-04.jpg",office:[{type:"Office 365商业协作版",productId:"113603",oldPrice:"858",newPrice:"767"},{type:"Office 365商业版",productId:"113604",oldPrice:"878",newPrice:"784"},{type:"Office 365商业高级版",productId:"113605",oldPrice:"908",newPrice:"810"}]},{tit:"全新 微软(Microsoft) 2017款 Surface Pro (FKL00009) 12.3寸便携超极本",desc:"第七代i7/16G/1TB SSD/核显Iris Plus 640/Win10 Pro(键盘盖及触控笔需另行配购)",imgURL:"images/microsoft-05.jpg",office:[{type:"Office 365商业协作版",productId:"113606",oldPrice:"1058",newPrice:"943"},{type:"Office 365商业版",productId:"113607",oldPrice:"1078",newPrice:"960"},{type:"Office 365商业高级版",productId:"113608",oldPrice:"1108",newPrice:"986"}]}]}},a.prototype.initDom=function(){var t=this.getData();e(".item-wrapper").html(template("productTemplate",t))},i.Application.Web.Microsoft=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.pageSize=10,this.service=new i.Service.Customer,this.DepositHeadService=new i.Service.DepositHead};a.prototype.init=function(t){var a=this;a.initEvent(),a.initTypeDropdown(),a.getCustomerTrans(1),this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)},this.DepositHeadService.getDepositAmount().then(function(t){t.code||(!t.data||0===t.data.creditApply&&9==t.data.status?e("#raiseAmountId").show():e("#raiseAmountId").hide())})},a.prototype.initEvent=function(){var t=this;e("#search").click(function(){t.getCustomerTrans()}),e("#rangeType").change(function(){t.getCustomerTrans()}),e(".search-items .item-bar").click(function(){e(".search-items .item-bar").removeClass("on"),e(this).addClass("on"),t.getCustomerTrans()}),e(".search-bar .type").click(function(){e(".search-bar .type").removeClass("on"),e(this).addClass("on"),t.getCustomerTrans()}),e(".export-btn").click(function(){t.exportCustomerBill()})},a.prototype.initTypeDropdown=function(){var t=this;new i.Plugin.Dropdown("#rangeType",{data:[{text:"所有记录",value:"0"},{text:"近一周",value:"1"},{text:"近一个月",value:"2"},{text:"近三个月",value:"3"},{text:"三个月前",value:"4"}],default_text:"所有记录",default_value:"0",onSelect:function(e,i){t.getCustomerTrans(1)}})},a.prototype.getCustomerTrans=function(t){t=t?t:1;var a=this,n={orderId:e("#orderId").val(),rangeType:e("#rangeType").attr("data-value"),billType:e(".search-items .item-bar.on").attr("data-value")-0,accountType:e(".search-bar .type.on").attr("data-value")-0,startIndex:(t-1)*a.pageSize,pageSize:a.pageSize};a.service.queryCustomerTrans(n).then(function(n){if(!n.code){var o=n.data?n.data:{};if(o&&o.customerTranLogList&&o.customerTranLogList.length>0){var r=template("my_account_list_tpl",{list:o.customerTranLogList});e("#dataTable").html(r),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.getCustomerTrans(t)}),o.totalCount>a.pageSize?e("#paper_order").removeClass("paper-order-off"):e("#paper_order").addClass("paper-order-off")}else e("#paper_order").addClass("paper-order-off"),e("#dataTable").html("<tr><td colspan='7'>暂无信息！</td></tr>"),e("[pagination]").empty()}})},a.prototype.exportCustomerBill=function(){var t={orderId:e("#orderId").val(),rangeType:e("#rangeType").attr("data-value"),billType:e(".search-items .item-bar.on").attr("data-value")-0,accountType:e(".search-bar .type.on").attr("data-value")-0},i=e.param(t),a="/customer/exportCustomerBill?"+i;e('<form method="post" action="'+a+'"></form>').appendTo("body").submit().remove()},i.Application.Web.UC_MyAccount=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.order=new i.Service.Order,this.temp=i.Template.orderRent,this.pageSize=10};a.prototype.init=function(){var t=this;t.getDeviceListByOrder(1),t.tabClick(),e("#search").click(function(){e("#paper_order").is(":hidden")?t.getDeviceListByDevice(1):t.getDeviceListByOrder(1)}),e(".rent-tab li").click(function(){var i=e(this).attr("tabid");e(this).addClass("on").siblings().removeClass("on"),e("#"+i).show().siblings("table").hide(),i.indexOf("ddan")!=-1?(e("#paper_device").hide(),t.getDeviceListByOrder(1),e("#paper_order").show()):(e("#paper_order").hide(),t.getDeviceListByDevice(1),e("#paper_device").show())})},a.prototype.tabClick=function(){e(document).on("click",".tab-colspan td .rent-tabbtn",function(){var t=e(this).parents("tbody").next("tbody");t.hasClass("hide")?(t.removeClass("hide"),e(this).addClass("on")):(t.addClass("hide"),e(this).removeClass("on"))})},a.prototype.getDeviceListByOrder=function(t){var a=this,n={nameOrOrderId:e("#nameOrOrderId").val(),startIndex:(t-1)*a.pageSize,pageSize:a.pageSize},o="";a.order.getDeviceList(n,1).then(function(n){n.code?o=juicer(i.Template.orderRent.headerTempNone,n.data):n.data?(o=juicer(i.Template.orderRent.headerTemp,n.data),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(n.data.totalCount/a.pageSize)).init(function(t){a.getDeviceListByOrder(t)})):o=juicer(i.Template.orderRent.headerTempNone,n.data),e("#tab_ddan").html(o)})},a.prototype.getDeviceListByDevice=function(t){var a=this,n={nameOrOrderId:e("#nameOrOrderId").val(),startIndex:(t-1)*a.pageSize,pageSize:a.pageSize},o="";a.order.getDeviceList(n,2).then(function(n){n.code?o=juicer(i.Template.orderRent.headerDeviceNone,n.data):n.data?(o=juicer(i.Template.orderRent.headerDevice,n.data),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(n.data.totalCount/a.pageSize)).init(function(t){a.getDeviceListByDevice(t)})):o=juicer(i.Template.orderRent.headerDeviceNone,n.data),e("#tab_sbei").html(o)})},i.Application.Web.UC_OrderRent=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.availableBalance=Number(i(".pay-box").attr("data-availableBalance")),this.needPay=Number(i(".need-pay").attr("data-needPay")),this.remainingType=1,this.payment="alipay"};a.prototype.init=function(){this.initDom(),this.initBlance(),this.regSelectReduceEvent(),this.regPayEvent()},a.prototype.getData=function(){return{list:[{tit:"支付宝：",types:[{imgURL:"images/alipay-logo.jpg",name:"alipay"}]},{tit:"个人网银：",types:[{imgURL:"images/ICBCB2C-logo.jpg",name:"ICBCB2C"},{imgURL:"images/CMB-logo.jpg",name:"CMB"},{imgURL:"images/CCB-logo.jpg",name:"CCB"},{imgURL:"images/ABC-logo.jpg",name:"ABC"},{imgURL:"images/SPDB-logo.jpg",name:"SPDB"},{imgURL:"images/CMBC-logo.jpg",name:"CMBC"},{imgURL:"images/CIB-logo.jpg",name:"CIB"},{imgURL:"images/COMM-DEBIT-logo.jpg",name:"COMM-DEBIT"},{imgURL:"images/GDB-logo.jpg",name:"GDB"},{imgURL:"images/POSTGC-logo.jpg",name:"POSTGC"},{imgURL:"images/SPABANK-logo.jpg",name:"SPABANK"},{imgURL:"images/SHBANK-logo.jpg",name:"SHBANK"},{imgURL:"images/BJBANK-logo.jpg",name:"BJBANK"},{imgURL:"images/SHRCB-logo.jpg",name:"SHRCB"},{imgURL:"images/WZCBB2C-DEBIT-logo.jpg",name:"WZCBB2C-DEBIT"},{imgURL:"images/BJRCB-logo.jpg",name:"BJRCB"}]},{tit:"企业网银：",types:[{imgURL:"images/ABCBTB-logo.jpg",name:"ABCBTB"},{imgURL:"images/CCBBTB-logo.jpg",name:"CCBBTB"},{imgURL:"images/SPDBB2B-logo.jpg",name:"SPDBB2B"},{imgURL:"images/CMBBTB-logo.jpg",name:"CMBBTB"}]}]}},a.prototype.initDom=function(){var t=this.getData();i(".pay-type-layer").html(template("payTemplate",t)),this.regPayTypeEvent()},a.prototype.initBlance=function(){this.availableBalance<=0?(this.remainingType=0,i(".balance-deduction-box").remove()):this.doSelectReduce()},a.prototype.regSelectReduceEvent=function(){var t=this;i(".balance-deduction-box .deduce-type").on("click",".checkbox",function(){i(this).hasClass("disabled")||(i(this).toggleClass("checked"),i(this).hasClass("checked")?t.doSelectReduce():(t.remainingType=0,t.payment=i(".pay-type-layer li.checked").attr("data-name"),i(".pay-type-layer").removeClass("hide"),i(".cash-deduce").addClass("hide").find(".cash-money").text("0.00"),i(".actual-pay-box").addClass("hide").find(".actual-pay").text(t.needPay.toFixed(2))))})},a.prototype.doSelectReduce=function(){var t=this;if(t.remainingType=1,i(".balance-deduction-box").find(".cash").addClass("checked"),t.availableBalance>=t.needPay)t.payment=null,i(".pay-type-layer").addClass("hide"),i(".cash-deduce").removeClass("hide").find(".cash-money").text(t.needPay.toFixed(2)),i(".actual-pay-box").addClass("hide").find(".actual-pay").text("0.00");else{t.payment=i(".pay-type-layer li.checked").attr("data-name");var e=t.needPay-t.availableBalance;i(".pay-type-layer").removeClass("hide"),i(".cash-deduce").removeClass("hide").find(".cash-money").text(t.availableBalance.toFixed(2)),i(".actual-pay-box").removeClass("hide").find(".actual-pay").text(e.toFixed(2))}},a.prototype.regPayTypeEvent=function(){var t=this;i(".pay-type-layer").on("click","li",function(){i(this).hasClass("checked")||(i(".pay-type-layer li").removeClass("checked"),i(this).addClass("checked"),t.payment=i(this).attr("data-name"))})},a.prototype.regPayEvent=function(){var t=this;i(".pay-btn").on("click",function(){var e={payment:t.payment,remainingType:t.remainingType,orderId:i(".order-info").attr("data-orderId")},a=i.param(e),n="aliPay/tradeOrder?"+a;i('<form method="post" action="'+n+'"></form>').appendTo("body").submit().remove()})},e.Application.Web.OrderPay=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)},this.productService=new i.Service.Product,this.customerService=new i.Service.Customer,this.cartService=new i.Service.ShoppingCart,this.temp=i.Template.product,this.statusInfo={isLogin:!1,hasDepositAmount:!1},this.customerInfo={canUsedDepositAmount:0},this.payType={1:{name:"月",month:1},2:{name:"季度",month:3},3:{name:"半年",month:6},4:{name:"年",month:12}}};a.prototype.showSuccessTip=function(i){var a=e(".success-tip");0===a.length&&(a=e(this.temp.successTip),e(document.body).append(a),a.find(".close-tip").click(function(){a.removeClass("animated fadeInUp").addClass("animated fadeOutDown"),setTimeout(function(){a.addClass("hide"),i.removeClass("disabled").removeAttr("disabled")},1e3)}));var n=i.offset(),o=n.left;n.left+a.width()>e(t).width()&&(o=n.left-a.width()-20),a.css({left:o,top:n.top-a.height()/2}),a.removeClass("hide animated fadeOutDown").addClass("animated fadeInUp")},a.prototype.isInNationalDay=function(t){var e=i.Common.isInNationalDay(t);return e&&this.alert("国庆期间暂停发货，请选择10月7日及之后的日期。"),e},a.prototype.getDateLimit=function(){var t=this;t.productService.getDateLimit().then(function(e){!e.code&&e.data&&e.data.length?(t.abledMinDate=moment(e.data[0]).subtract("days",1).format("YYYY-MM-DD"),t.abledMaxDate=moment(e.data[1]).add("days",1).format("YYYY-MM-DD"),t.regStartDateInputPlugin()):t.regStartDateInputPlugin()})},a.prototype.init=function(){this.getDateLimit(),this.setSaleProductPanelWidth(),this.setSaleProductPanelScroll(),this.regTabChangeEvent(),this.loadProductQAList(),this.regProductImagePreview(),this.regSelectSaleProductEvent(),this.regAddSaleToCartBtnEvent(),this.regConfigTagClickEvent(),this.regOnSiteServiceTagEvent(),this.regShowMoreRentTypeClickEvent(),this.regRentTypeCheckboxClickEvent(),this.initShowMoreRentType(),this.regPayTypeClickEvent(),this.regChangeCountEvent(),this.regAccidentServiceClickEvent(),this.regRentSoftServiceClickEvent(),this.regRentTypeHoverEvent(),this.regAddToCartBtnEvent(),this.regSubmitQuestionEvent();var t=this;this.checkLoginAndDepositAmount().then(function(e){t.calculateAmount()}),this.initJudgeToCart()},a.prototype.initJudgeToCart=function(){var t=this,i=e.cookie("cartParam");e.cookie("cartParam","",{path:"/"}),"ADDTOCART"==i&&setTimeout(function(){t.showSuccessTip(e(".add-to-cart-btn"))},100)},a.prototype.calculateAmount=function(){var t=e("#buyCount").val(),i=e("#productId").val();this.calculateDeposit(t,i),this.calculateRentAmount(t)};var n=0,o=0;a.prototype.calcCart=function(t,i){var a=0;a=i?o+t:n+t,e("#limitPrice").html(a.toFixed(2))},a.prototype.calculateRentAmount=function(t){var i=this;if("1"!==e("#isSale").val()){t=t>0?t:1;var a=e(".rent-type-item .checked").attr("amount");e("#price").html("￥"+a),e("#priceShow").html("￥"+a);var n=a*t,r=this.getCurrentPayType();if(r){var s=this.payType[r].month,l=0,d=0;e("#accidentService").hasClass("checked")&&(l=e("#accidentService").attr("data-price"),d=l*t*s,n+=d),e("#rentSoftService").hasClass("checked")&&(l=Number(e("#rentSoftService").attr("data-price")),l*=t,n+=l);var c=0,p=0;e("#onSiteService").parent().hasClass("checked")&&(c=e("#onSiteService").attr("data-price"),p=c*t*s,n+=p);var u=0,h=0;e(".office-dd .config-tag").hasClass("checked")&&(u=parseFloat(e(".office-dd .checked").attr("price")),h=u*t*s,n+=h),o=n,i.calcCart(n,!1),e("#priceshow").html("￥"+n),e("#sumPrice").html("￥"+n)}}},a.prototype.calculateDeposit=function(t,i){var a=this;t=t>0?t:1;var n=parseInt(e("#deposit").val())*t;e(".deposit-amount").html("￥"+n),a.statusInfo.isLogin?a.productService.getDeposit(i,n).then(function(t){if(!t.code){var i=parseInt(t.data,10);e(".deposit-exempt-amount").html("￥"+i),e(".my-deposit-amount").text("￥"+a.customerInfo.canUsedDepositAmount);var o=n-i;e(".need-pay-deposit").html("￥"+o),o>0?(e(".no-deposit-amount").addClass("hide"),e(".need-deposit-amount").removeClass("hide"),a.statusInfo.hasDepositAmount?(e(".deposit-ops").addClass("hide"),e(".no-apply-deposit").addClass("hide"),a.customerInfo.canUsedDepositAmount<=i&&(e(".deposit-ops").removeClass("hide"),e(".can-used-deposit-amount").removeClass("hide"))):(e(".deposit-ops").removeClass("hide"),e(".no-apply-deposit").removeClass("hide"),e(".can-used-deposit-amount").addClass("hide"))):(e(".no-deposit-amount").removeClass("hide"),e(".need-deposit-amount").addClass("hide"),e(".deposit-ops").addClass("hide"),e(".no-apply-deposit").addClass("hide"),e(".can-used-deposit-amount").addClass("hide"))}}):(e(".deposit-exempt-amount").html("￥0"),e(".need-pay-deposit").html("￥"+n),e(".need-deposit-amount").removeClass("hide"))};var r=0,s=1;a.prototype.setSaleProductPanelStatus=function(){0==r?e("#leftProBtn").addClass("left-off"):e("#leftProBtn").removeClass("left-off"),s-r==4?e("#rightProBtn").addClass("right-off"):e("#rightProBtn").removeClass("right-off")},a.prototype.setSaleProductPanelWidth=function(){e("#leftProBtn").addClass("left-off"),s=e("#saleListId .item").length,s<5&&e("#rightProBtn").addClass("right-off");var t=175*s;e("#saleListId").width(t)},a.prototype.setSaleProductPanelScroll=function(){var t=this;e("#leftProBtn").click(function(){var i="";return 0!=r&&(r--,i=175*r+"px",t.setSaleProductPanelStatus(),e("#saleListId").css("right",i),void 0)}),e("#rightProBtn").click(function(){var i="";s-r>4&&(r++,i=175*r+"px",t.setSaleProductPanelStatus(),e("#saleListId").css("right",i))})},a.prototype.regTabChangeEvent=function(){e(".tab-box li").click(function(){var t=e(this).index();e(".tab-box li").removeClass("hover"),e(this).addClass("hover"),e(".tab-content").children().addClass("hide"),e(e(".tab-content").children()[t]).removeClass("hide")})},a.prototype.loadProductQAList=function(){var t=this,i=e("#productId").val();this.productService.getQAList(i).then(function(i){i.code||(i.data=i.data||{},e("#productQa").html(juicer(t.temp.qaTemp,i.data)))})},a.prototype.regProductImagePreview=function(){var t=1==e(".product-detail").attr("data-webType")?62:10;e(".big-img").jqueryzoom({xzoom:450,yzoom:456,offset:t,position:"right",preload:1,lens:1}),e(".small-img-list img").first().addClass("current"),e("#leftBtn").click(function(){if(e(".small-img-list ul li").length<5)return!1;var t=e(".small-img-list ul li").first(),i=t.clone();t.first().remove(),e(".small-img-list ul").append(i)}),e("#rightBtn").click(function(){if(e(".small-img-list ul li").length<5)return!1;var t=e(".small-img-list ul li").last(),i=t.clone();t.remove(),i.insertBefore(e(".small-img-list ul li").first())}),e(document).on("mouseover",".small-img-list img",function(){var t=e(this).attr("src");e(".big-img img").first().attr({src:t.replace("/n5/","/n1/"),jqimg:t.replace("h_380,w_380","h_800,w_800")}),e(".small-img-list img").removeClass("current"),e(this).addClass("current")})},a.prototype.regSelectSaleProductEvent=function(){var t=this;e(".center-box .price").click(function(){var i=e(this).find(".checkbox");i.hasClass("checked")?e(this).find(".checkbox").removeClass("checked"):e(this).find(".checkbox").addClass("checked");var a=e(".center-box .price .checked"),o=0;_.each(a,function(t){o+=parseFloat(e(t).attr("price"))}),e("#sumLimitCount").html(a.length),n=o,t.calcCart(o,!0)})},a.prototype.regAddSaleToCartBtnEvent=function(){var t=this,i=function(){var t=e(".rent-type-item .checked"),i=t.parent().find("._rent_months").html(),a=0;e("#onSiteService").parent().hasClass("checked")&&(a=e("#onSiteService").attr("value"));var n=0;e("#accidentService").hasClass("checked")&&(n=e("#accidentService").attr("insurancetypeid"));var o=0;return e(".office-dd .config-tag").hasClass("checked")&&(o=e(".office-dd .checked").attr("type")),{productId:e("#productId").val(),num:e("#buyCount").val(),rentType:t.attr("typeid")?t.attr("typeid"):"",month:i?i:"",startDate:e("#startDate").val()?e("#startDate").val():"",isSale:e("#isSale").val(),payType:e(".pay-type-list .checked").attr("data-type")?e(".pay-type-list .checked").attr("data-type"):"",serviceId:e("#serviceId").val(),insuranceTypeId:n,addedServiceTypeId:a,rentTypeId:t.attr("id")?t.attr("id"):"",suitsType:o}},a=function(i,a){t.cartService.add([i],1).then(function(n){if(!n.code){var o=parseInt(e(".index-Hshopping span").text());e(".index-Hshopping span").text(o+parseInt(i.num)+a),t.setCartNumStyle()}})},n=function(e){if(!t.checkProductInfo(null,!0))return!1;var n=i();return!t.isInNationalDay(n.startDate)&&void(t.statusInfo.isLogin?a(n,e):t.loginToCart([n]))},o=function(t){var i=[];return _.each(t,function(t){i.push({productId:e(t).attr("value"),num:1,rentType:0,payType:0,month:0,startDate:moment(new Date).format("YYYY-MM-DD"),isSale:1,serviceId:0,insuranceTypeId:0})}),i};e("#partAddCart").click(function(){var i=e(this),a=e(".center-box .price .checked");if(0===a.length)return void t.alert("请先勾选配件");var r=moment(new Date).format("YYYY-MM-DD");if(i.addClass("disabled").attr("disabled"),!t.isInNationalDay(r)){var s=o(a);t.statusInfo.isLogin?t.cartService.add(s).then(function(e){e.code||(n(s.length),t.showSuccessTip(i))}):t.loginToCart(s)}})},a.prototype.regAddToCartBtnEvent=function(){var t=this,i=function(){var t=e(".rent-type-item .checked"),i=t.parent().find("._rent_months").html(),a=0;e("#onSiteService").parent().hasClass("checked")&&(a=e("#onSiteService").attr("value"));var n=0;e("#accidentService").hasClass("checked")&&(n=e("#accidentService").attr("insurancetypeid"));var o=0;e(".office-dd .config-tag").hasClass("checked")&&(o=e(".office-dd .checked").attr("type"));var r=0;e(".soft-service-box .config-tag").hasClass("checked")&&(r=e("#softService").attr("value")),e("#rentSoftService").hasClass("checked")&&(r=e("#rentSoftService").attr("value"));var s=0;return e("#doorToDoorService").parent().hasClass("checked")&&(s=e("#doorToDoorService").attr("value")),{productId:e("#productId").val(),num:e("#buyCount").val(),rentType:t.attr("typeid")?t.attr("typeid"):"",month:i?i:"",startDate:e("#startDate").val()?e("#startDate").val():"",isSale:e("#isSale").val(),payType:e(".pay-type-list .checked").attr("data-type")?e(".pay-type-list .checked").attr("data-type"):"",serviceId:e("#serviceId").val(),insuranceTypeId:n,addedServiceTypeId:a,rentTypeId:t.attr("id")?t.attr("id"):"",suitsType:o,softServiceTypeId:r,onsiteServiceTypeId:s}},a=function(t){var i=e(juicer('<form class="hide" action="/order" method="post" id="orderForm" name="orderForm">   <input type="text" name="productId" value="${productId}" />   <input type="text" name="num" value="${num}" />   <input type="text" name="rentType" value="${rentType}" />   <input type="text" name="month" value="${month}" />   <input type="text" name="startDate" value="${startDate}" />   <input type="text" name="isSale" value="${isSale}" />   <input type="text" name="payType" value="${payType}" />   <input type="text" name="serviceId" value="${serviceId}" />   <input type="text" name="rentTypeId" value="${rentTypeId}" />   <input type="text" name="insuranceTypeId" value="${insuranceTypeId}" />   <input type="text" name="addedServiceTypeId" value="${addedServiceTypeId}" />   <input type="text" name="suitsType" value="${suitsType}" />   <input type="text" name="softServiceTypeId" value="${softServiceTypeId}" />   <input type="text" name="onsiteServiceTypeId" value="${onsiteServiceTypeId}" /></form>',t));
e(document.body).append(i),i.submit()},n=function(i){t.cartService.add([i],1).then(function(a){if(!a.code){t.showSuccessTip(e(".add-to-cart-btn"));var n=parseInt(e(".index-Hshopping span").text());e(".index-Hshopping span").text(n+parseInt(i.num)),t.setCartNumStyle()}})},o=function(e){if(!t.checkProductInfo(null,!0))return!1;var o=i();return!t.isInNationalDay(o.startDate)&&void(t.statusInfo.isLogin?e?a(o):n(o):e?t.loginToOrder(o):t.loginToCart([o]))};e(".submit-btn").click(function(){o(!0)}),e(".add-to-cart-btn").click(function(){o(!1)})},a.prototype.setCartNumStyle=function(){var t=e(".product-detail").attr("data-webType"),i=e(".index-Hshopping span").html();1==t&&i>0?e(".index-Hshopping span").addClass("red"):e(".index-Hshopping span").removeClass("red")},a.prototype.showSubstituteProductModal=function(){var t=e("#subDescribe").val(),a=e("#subLink").val();new i.Plugin.Modal("温馨提示",t,400,{ok_txt:"速去下单",cancel_txt:"再逛逛"}).confirm(function(){location.href=a})},a.prototype.showContactBuyerModal=function(){var t=this,a='<div class="prefect-form" style="line-height: 30px">    <p>此商品库存不足，易点租销售人员将尽快与您联系！</p>    <p>        <span>手机号：</span>        <input type="text" style="padding: 2px 5px" />        <span class="form-error hide">格式错误</span>    </p></div>',n=function(){var t=e.trim(e(".bounced-choose input").val()),a=e(".bounced-choose .form-error");return 0===t.length?(a.removeClass("hide").html("请输入手机号"),!1):i.Validate.mobilePhone(t)?(a.addClass("hide"),!0):(a.removeClass("hide").html("手机号格式错误"),!1)},o=new i.Plugin.Modal("温馨提示",a,400,{ok_txt:"知道了"});o.alert(function(){if(n()){var i=e("#productId").val(),a=e("#inventoryPhone").val(),r=e(".bounced-choose input").val();t.productService.createShipmentNotice(i,a,r).then(function(t){t.code||o.close()})}},!0),e(".bounced-choose input").blur(function(){n()})},a.prototype.loginToOrder=function(t){t.target="order";var e=[];for(var i in t)e.push(i+"="+t[i]);var a="/order?"+e.join("&");location.href="/login?returnUrl="+encodeURIComponent(a)},a.prototype.loginToCart=function(t){var i=JSON.stringify(t);e.cookie("cartParam",i,{path:"/"});var a=e("#productId").val(),n="/item/"+a;location.href="/login?returnUrl="+encodeURIComponent(n)+"&target=item"},a.prototype.regConfigTagClickEvent=function(){e(".service-dd .config-tag").click(function(){var t=e(this).attr("data-type");"give"!=t&&e(this).toggleClass("checked")})},a.prototype.regOfficeTagClickEvent=function(){var t=this;e(".office-dd .config-tag").click(function(){e(this).toggleClass("checked").siblings("span").removeClass("checked"),t.calculateAmount()})},a.prototype.regOnSiteServiceTagEvent=function(){var i=this,a=e(".on-site-service-box");a.hover(function(){e(this).find(".arrow").toggleClass("up"),e(this).find(".service-list").toggleClass("hide")},function(){e(this).find(".arrow").toggleClass("up"),e(this).find(".service-list").toggleClass("hide")}),a.find(".config-tag").unbind("click").click(function(){var t=e(this).closest(".on-site-service-box").find(".checkbox");if(e(this).hasClass("checked"))t.removeClass("checked"),e(this).removeClass("checked");else{e(this).addClass("checked");var a=e(this).find("span").attr("value");_.each(t,function(t){e(t).attr("value")==a&&e(t).addClass("checked")})}i.calculateAmount()}),e(".on-site-service-box li").click(function(a){a=a||t.event,a.stopPropagation();var n=e(this).find(".checkbox"),o=e(this).closest(".on-site-service-box").find(".config-tag"),r=e(this).closest(".on-site-service-box").find(".checkbox");if(n.hasClass("checked"))r.removeClass("checked"),o.removeClass("checked");else{r.removeClass("checked"),n.addClass("checked");var s=e(this).find(".text").html(),l=n.attr("value"),d=n.data("price");o.addClass("checked"),e(this).closest(".service-list").siblings(".default-text").html(s).attr("value",l).attr("data-price",d)}i.calculateAmount()}),e(".service-qa-box").hover(function(){e(".qa-detail").toggleClass("hide")},function(){e(".qa-detail").toggleClass("hide")})},a.prototype.regAccidentServiceClickEvent=function(){var t=this;e("#accidentService").click(function(){t.calculateAmount()})},a.prototype.regRentSoftServiceClickEvent=function(){var t=this;e("#rentSoftService").click(function(){t.calculateAmount()})},a.prototype.initShowMoreRentType=function(){var t=this.getCurrentPayType();e(".rent-type-item.paytype"+t).length>1?e(".show-more-rent").show():e(".show-more-rent").hide()},a.prototype.regShowMoreRentTypeClickEvent=function(){var t=this;e(".show-more-rent").click(function(){e(this).remove(),e(".rent-type-item").addClass("hide");var i=t.getCurrentPayType();e(".rent-type-item.paytype"+i).removeClass("hide"),e(".left-panel").height(e(".right-panel").height()+35)})},a.prototype.getCurrentPayType=function(){return e(".pay-type-list .checked").parent().attr("data-type")||e(".pay-type-list .checkbox:first").parent().attr("data-type")},a.prototype.regRentTypeCheckboxClickEvent=function(){var t=this;e(".rent-type-item .checkbox").click(function(){e(this).hasClass("checked")||(e(".rent-type-item .checkbox").removeClass("checked"),e(this).addClass("checked"),t.calculateAmount())})},a.prototype.regPayTypeClickEvent=function(){var t=this;e(".pay-type-list label").click(function(){var i=e(this);if(!i.find(".checkbox").hasClass("checked")){e(".pay-type-list .checkbox").removeClass("checked"),i.find(".checkbox").addClass("checked");var a=i.attr("data-type");t.switchPayType(a)}}),e(".pay-type-list label:first").click()},a.prototype.switchPayType=function(t){var i=this;e(".rent-type-item").addClass("hide"),i.isRentTypeExpand()?e(".rent-type-item.paytype"+t).removeClass("hide"):e(".rent-type-item.paytype"+t+":first").removeClass("hide"),e(".rent-type-item.paytype"+t+":first .checkbox").click(),e(".rent-type-item.paytype"+t+" .rent-recommended").hide(),e(".rent-type-item.paytype"+t+":first .rent-recommended").show();var a="月";switch(t){case"2":a="季度";break;case"3":a="半年";break;case"4":a="年"}e(".price-type").text(a+"租金");var n=this.payType[t].month,o=e("#accidentService").data("price")||0,r=o*n,s=e(".on-site-service-box .service-list .checked").length?e(".on-site-service-box .service-list .checked").data("price"):e(".on-site-service-box .service-list .checkbox:first").data("price"),l=s*n;e("#accidentService .money").text(r),e("#accidentService .per").text(a),e("#onSiteService .money").text(l),e("#onSiteService .per").text(a),e(".service-list .text .money").each(function(){var t=e(this).attr("money");e(this).text(parseInt(t)*n)}),e(".service-list .text .per").text(a),i.initShowMoreRentType()},a.prototype.isRentTypeExpand=function(){return 0===e(".show-more-rent").length},a.prototype.regChangeCountEvent=function(){var t=this,i=function(){var t=e("#buyCount").val().replace(/[^\d.]/g,"");return t=0===t.length?0:parseInt(t)};e("#reduceCount").click(function(){if(!e(this).attr("disabled")){var a=i();a--,t.checkProductInfo(a)}}),e("#addCount").click(function(){if(!e(this).attr("disabled")){var a=i();a++,t.checkProductInfo(a)}}),e("#buyCount").on("change",function(){if(!e(this).attr("disabled")){var a=i();t.checkProductInfo(a)}})},a.prototype.checkProductInfo=function(t,i){var a=!0;t=t?t:e("#buyCount").val();var n=this;t<1?t=1:t>200&&(n.showCountTips(),t=200);var o=e("#buyCount");return o.val(t),n.calculateAmount(),"1"!==e("#isSub").val()&&n.getProductInfo(e("#productId").val(),function(e){if(i){var r=e.productStatus;if(0!==r)return a=!1,void n.alert("该商品已下架，请重新确认后提交",function(){location.reload()})}var s=e.productStock;s>200?t>200&&o.val(200):t>s&&(a=!1,n.alert("库存不足，如有需要，请联系您的专属客户经理！"),o.val(s<1?1:s)),n.calculateAmount()}),a},a.prototype.getProductInfo=function(t,e){this.productService.checkProductInfo(t).then(function(t){t.code||e(t.data)})},a.prototype.showCountTips=function(){e(".count-tips").fadeIn(function(){var t;clearInterval(t),t=setTimeout(function(){e(".count-tips").fadeOut()},5e3)})},a.prototype.checkLoginAndDepositAmount=function(){var t=this,i=e.Deferred();return this.customerService.getPhoneByToken().then(function(a){!a.code&&a.mobile&&(t.statusInfo.isLogin=!0,e("#contactPhone").val(a.mobile)),t.customerService.getCreditBatch().then(function(e){!e.code&&e.data&&(t.statusInfo.hasDepositAmount=!0,t.customerInfo.canUsedDepositAmount=e.data.availableAmount),i.resolve(null)})}),i.promise()},a.prototype.regStartDateInputPlugin=function(){var t=this,i=moment().add("days",3).format("YYYY-MM-DD");moment().isBefore("2018-10-04")&&(i="2018-10-07");var a=e("#responseStartDate").val();if(a&&a.length>0){var n=moment(a,"YYYY-MM-DD").format("YYYY-MM-DD");moment(n).format("x")>moment(i).format("x")&&(i=n)}var o=moment(i).add("days",30).format("YYYY-MM-DD"),r={},s={};if(!t.abledMinDate||!t.abledMaxDate)return r={from:i,to:o},void e("#startDate").val(r.from).attr("onClick","WdatePicker({minDate:'"+r.from+"',maxDate:'"+r.to+"'})");var l=moment(t.abledMinDate).format("X"),d=moment(t.abledMaxDate).format("X"),c=moment(i).format("X"),p=moment(o).format("X");d<=c?r={from:i,to:o}:l<=c&&d<=p?r={from:t.abledMaxDate,to:o}:l>c&&d<p?(r={from:i,to:o},s={from:moment(t.abledMinDate).add("days",1).format("YYYY-MM-DD"),to:moment(t.abledMaxDate).subtract("days",1).format("YYYY-MM-DD")}):l>c&&d>=p&&l<p?r={from:i,to:t.abledMinDate}:l>=p&&(r={from:i,to:o});var u=[];if(s&&s.from&&s.to){var h=s.from,m=s.to;u.push("'"+h+"'");do h=moment(h).add("days",1).format("YYYY-MM-DD"),u.push("'"+h+"'");while(h!=m);e("#startDate").val(r.from).attr("onClick","WdatePicker({minDate:'"+r.from+"', maxDate:'"+r.to+"', disabledDates:["+u.join(",")+"]})")}else e("#startDate").val(r.from).attr("onClick","WdatePicker({minDate:'"+r.from+"',maxDate:'"+r.to+"'})")},a.prototype.regRentTypeHoverEvent=function(){var t=e('<div class="active-info"><i class="icon-border-left"></i><div class="active-info-content"></div></div>');e(document.body).append(t),e("._side-tip").hover(function(i){t.find(".active-info-content").html(e(this).attr("content"));var a=e(this).offset().left;t.show().css({top:e(this).offset().top-10,left:a+e(this).width()+20})},function(){e(".active-info").hide()})},a.prototype.regSubmitQuestionEvent=function(){var t=this;e("#subsubQa").click(function(){if(t.statusInfo.isLogin){var i=e("#productId").val(),a=e.trim(e("#consultationContent").val());if(0===a.length)return void t.alert("请输入您要咨询的内容");if(a.length>1e3)return void t.alert("咨询内容最多只能输入1000个字");t.productService.createQA(i,a).then(function(i){i.code||(t.alert("发表成功，易点租会尽快给您回复！"),e("#consultationContent").val(""))})}else location.href="/login?returnUrl="+encodeURIComponent(location.href)})},i.Application.Web.ProductDetail=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.queryScope={}};a.prototype.init=function(){this.getQueryScope(),this.regSelectTypeEvent(),this.regDelSelectedTypeEvent(),this.regSelectSortOrderEvent(),this.regSelectStockEvent(),this.setPaging(),this.regEmptyEven(),this.regShowConditionEven()},a.prototype.setTitle=function(t){this.getQueryScope(),this.queryScope.title=t,this.queryScope.page=1,this.submitData()},a.prototype.getQueryScope=function(){var t=this;e(".filter-box-tit .del-btn").length>0&&(e("#emptyBtnId").show(),e(".filter-box-tit").find(".filter-label").each(function(i,a){t.queryScope[e(a).find("i").attr("data-param")]=e(a).find("i").attr("data-value")})),t.getOtherQueryScope()},a.prototype.getOtherQueryScope=function(){this.queryScope.sort=e(".sort").attr("data-sort")?e(".sort").attr("data-sort"):0,this.queryScope.isHaveStock=e(".only-stock").is(":checked")?1:0,this.queryScope.isSale=e(".filter-box").attr("data-webType")},a.prototype.regSelectTypeEvent=function(){var t=this;e(".conditon-wrap").on("click",".type",function(){t.queryScope[e(this).attr("data-param")]=e(this).attr("data-value"),t.queryScope.page=1,t.submitData()})},a.prototype.regDelSelectedTypeEvent=function(){var t=this;e(".filter-box-tit").on("click",".del-btn",function(){delete t.queryScope[e(this).attr("data-param")],t.queryScope.page=1,t.submitData()})},a.prototype.toggleClassName=function(t,i,a){try{e(t).addClass(i).removeClass(a).siblings().addClass(a).removeClass(i)}catch(n){}},a.prototype.regSelectSortOrderEvent=function(){var t=this;e(".sort").on("click","li",function(){t.toggleClassName(this,"cur-fore","nor-fore"),t.queryScope.sort=e(this).attr("data-value")?e(this).attr("data-value"):0,t.queryScope.page=1,t.submitData()})},a.prototype.regSelectStockEvent=function(){var t=this;e(".only-stock").on("change",function(){t.queryScope.isHaveStock=e(".only-stock").is(":checked")?1:0,t.queryScope.page=1,t.submitData()})},a.prototype.setPaging=function(){var t=this,a=parseInt(e(".pro-list-con").attr("data-maxpage")||0),n=parseInt(e(".pro-list-con").attr("data-page")||0);a>0&&new i.Plugin.Pagination(e("#paper"),n,a).init(function(e){t.queryScope.page=e,t.submitData()})},a.prototype.submitData=function(){var t=this.queryScope.categoryId;delete this.queryScope.categoryId,0==this.queryScope.isHaveStock&&delete this.queryScope.isHaveStock;var i=void 0==t||0==t?"/category":"/category/"+t,a=e("<form></form>");a.attr("action",i).attr("method","get"),_.each(this.queryScope,function(t,i,n){var o=e('<input type="text" name="'+i+'" value="'+t+'" />');a.append(o)}),a.appendTo("body").submit().remove()},a.prototype.regEmptyEven=function(){var t=this;e("#emptyBtnId").on("click",function(){t.queryScope={},t.getOtherQueryScope(),t.queryScope.page=1,t.submitData()})},a.prototype.regShowConditionEven=function(){var t=e(".conditon-wrap dl").length;t<=6?e("#condMoreId").hide():(e("#condMoreId").show(),this.regExtendEven(),this.setShowAllCond())},a.prototype.regExtendEven=function(){var t=this;e("#condMoreId").on("click",function(){e("#condMoreId").toggleClass("cond-simple"),e.cookie("showAllCond",e("#condMoreId").hasClass("cond-simple")?1:0,{path:"/"}),t.setShowAllCond()})},a.prototype.setShowAllCond=function(){1==e.cookie("showAllCond")?(e(".conditon-wrap dl").show(),e("#condMoreId").addClass("cond-simple")):(e(".conditon-wrap dl:eq(5)").nextAll("dl").hide(),e("#condMoreId").removeClass("cond-simple"))},i.Application.Web.ProductList=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.isWap=e(document.body).attr("isWap"),this.form=e("#form"),this.modal=i.Plugin.Modal,this.validate=new i.Plugin.Validate(this.form,this.isWap),this.customer=new i.Service.Customer};a.prototype.init=function(){var t=this;new i.Plugin.ShowTarget,e(document).on("click","._num_list li a",function(){var t=e(this),i=t.text(),a=t.attr("data-value");e("._person_num").val(i).attr("data-value",a).trigger("blur"),t.closest("._num_list").hide()}).on("click","._submit_btn",function(){return t.validate.doValid(),!e(".error").length&&void t.customer.registerImprove({companyName:e.trim(e("._companyName").val()),employeeNumType:e.trim(e("._person_num").attr("data-value")),registerName:e.trim(e("._name").val()),registerJob:e.trim(e("._job").val()),registerEmail:e.trim(e("._email").val())}).then(function(e){e.code?new t.modal("信息提示",e.message).alert():location.href="/index"})})},i.Application.Web.RegisterImprove=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.shoppingCartService=new i.Service.ShoppingCart,this.orderService=new i.Service.Order,this.customerService=new i.Service.Customer,this.productService=new i.Service.Product,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)},this.confirm=function(t,e){new i.Plugin.Modal("温馨提示",t).confirm(e)}};a.prototype.init=function(){e(".shopping-cart").length>0&&(this.getDateLimit(),this.initAllGoodsSelected(),this.getCustomerCreditBatch(),this.regBtnSelectedEvent(),this.regDeleteServiceEvent(),this.inputGoodsNum(),this.addOrReduceGoodsNum(),this.deleteGoods(),this.deleteSelectedGoods(),this.clearCarts(),this.changeStartRentDate(),this.arriveNotice(),this.settleAccounts(),e(".p-cb").length||e(".settle-accounts").prop("disabled",!0))},a.prototype.getDateLimit=function(){var t=this;t.productService.getDateLimit().then(function(e){!e.code&&e.data&&e.data.length?(t.abledMinDate=moment(e.data[0]).subtract("days",1).format("YYYY-MM-DD"),t.abledMaxDate=moment(e.data[1]).add("days",1).format("YYYY-MM-DD"),t.initAllStartRentDate()):t.initAllStartRentDate()})},a.prototype.initAllGoodsSelected=function(){this.changeClassForSelectedGoods(),this.judgeAllSelectedStatus(e(".shopping-cart .p-cb"),e(".product-cb-all")),this.judgeAllSelectedStatus(e(".lease-product-cb"),e(".lease-product-cb-all")),this.judgeAllSelectedStatus(e(".sale-product-cb"),e(".sale-product-cb-all"))},a.prototype.changeClassForSelectedGoods=function(){e(".lease-product-cb:checked, .sale-product-cb:checked").parents(".product-detail").addClass("on"),e(".lease-product-cb:not(:checked), .sale-product-cb:not(:checked)").parents(".product-detail").removeClass("on")},a.prototype.judgeAllSelectedStatus=function(t,i){var a=0;t.each(function(){e(this).prop("checked")===!0&&a++}),t.size()==a&&a>0?i.prop("checked",!0):i.prop("checked",!1)},a.prototype.initAllStartRentDate=function(){var t=this;e(".lease-product .lease-product-cb").each(function(){var i=e(this).val();e("#startRentDate_"+i).attr("data-value",e("#startRentDate_"+i).val());var a=moment().add("days",3).format("YYYY-MM-DD"),n=moment(a).add("days",30).format("YYYY-MM-DD"),o={},r={};if(moment().isBefore("2018-10-04")&&(a="2018-10-07"),!t.abledMinDate||!t.abledMaxDate)return o={from:a,to:n},void e("#startRentDate_"+i).attr("onClick","WdatePicker({minDate:'"+o.from+"',maxDate:'"+o.to+"'})");var s=moment(t.abledMinDate).format("X"),l=moment(t.abledMaxDate).format("X"),d=moment(a).format("X"),c=moment(n).format("X");l<=d?o={from:a,to:n}:s<=d&&l<=c?o={from:t.abledMaxDate,to:n}:s>d&&l<c?(o={from:a,to:n},r={from:moment(t.abledMinDate).add("days",1).format("YYYY-MM-DD"),to:moment(t.abledMaxDate).subtract("days",1).format("YYYY-MM-DD")}):s>d&&l>=c&&s<c?o={from:a,to:t.abledMinDate}:s>=c&&(o={from:a,to:n});var p=[];if(r&&r.from&&r.to){var u=r.from,h=r.to;p.push("'"+u+"'");do u=moment(u).add("days",1).format("YYYY-MM-DD"),p.push("'"+u+"'");while(u!=h);e("#startRentDate_"+i).attr("onClick","WdatePicker({minDate:'"+o.from+"', maxDate:'"+o.to+"', disabledDates:["+p.join(",")+"]})")}else e("#startRentDate_"+i).attr("onClick","WdatePicker({minDate:'"+o.from+"',maxDate:'"+o.to+"'})")})},a.prototype.getCustomerCreditBatch=function(){this.customerService.getCreditBatch().done(function(t){!t.code&&t.data&&e(".leased-goods .available-amount").text(Number(t.data.availableAmount).toFixed(2))})},a.prototype.getSelectedId=function(){var t=[];return e(".shopping-cart .p-cb").each(function(i){this.checked&&t.push(e(this).val())}),t},a.prototype.setSelectedGoodsCount=function(){var t=this.getSelectedId()?this.getSelectedId().length:0;e("#selected_sum").text(t);var i=0;e(".lease-product-cb").each(function(){if(e(this).prop("checked")===!0){var t=e(this).val(),a=e("#num_"+t).val();i+=Number(a)}}),e("#selected_zl_sum").text(i);var a=0;e(".sale-product-cb").each(function(){if(e(this).prop("checked")===!0){var t=e(this).val(),i=e("#num_"+t).val();a+=Number(i)}}),e("#selected_sale_sum").text(a),e(".sum").text(i+a)},a.prototype.setCartsData=function(i){if(i.notAllowDeliveryRea&&e.trim(i.notAllowDeliveryRea).length>0?e("#errmsg").text(i.notAllowDeliveryRea):e("#errmsg").text(""),i&&""!==e.trim(i)&&i.cartsAbstracts&&""!==e.trim(i.cartsAbstracts))if(i.payAfterDelivery?(e(".cash-on-delivery").removeClass("hide"),e(".pay-online").addClass("hide")):(e(".cash-on-delivery").addClass("hide"),e(".pay-online").removeClass("hide")),i.isMerge)t.location.reload();else{var a=!0,n=!0;e(i.cartsAbstracts).each(function(t,i){var o=i.id,r=i.cartsProduct;e("#rentMonth_"+o).text(Number(r.rent).toFixed(2)),e("#deposit_"+o).text(Number(r.oldDeposit).toFixed(2)),e("#downPayMonth_"+o).text(r.downPayMonth),e("#rentMonth_sum_"+o).text(Number(r.downPayRent).toFixed(2));var s=0;1==i.isSale?(s=r.saleTotal+r.addedServiceMoney+r.onsiteServiceMoney+r.softServiceMoney,1==i.isChecked&&(n=!1)):(s=r.oldDepositTotal,1==i.isChecked&&(a=!1)),e("#deposit_sum_"+o).text(Number(s).toFixed(2)),e("#salePrice_"+o).text(Number(r.salePrice).toFixed(2)),e("#salePrice_sum_"+o).text(Number(r.saleTotal).toFixed(2));var l=e("#num_"+o),d=l.data("issub");if(!d){var c=l.closest(".product-num").find(".stock-box");1==r.isPresale?r.presaleStock<=0||Number(l.val())>r.presaleStock?(c.html("无货"),e("#goods_notice_"+o).html("到货通知")):(c.html(""),e("#goods_notice_"+o).html("")):r.stock<=0||Number(l.val())>r.stock?(c.html("无货"),e("#goods_notice_"+o).html("到货通知")):(c.html(""),e("#goods_notice_"+o).html(""))}}),e(".pay-deposit-total").text(Number(i.payDepositTotal).toFixed(2)),e(".deposit-total").text(Number(i.depositTotal).toFixed(2)),e(".relief-deposit-total").text(Number(i.reliefDepositTotal).toFixed(2)),e(".pay-rent-total").text(Number(i.payRentTotal).toFixed(2)),e(".pay-sale-total").text(Number(i.paySaleTotal).toFixed(2));var o=i.payInsuranceTotal+i.payAddedServiceTotal;e(".added-service-insurance").text(Number(o).toFixed(2)),e(".pay-total").text(Number(i.payTotal).toFixed(2)),n&&!a?(e(".rent-amount").removeClass("hide"),e(".sale-amount").addClass("hide")):a&&!n?(e(".rent-amount").addClass("hide"),e(".sale-amount").removeClass("hide")):e(".rent-amount, .sale-amount").removeClass("hide")}else t.location.reload()},a.prototype.modifyCarts=function(t,i){var a=this,n={id:t,num:e("#num_"+t).val(),rentType:1,startDate:e("#startRentDate_"+t).val(),insuranceTypeId:e("#insurance_"+t).attr("data-insurance"),addedServiceTypeId:e("#addedService_"+t).attr("data-service"),serviceId:e("#serviceId_"+t).val(),isChecked:e("#p_cb_"+t).prop("checked")?1:0,source:1,softServiceTypeId:e("#softService_"+t).attr("data-service"),onsiteServiceTypeId:e("#onSiteService_"+t).attr("data-service")};a.orderService.modifyCarts(n).done(function(t){t.code||(a.setSelectedGoodsCount(),a.setCartsData(t.data),"function"==typeof i&&i())})},a.prototype.regBtnSelectedEvent=function(){this.regAllSelectedEvent(".goods-tit",".lease-product-cb-all",".lease-product-cb",0),this.regAllSelectedEvent(".goods-tit",".sale-product-cb-all",".sale-product-cb",1),this.regAllSelectedEvent(".bill",".product-cb-all",'input[type="checkbox"]',2),this.regGoodsSelectedEvent(".lease-product",".lease-product-cb",".lease-product-cb-all"),this.regGoodsSelectedEvent(".sale-product",".sale-product-cb",".sale-product-cb-all")},a.prototype.regAllSelectedEvent=function(t,i,a,n){var o=this;e(t).on("click",i,function(){e(a).prop("checked",e(this).prop("checked")),o.changeClassForSelectedGoods(),o.judgeAllSelectedStatus(e(".shopping-cart .p-cb"),e(".product-cb-all")),o.setSelectedGoodsCount();var t=e(this).prop("checked")?1:0;o.checkAllCarts(t,n)})},a.prototype.checkAllCarts=function(t,e){var i=this,a={isChecked:t,isSale:e};i.shoppingCartService.checkCarts(a).done(function(t){t.code||(i.setSelectedGoodsCount(),i.setCartsData(t.data))})},a.prototype.regGoodsSelectedEvent=function(t,i,a){var n=this;e(t).on("click",i,function(){this.checked?e(this).closest(".product-detail").addClass("on"):e(this).closest(".product-detail").removeClass("on"),n.judgeAllSelectedStatus(e(i),e(a)),n.judgeAllSelectedStatus(e(".shopping-cart .p-cb"),e(".product-cb-all")),n.setSelectedGoodsCount(),n.modifyCarts(e(this).val())})},a.prototype.regDeleteServiceEvent=function(){this.deleteService(".del-insurance","#insurance_","data-insurance"),this.deleteService(".del-added-service","#addedService_","data-service"),this.deleteService(".del-soft-service","#softService_","data-service"),this.deleteService(".del-onSite-service","#onSiteService_","data-service")},a.prototype.deleteService=function(t,i,a){var n=this;e(".service-add-main").on("click",t,function(){var t=e(this),o=t.attr("data_id");e(i+o).attr(a,"0"),n.modifyCarts(o,function(){var e=t.parent("p").siblings("p").length;e<1?t.parents(".service-box").remove():t.parent("p").remove()})})},a.prototype.getProductStock=function(t,e){this.productService.checkProductInfo(t).done(function(t){t.code||e(t.data)})},a.prototype.inputGoodsNum=function(){var t=this,i=function(t){var e=t.val().replace(/[^\d.]/g,"");return e=0===e.length?1:parseInt(e)};e(".product-num .ipt-num").on("keyup",function(){var t=e(this).attr("data_id"),a=e("#num_"+t),n=e("#num_h_"+t),o=i(a);a.val(o),n.val(o)}).on("blur",function(){var i=e(this).attr("data_id"),a=e(this).attr("data_pid"),n=e("#num_"+i),o=e("#num_h_"+i),r=n.parent(".num").siblings(".num-reduce"),s=n.attr("data-issub");"true"===s?(Number(n.val())>200&&t.alert("商品数量不能大于200！",function(){n.val(200),o.val(200),t.modifyCarts(i)}),1==Number(n.val())?r.addClass("on"):r.removeClass("on")):t.getProductStock(a,function(a){var s=a.productStock;s>200?Number(n.val())>200&&t.alert("商品数量不能大于200！",function(){n.val(200),o.val(200),n.closest(".product-num").find(".stock-box").text(""),e("#goods_notice_"+i).text(""),t.modifyCarts(i)}):s>0&&s<=200?(Number(n.val())>s?t.alert("商品数量不能大于"+s,function(){n.val(s),o.val(s),t.modifyCarts(i)}):(o.val(n.val()),t.modifyCarts(i)),n.closest(".product-num").find(".stock-box").text(""),e("#goods_notice_"+i).text("")):(n.val(1),o.val(1),n.closest(".product-num").find(".stock-box").text("无货"),e("#goods_notice_"+i).text("到货通知"),t.modifyCarts(i)),1==Number(n.val())?r.addClass("on"):r.removeClass("on")})})},a.prototype.addOrReduceGoodsNum=function(){var t=this;e(".product-num").on("click",".num-add, .num-reduce",function(){var i=e(this);if(i.hasClass("disabled"))return!1;var a=i.siblings(".num").find(".ipt-num"),n=a.attr("data_id"),o=e("#num_h_"+n),r=a.attr("data_pid"),s=a.attr("data-issub");if("true"===s){if(i.hasClass("num-add")){var l=Number(a.val())+1;l>200?t.alert("商品数量不能大于200！",function(){a.val(200),t.modifyCarts(n)}):(a.val(l),t.modifyCarts(n))}else if(a.val()>1){var l=Number(a.val())-1;a.val(l),o.val(l),t.modifyCarts(n)}1==Number(a.val())?i.closest(".number").find(".num-reduce").addClass("disabled"):i.closest(".number").find(".num-reduce").removeClass("disabled")}else t.getProductStock(r,function(s){var l=s.productStock;if(i.hasClass("num-add")){var d=Number(a.val())+1;l>200?(d>200?t.alert("商品数量不能大于200！",function(){a.val(200),t.modifyCarts(n)}):(a.val(d),t.modifyCarts(n)),i.closest(".product-num").find(".stock-box").text(""),e("#goods_notice_"+n).text("")):l>0&&l<=200?(d>l?t.alert("商品数量不能大于"+l,function(){a.val(l),t.modifyCarts(n)}):(a.val(d),o.val(a.val()),t.modifyCarts(n)),i.closest(".product-num").find(".stock-box").text(""),e("#goods_notice_"+n).text("")):(a.val(1),o.val(1),a.closest(".product-num").find(".stock-box").text("无货"),e("#goods_notice_"+n).text("到货通知"),t.modifyCarts(n))}else{var d=Number(a.val());d>1&&(d--,"100259"===r&&d<10?t.alert("购买数量至少为10个",function(){a.val(10),o.val(10),t.modifyCarts(n)}):(d>l?t.alert("商品数量不能大于"+l,function(){a.val(l)}):(a.val(d),o.val(d)),i.closest(".product-num").find(".stock-box").text(""),e("#goods_notice_"+n).text(""),t.modifyCarts(n)))}1==Number(a.val())?i.closest(".number").find(".num-reduce").addClass("disabled"):i.closest(".number").find(".num-reduce").removeClass("disabled")})})},a.prototype.removeCarts=function(e){var i=this,a={ids:e+""};i.shoppingCartService.removeCarts(a).done(function(e){e.code||t.location.reload()})},a.prototype.deleteGoods=function(){var t=this;e(".product-handle").on("click",".delete",function(){var i=e(this).attr("data_id"),a=[];a.push(i),t.confirm("确认删除此商品吗？",function(){t.removeCarts(a)})})},a.prototype.deleteSelectedGoods=function(){var t=this;e("#del_selected").on("click",function(){var e=t.getSelectedId();return 0===e.length?void t.alert("请至少择一件商品！"):void t.confirm("确认删除选中的商品吗？",function(){t.removeCarts(e)})})},a.prototype.doClearCarts=function(){var e=this;e.shoppingCartService.cleanCarts().done(function(e){e.code||t.location.reload()})},a.prototype.clearCarts=function(){var t=this;e("#clear_carts").on("click",function(){t.confirm("确认清除购物车吗？",function(){t.doClearCarts()})})},a.prototype.arriveNotice=function(){var t=this;e(".product-handle").on("click",".goods-notice",function(){var i=e(this),a=i.attr("data_id");if(a){var n={productId:a};t.productService.createProductLimit(n).done(function(e){e.code||t.alert("已收到通知，到货将第一时间提醒您！",function(){i.remove()})})}})},a.prototype.changeStartRentDate=function(){var t=this;e(".product-rent-date").on("blur",".start-rent-date",function(a){var n=a||event;n.cancelBubble=!0,n.stopPropagation();var o=e(this).attr("data_id"),r=e(this).val(),s=e(this).attr("data-value");if(r!=s){if(i.Common.isInNationalDay(r))return t.alert("国庆期间暂停发货，请选择10月7日及之后的日期。"),void e(this).val(s);e(this).attr("data-value",r),setTimeout(function(){t.modifyCarts(o)},666)}})},a.prototype.doSettlementCarts=function(a){var n=this,o=e(a);o.prop("disabled",!0);var r=this.getSelectedId();if(0===r.length)return o.prop("disabled",!1),void this.alert("请至少选择一件商品！");for(var s=0;s<r.length;s++){var l=e("#startRentDate_"+r[s]).val();if(i.Common.isInNationalDay(l))return o.prop("disabled",!1),void this.alert("国庆期间暂停发货，请将您选择的商品起租日期更新为10月7日及之后的日期。")}this.shoppingCartService.validateCarts(r.join(",")).done(function(e){if(!e.code){var i=e.data?e.data:{};i.isPass?t.location="order":n.alert(i.message,function(){i.isRefresh&&location.reload()})}o.prop("disabled",!1)})},a.prototype.settleAccounts=function(){var t=this;e(".bill-detail").on("click",".settle-accounts",function(){t.doSettlementCarts(this)})},i.Application.Web.ShoppingCart=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.addressService=new e.Service.Address};a.prototype.init=function(){this.form=i("#create"),this.validate=new e.Plugin.Validate(this.form,(!1)),new e.Plugin.AddressSelect(i("#provinceId"),i("#bcityId"),i("#scityId")),this.regSetDefaultBtnClickEvent(),this.regCreateBtnClickEvent(),this.regAreaChangeEvent(),this.regDeleteBtnClickEvent(),this.regModifyBtnClickEvent()},a.prototype.regModifyBtnClickEvent=function(){var t,a,n=this;i("[data-modify]").click(function(){var o=i(this).data("modify"),r=function(){return 0===i.trim(i("#mProvinceId").val()).length||0===i.trim(i("#mBCityId").val()).length||0===i.trim(i("#mSCityId").val()).length?(i("#mAreaError").removeClass("hide").addClass("show animated fadeIn").html('<i class="icon-prefect-error"></i> 请选择所在地区'),!1):(i("#mAreaError").removeClass("show animated fadeIn").addClass("hide"),!0)},s=!1,l=function(){if(a.doValid(),r(),!s){var l=r();if(a.doValid(),0===t.find("[invalid]").length&&l){var d={id:o,name:i("#mContacterName").val(),provinceId:i("#mProvinceId").val(),bcityId:i("#mBCityId").val(),scityId:i("#mSCityId").val(),address:i("#mAddress").val(),phone:i("#mPhone").val()};s=!0,n.addressService.modify(d).then(function(t){s=!1,t.code||new e.Plugin.Modal("提示信息","快递地址修改成功！").alert(function(){location.reload()})},function(){s=!1})}}},d=function(t){i("#mContacterName").val(t.name),i("#mAddress").val(t.address),i("#mPhone").val(t.phone),new e.Plugin.AddressSelect(i("#mProvinceId"),i("#mBCityId"),i("#mSCityId"),t.provinceId,t.bcityId,t.scityId),n.regModifyFormAreaChangeEvent()},c=function(n){var o=new e.Plugin.Modal("修改快递地址",i("#modifyAddressTmpl").html(),600,{ok_txt:"修改"});o.confirm(l,null,!0),t=i("#modifyForm"),a=new e.Plugin.Validate(t,(!1)),d(n)};n.addressService.getDetail(o).then(function(t){!t.code&&t.data&&c(t.data)})})},a.prototype.regDeleteBtnClickEvent=function(){var t=this;i("[data-delete]").click(function(){var a=i(this),n=a.data("delete");new e.Plugin.Modal("提示信息","您确定要删除该地址吗？").confirm(function(){t.addressService.remove(n).then(function(t){t.code||new e.Plugin.Modal("提示信息","删除成功！").alert(function(){i('.address-list [data-id="'+n+'"]').remove()})})})})},a.prototype.regSetDefaultBtnClickEvent=function(){var t=this,e=function(t){i(".address-list li").removeClass("focus"),i(".address-list [data-delete]").removeClass("hide"),i(".address-list .set-default-tip").removeClass("focus").text("设为默认地址"),i(".address-list .focus-icon").addClass("hide"),t.parent().addClass("focus"),t.next().removeClass("hide"),t.addClass("focus").text("默认地址"),t.parent().find("[data-delete]").addClass("hide");
};i("[data-default]").click(function(){var a=i(this);if(a.hasClass("focus"))return!1;var n=a.data("default");t.addressService.setDefault(n).then(function(t){t.code||e(a)})})},a.prototype.regAreaChangeEvent=function(){var t=function(){i.trim(i("#provinceId").val()).length>0&&i.trim(i("#bcityId").val()).length>0&&i.trim(i("#scityId").val()).length>0&&i("#areaError").removeClass("show animated fadeIn").addClass("hide")};i("#provinceId").change(t),i("#bcityId").change(t),i("#scityId").change(t)},a.prototype.regModifyFormAreaChangeEvent=function(){var t=function(){i.trim(i("#mProvinceId").val()).length>0&&i.trim(i("#mBCityId").val()).length>0&&i.trim(i("#mSCityId").val()).length>0&&i("#mAreaError").removeClass("show animated fadeIn").addClass("hide")};i("#mProvinceId").change(t),i("#mBCityId").change(t),i("#mSCityId").change(t)},a.prototype.regCreateBtnClickEvent=function(){var t=this,a=function(){return 0===i.trim(i("#provinceId").val()).length||0===i.trim(i("#bcityId").val()).length||0===i.trim(i("#scityId").val()).length?(i("#areaError").removeClass("hide").addClass("show animated fadeIn").html('<i class="icon-prefect-error"></i> 请选择所在地区'),!1):(i("#areaError").removeClass("show animated fadeIn").addClass("hide"),!0)};i("#create .submit-btn").click(function(){var n=i(this);if(!n.attr("submitting")){var o=a();if(t.validate.doValid(),0===t.form.find("[invalid]").length&&o){var r={name:i("#contacterName").val(),provinceId:i("#provinceId").val(),bcityId:i("#bcityId").val(),scityId:i("#scityId").val(),address:i("#address").val(),phone:i("#phone").val()};n.attr("submitting",1),t.addressService.create(r).then(function(t){n.removeAttr("submitting"),t.code||new e.Plugin.Modal("提示信息","新增快递地址成功！").alert(function(){location.reload()})},function(){n.removeAttr("submitting")})}}})},e.Application.Web.UC_Address=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.orderId=0,this.service=new i.Service.Order,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};a.prototype.init=function(){this.initEvents()},a.prototype.initEvents=function(){var t=this;e(document).on("click",".main2-ul li",function(){e(this).addClass("on").siblings().removeClass("on");var t=e(this).attr("tabId");e("#"+t).show().siblings().hide()}).on("click","._charge_success_btn",function(){t.checkOrderStatus()}).on("click","._charge_fail_btn",function(){e("._recharge_dlg").hide()}).on("click",".trage",function(){t.submitOrder()}),this.getType()},a.prototype.validate=function(){var t=e.trim(e("#price").val());return""==t?(this.alert("充值的数额不能为空!"),!1):i.Validate.money(t)?t<=0?(this.alert("充值金额需大于0元"),!1):!(t>1e5)||(this.alert("每次的充值上限是100000元"),!1):(this.alert("充值的数额不合法!"),!1)},a.prototype.submitOrder=function(){var i=this;if(i.validate()){var a=e.trim(e("#price").val());e("._recharge_dlg").show(),t.open("/aliPay/toCreateOrderPage?total_fee="+a+"&payType=1&bankCode="+e("input[name=payment]:checked").val())}},a.prototype.checkOrderStatus=function(){e("._recharge_dlg").hide(),e("input[name=payment]:checked").attr("checked",!1),e("input[name=payment][value=alipay]").prop("checked","checked"),e("input[id=price]").val(""),e(t).scrollTop(0)},a.prototype.getType=function(){var t=i.Common.getQueryString("type");if(1==t){var a=e(".main2-ul li:eq("+t+")");a.addClass("on").siblings().removeClass("on");var n=a.attr("tabId");e("#"+n).show().siblings().hide()}},i.Application.Web.UC_Alipay=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=1,n=10,o=function(){this.customer=new i.Service.Customer};o.prototype.init=function(){this.regTabChangeEvent(),this.getRecycleList(a),this.form=e(".form-box"),this.validate=new i.Plugin.Validate(this.form,(!1)),this.regSubmitEvent()},o.prototype.getRecycleList=function(t){var a=this;this.customer.getRecycleList(t,n).then(function(o){if(o&&!o.code){var r='<tr><td colspan="4">暂无信息！</td></tr>';if(o.data&&o.data.list&&o.data.list.length>0){var s="   {@each list as item,index}      <tr>          <td>${item.requestTime}</td>          <td>${item.typeName}</td>          <td>${item.phone}</td>          <td>${item.remark}</td>      </tr>   {@/each}";r=juicer(s,o.data)}e("#dataTable tbody").html(r);var l=i.Common.getPageCount(o.data.totalCount,n);l>1&&new i.Plugin.Pagination(e(".paper-box"),t,l).init(function(t){a.getRecycleList(t)})}})},o.prototype.regTabChangeEvent=function(){e(".tab li").click(function(){e(".tab li").removeClass("on"),e(this).addClass("on"),e(".container").children().addClass("hide"),e("#"+e(this).attr("tabid")).removeClass("hide")})},o.prototype.regSubmitEvent=function(){var t=this;e("#submitBtn").on("click",function(){var a=e(this);a.attr("submitting")||(t.validate.doValid(),0===t.form.find("[invalid]").length&&(a.attr("submitting",1),t.customer.applyRecycleDevice({type:e("input[name=type]:checked").val(),phone:e("input[name=phone]").val(),remark:e("#remark").val()}).then(function(n){a.removeAttr("submitting"),n.code||(new i.Plugin.Modal("提示信息","提交成功！").alert(function(){e("input[name=phone]").val(""),e("#remark").val("")}),t.getRecycleList(1))},function(){a.removeAttr("submitting")})))})},i.Application.Web.UC_ApplyRecycle=o}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.temp=i.Template.bill};a.prototype.init=function(){e(".bill-total").addClass("hide"),this.bill=new i.Service.Bill,this.showHeaderDetail(),this.regPayBtnEvent()};var n,o,r=function(t){var i=e.extend(!0,{},t);return i.firstMonthRentBillOutModel.totalPayableAmount=0,i.firstMonthRentBillOutModel.items=[],i.nonFirstMonthRentBillOutModel.totalPayableAmount=0,i.nonFirstMonthRentBillOutModel.items=[],i.allReturnBillOutModel.totalPayableAmount=0,i.allReturnBillOutModel.items=[],i.otherBillOutModel.totalPayableAmount=0,i.otherBillOutModel.items=[],i},s=function(t,a,n,o){t.html("");var r="";switch(a){case"firstMonthRentBillOutModel":r+=juicer("<h6>"+o+"月新增在租设备：<i>${rentDeviceNum>0?rentDeviceNum:0}</i>台，首期租金：<i>${totalPayableAmount>0?totalRentAmount.toFixed(2):0}</i>元，购买设备金额：<i>${totalSaleAmount.toFixed(2)}</i>元</h6>",n[a]);break;case"firstMonthReturnBillOutModel":e.each(n[a].items,function(t,e){e.returnDate&&"-"!=e.returnDate?e.returnDate=moment(e.returnDate).format("YYYY-MM-DD"):e.returnDate="-"}),r+=juicer("<h6>"+o+"月新增，在"+o+"月退回的设备：<i>${returnDeviceNum>0?returnDeviceNum:0}</i>台，退回设备租金：<i>${totalPayableAmount.toFixed(2)}</i>元</h6>",n[a]);break;case"nonFirstMonthRentBillOutModel":r+=juicer("<h6>往期设备台数：<i>${rentDeviceNum>0?rentDeviceNum:0}</i>台，总租金：<i>${totalPayableAmount.toFixed(2)}</i>元</h6>",n[a]);break;case"nonFirstMonthRentVirtualBillOutModel":r+=juicer("<h6>往期设备台数：<i>${rentDeviceNum>0?rentDeviceNum:0}</i>台，总租金：<i>${totalPayableAmount.toFixed(2)}</i>元</h6>",n[a]);break;case"allReturnBillOutModel":e.each(n[a].items,function(t,e){e.returnDate&&"-"!=e.returnDate?e.returnDate=moment(e.returnDate).format("YYYY-MM-DD"):e.returnDate="-"}),r+=juicer("<h6>"+o+"月退回设备<i>${returnDeviceNum>0?returnDeviceNum:0}</i>台，总租金：<i>${totalPayableAmount.toFixed(2)}</i>元</h6>",n[a]);break;case"otherBillOutModel":r+=juicer('<h6>{@each tableTitles as item,index}<b>${item.name}</b>：<i>${item.num}</i>条，共计<i>${item.money?item.money.toFixed(2):"0.00"}</i>元{@if index < tableTitles.length-1}&nbsp;&nbsp;|&nbsp;&nbsp;{@/if}{@/each}</h6>',n[a])}e.each(n[a].items,function(t,e){e.orderCreateDate&&"-"!=e.orderCreateDate?e.orderCreateDate=moment(e.orderCreateDate).format("YYYY-MM-DD"):e.orderCreateDate="-"}),r+=juicer(i.Template.bill[a],n[a]),t.html(r),i.Common.rebuildGridHeight(),new i.Plugin.Tooltip(t.find("[tooltip]")).init(),e(".details-cont .icon-pack-up").unbind("click").click(function(){e(this).parent().parent().parent().find(".details-span").click()}),l(t)},l=function(e){var i=200,a=400;e.find(".icon-pack-up").css({top:i}),t.onscroll=function(){var t=document.body.scrollTop>document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop;if(t>a&&t-a>100){var n=i+t-a;n<i?n=i:n>e.height()-50&&(n=e.height()-50),e.find(".icon-pack-up").css({top:n})}}};a.prototype.regShowDetailEvent=function(t){e(".details-span").click(function(){var a=e(this).attr("month");if(e(this).attr("open"))if(e(this).removeAttr("open"),e(this).children(".icon-details-show").addClass("hide"),i.Common.isLessIE9())e(this).parent().next().addClass("hide");else{e(this).parent().next().removeClass("animated fadeInUp").addClass("animated fadeOutDown");var n=e(this);setTimeout(function(){n.parent().next().addClass("hide")},500)}else e(this).attr("open",!0),e(this).children(".icon-details-show").removeClass("hide"),i.Common.isLessIE9()?e(this).parent().next().removeClass("hide"):e(this).parent().next().removeClass("hide animated fadeOutDown").addClass("animated fadeInUp"),s(e(this).parent().next(),e(this).attr("key"),t,a)})},a.prototype.regMonthTabClickEvent=function(t){var i=this;e(".month-left a").click(function(){var a=e(this).attr("month");e(".month-left li").removeClass("on"),e(this).parent().addClass("on");var o=_.find(t,function(t){return t.currentMonth==a});n=a,i.showBillMonthDetailMoney(a,o),i.showBillDetail(a,o),i.createCalendar(t)})},a.prototype.regMonthTableDetailClickEvent=function(t,i){var a=this;e(".bill-table a[month]").unbind("click").click(function(){var t=e(this).attr("month");n=t,a.selectMonth(t,i)})},a.prototype.regBillPaidChangeEvent=function(t,a){var n={ing:a.firstMonthRentBillOutModel.totalPayableAmount,oldIng:a.nonFirstMonthRentBillOutModel.totalPayableAmount,oldBack:a.allReturnBillOutModel.totalPayableAmount,other:a.otherBillOutModel.totalPayableAmount,paid:a.totalPayedAmount,noPay:a.totalUnpayAmount},o=function(t){e(".detail-bill-money").html(juicer(i.Template.bill.detailBillMoney,t))};o(n),e(".detail-bill-money").html(juicer(i.Template.bill.detailBillMoney,n));var s=this;e(".detail-ul").children().click(function(){e(this).parent().children().removeClass("on"),e(this).addClass("on"),e(this).attr("isPaid")?(o(n),s.showBillDetail(t,a)):(o({ing:0,back:0,oldIng:a.nonFirstMonthRentVirtualBillOutModel.totalPayableAmount,oldBack:0,other:0,paid:0,noPay:a.nonFirstMonthRentVirtualBillOutModel.totalPayableAmount}),s.showBillDetail(t,r(a),!0))})},a.prototype.regExportBillBtnClickEvent=function(){var t=this;e(".export-bll-btn").unbind("click").click(function(){t.bill.exportBill(n)})},a.prototype.regMoreMonthListHoverEvent=function(t){this.createCalendar(t),e(".month-right").hover(function(){e(".date-month").removeClass("hide")},function(){e(".date-month").addClass("hide")})},a.prototype.regPayBtnEvent=function(){e("#payBtn").click(function(){e(this).hasClass("disabled")||(location.href=ROOT_PATH+"/alipay?amount="+o)})},a.prototype.visibleBillDetailPanel=function(t){t?e(".bill-detail").removeClass("hide").addClass("animated fadeInUp"):e(".bill-detail").removeClass("animated fadeInUp").addClass("hide")},a.prototype.visibleLoading=function(t){t?e(".loading").removeClass("hide"):e(".loading").addClass("hide")},a.prototype.selectMonthTab=function(t){e(".month-left li").removeClass("on"),e('.month-left a[month="'+t+'"]').parent().addClass("on")},a.prototype.disablePayBtn=function(){e('.total-bottom input[type="button"]').addClass("disabled")},a.prototype.createCalendar=function(t){var a=this;new i.Plugin.UC_BillCalendar(e(".bill-calendar"),n).init(function(e){n=e,a.selectMonth(e,t)})},a.prototype.showBillMonthTab=function(t){for(var i="",a=t.length;a>0;a--){var n=t[a-1],o=1==a?'class="on"':"";i+=juicer("<li "+o+'><a month="${currentMonth}" href="javascript:;">${currentMonth} 账单金额 ￥${totalPayableAmount.toFixed(2)}</a><i class="icon-month-tab"></i></li>',n)}e(".month-left").html(i),this.regMoreMonthListHoverEvent(t),this.regMonthTabClickEvent(t)},a.prototype.selectMonth=function(t,e){var i=_.find(e,function(e){return e.currentMonth==t});i?(this.showBillDetail(t,i),this.showBillMonthDetailMoney(t,i),this.selectMonthTab(t)):(this.visibleLoading(!0),this.visibleBillDetailPanel(),this.loadBillDetailData(t)),this.createCalendar(e)},a.prototype.showBillMonthDetailMoney=function(t,i){var a='<li isPaid="true" class="on">已出帐单 ￥${totalPayableBillAmount.toFixed(2)}</li>';moment(n+"-01").format("x")>=moment(moment(new Date).format("YYYY-MM")+"-01").format("x")&&(a+="<li>未出账单 ￥${totalPayableNoBillAmount.toFixed(2)}</li>"),e(".detail-ul").html(juicer(a,i)),this.regBillPaidChangeEvent(t,i)},a.prototype.showHeaderDetail=function(){var t=this;this.bill.getTotalPayableAmount().then(function(a){if(a.code)new i.Plugin.Modal("信息提示","账单数据加载失败，请联系客服处理！").alert();else{2==a.data.payType&&e(".bill-tooltip").addClass("bill-toolbg").html("温馨提示：新订单首月租金在下单时支付，用户收到货时出账单，此后每月租金在20号出账，23号自动扣款；"),e(".bill-total").removeClass("hide");var n=juicer(t.temp.header,a.data);e(".total-top").html(n),0!=a.data.items.length&&"0"!=a.data.totalPayableAmount||t.disablePayBtn(),o=a.data.needRechargeAmount,t.loadBillDetailData(moment(new Date).format("YYYY-MM"))}})},a.prototype.loadBillDetailData=function(t){var e=this;e.bill.getBillMonthDetail({billMonth:t}).then(function(a){!a.code&&a.data&&a.data.length?(n=a.data[0].currentMonth,e.visibleLoading(),e.regExportBillBtnClickEvent(),e.showBillMonthTab(a.data),e.showBillDetail(t,a.data[0]),e.showBillMonthDetailMoney(t,a.data[0]),e.visibleBillDetailPanel(!0),e.regMonthTableDetailClickEvent(t,a.data)):new i.Plugin.Modal("信息提示","账单数据加载失败，请联系客服处理！").alert()})},a.prototype.buildBillDetailListData=function(t,e,i){var a=moment(t+"-01").month()+1;return[{title:"新增设备租金",content:a+"月1日以后新下订单的首期款",total:e.firstMonthRentBillOutModel.totalPayableAmount,key:"firstMonthRentBillOutModel",month:a},{title:"往期设备租金",content:a+"月1日前下单，并且"+a+"月在租的设备租金",total:i?e.nonFirstMonthRentVirtualBillOutModel.totalPayableAmount:e.nonFirstMonthRentBillOutModel.totalPayableAmount,key:i?"nonFirstMonthRentVirtualBillOutModel":"nonFirstMonthRentBillOutModel",month:a},{title:"退回设备租金",content:a+"月份完成退回的设备的末期租金",total:e.allReturnBillOutModel.totalPayableAmount,key:"allReturnBillOutModel",month:a},{title:"其他调整项",content:"如：违约金、快递费、维修费、服务费等",total:e.otherBillOutModel.totalPayableAmount,key:"otherBillOutModel",month:a}]},a.prototype.showBillDetail=function(t,i,a){var n=this.buildBillDetailListData(t,i,a),o=this;e(".bill-list").html(""),e.each(n,function(t,i){var a=e(juicer(o.temp.list,i));e(".bill-list").append(a)}),this.regShowDetailEvent(i)},i.Application.Web.UC_Bill=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a,n,o=function(e){var i=200,a=400;e.find(".icon-pack-up").css({top:i}),t.onscroll=function(){var t=document.body.scrollTop>document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop;if(t>a&&t-a>100){var n=i+t-a;n<i?n=i:n>e.height()-50&&(n=e.height()-60),e.find(".icon-pack-up").css({top:n})}}},r=function(){this.temp=i.Template.billmonth,this.bill=new i.Service.Billmonth,this.modal=i.Plugin.Modal,this.isNoPaid=!1};r.prototype.init=function(){e(".payment-top").addClass("hide"),e(".notice-bill").hide(),this.getLatestBillNeedShow(),this.regConfirmLatestBill(),this.showHeaderDetail(),this.regPayBtnEvent(),e(".icon-pic-triangle").hide(),this.regShowChargeAgainstDetail()},r.prototype.getLatestBillNeedShow=function(){var t=this;this.bill.getLatestBillNeedShow().then(function(i){i.code||(i.data&&"1"===i.data.needShow?(e(".bill-tip").removeClass("hide"),e(".tip-content").html(template("bill-tip-tpl",i.data)),t.phone=i.data.telphone):e(".bill-tip").addClass("hide"))})},r.prototype.regConfirmLatestBill=function(){function t(t,i){n.bill.confirmLatestBill(t,i).then(function(t){t.code?new n.modal("信息提示","操作失败，请重试"):(e(".bill-tip").remove(),a.close())})}var a,n=this;e(".bill-tip .confirm-btn, .bill-tip .question-btn").click(function(){var o=e(this).is(".confirm-btn")?1:2;2==o?(a=new i.Plugin.Dialog("信息提交：",i.Template.billQuestionDialog,{phone:n.phone},350),a.open(function(){var n=new i.Plugin.Validate(a.findDom(".phone-dlg-body"),(!1));e(".uc-cancel").click(function(){a.close()}),e(".uc-submit").click(function(){if(n.doValid(),0===a.findDom("[invalid]").length){var i=e.trim(a.findDom(".phone").val());t(o,i)}})})):t(o)})},r.prototype.showHeaderDetail=function(){var t=this;this.bill.getTotalPayableAmount().then(function(a){if(a.code)new i.Plugin.Modal("信息提示","账单数据加载失败，请联系客服处理！").alert();else{var o=a.data?a.data:{};e(".payment-top").removeClass("hide");var r=juicer(t.temp.header,o),s=juicer(t.temp.monthList,o);if(e(".payment-list").html(r),o.totalPayableAmount<=0&&(t.disablePayBtn(),e(".payment-top").css({padding:"0",border:"none"}),e(".payment-tab").hide()),o.items.length>0&&(e(".payment-tab").css("display","table"),e(".payment-tab").html(s)),n=o.needRechargeAmount,t.loadBillDetailData(moment(new Date).format("YYYY-MM"),!0),0===o.billType){var l="温馨提示：新订单首月租金在下单时支付，用户收到货时出账单，以后每月租金在",d="",c="号自动扣款。";d+=1===o.balanceDate?"次月1号出账，次月"+o.customerCutMoneyDate:o.balanceDate>=o.customerCutMoneyDate?"本月"+o.balanceDate+"号出账，次月"+o.customerCutMoneyDate:"本月"+o.balanceDate+"号出账，本月"+o.customerCutMoneyDate,e(".unmonth").html(l+d+c).show()}else e(".amonth").show();"0.00"==o.totalPayableAmount?e(".dongshow").hide():e(".dongshow").show(),new i.Plugin.Tooltip(e(".details-cont").find("[tooltip]")).init(),e(".icon-pic-triangle").hide()}})},r.prototype.regPayBtnEvent=function(){e("#payBtn").click(function(){e(this).hasClass("disabled")||(location.href=ROOT_PATH+"/orderBillPay")})},r.prototype.regShowChargeAgainstDetail=function(){e(document).on("click",".show-charge-against-detail-btn",function(){var t=e(this);t.closest(".table-cell").length?t.closest(".table-cell").find(".charge-aginst-table").toggle():t.closest(".content-table").next().toggleClass("border-top").find(".charge-aginst-table").toggle(),t.find(".icon-arrow-up-blue").toggle()})},r.prototype.regMonthTabClickEvent=function(t){var i=this;e(".month-left a").click(function(){var n=e(this).attr("month");e(".month-left li").removeClass("on"),e(this).parent().addClass("on");var o=_.find(t,function(t){return t.currentMonth==n});a=n,i.showBillMonthDetailMoney(n,o),i.showBillDetail(n,o),i.createCalendar(t)})},r.prototype.regMonthTableDetailClickEvent=function(t,i){var n=this;e(".bill-table a[month]").unbind("click").click(function(){var t=e(this).attr("month");a=t,n.selectMonth(t,i)}),e(".checkList").unbind("click").click(function(){var t=e(this).attr("month");n.selectMonth(t,i),e("html,body").animate({scrollTop:e(".bill-detail").offset().top},1e3)})},r.prototype.regBillPaidChangeEvent=function(t,a){var n=this,o=function(t){var n;n=t?{first:a.firstMonthRentBillOutModel.totalPayableAmount,nonFirst:a.nonFirstMonthRentBillOutModel.totalPayableAmount,back:a.allReturnBillOutModel.totalPayableAmount,sale:a.saleBillOutModel.items.length?a.saleBillOutModel.totalPayableAmount:-1,other:a.otherBillOutModel.totalPayableAmount,paid:a.totalPayedAmount,noPay:a.totalUnpayAmount}:{first:a.firstMonthRentVirtualBillOutModel.totalPayableAmount,nonFirst:a.nonFirstMonthRentVirtualBillOutModel.totalPayableAmount,back:a.allReturnVirtualBillOutModel.totalPayableAmount,sale:a.saleVirtualBillOutModel.items.length?a.saleVirtualBillOutModel.totalPayableAmount:-1,other:a.otherVirtualBillOutModel.totalPayableAmount,paid:a.totalPayedNoBillAmount,noPay:a.totalUnpayNoBillAmount};var o=juicer(i.Template.billmonth.detailBillMoney,n);e(".detail-bill-money").html(o)};o(!0),e(".detail-ul").children().click(function(){e(this).addClass("on").siblings().removeClass("on");var i=e(this).hasClass("isPaid");o(i),n.showBillDetail(t,a,!i)})},r.prototype.regExportBillBtnClickEvent=function(){var t=this;e(".export-bll-btn").unbind("click").click(function(){var e=t.isNoPaid?1:0;t.bill.exportBill(a,e)})},r.prototype.regMoreMonthListHoverEvent=function(t){this.createCalendar(t),e(".month-right").hover(function(){e(".date-month").removeClass("hide")},function(){e(".date-month").addClass("hide")})},r.prototype.visibleBillDetailPanel=function(t){t?e(".bill-detail").removeClass("hide").addClass("animated fadeInUp"):e(".bill-detail").removeClass("animated fadeInUp").addClass("hide")},r.prototype.visibleLoading=function(t){t?e(".loading").removeClass("hide"):e(".loading").addClass("hide")},r.prototype.disablePayBtn=function(){e(".total-payment").hide()},r.prototype.createCalendar=function(t){var n=this;new i.Plugin.UC_BillCalendar(e(".bill-calendar"),a).init(function(e){a=e,n.selectMonth(e,t)}),e(".icon-pic-date").remove()},r.prototype.showBillMonthTab=function(t){for(var i="",a=0;a<t.length;a++)i=juicer("<li "+(0==a?'class="on"':"")+'><a month="${currentMonth}">${currentMonth} 账单金额 ￥${totalPayableAmount.toFixed(2)}</a></li>',t[a])+i;e(".month-left").html(i),this.regMoreMonthListHoverEvent(t),this.regMonthTabClickEvent(t)},r.prototype.selectMonth=function(t,e){var i=_.find(e,function(e){return e.currentMonth==t});i?(this.showBillDetail(t,i),this.showBillMonthDetailMoney(t,i),this.selectMonthTab(t)):(this.visibleLoading(!0),this.loadBillDetailData(t,!1)),this.createCalendar(e)},r.prototype.selectMonthTab=function(t){e(".month-left li").removeClass("on"),e('.month-left a[month="'+t+'"]').parent().addClass("on")},r.prototype.showBillMonthDetailMoney=function(t,i){var a='<li class="on isPaid">已出帐单 ￥${totalPayableBillAmount.toFixed(2)}</li>';(i.firstMonthRentVirtualBillOutModel.itemsMap&&!e.isEmptyObject(i.firstMonthRentVirtualBillOutModel.itemsMap)||i.nonFirstMonthRentVirtualBillOutModel.items&&i.nonFirstMonthRentVirtualBillOutModel.items.length||i.allReturnVirtualBillOutModel.items&&i.allReturnVirtualBillOutModel.items.length||i.otherVirtualBillOutModel.items&&i.otherVirtualBillOutModel.items.length||i.saleVirtualBillOutModel.items&&i.saleVirtualBillOutModel.items.length)&&(a+="<li>未出账单 ￥${totalPayableNoBillAmount.toFixed(2)}</li>"),e(".detail-ul").html(juicer(a,i)),this.regBillPaidChangeEvent(t,i)},r.prototype.loadBillDetailData=function(t,e){var n=this;n.bill.getBillMonthDetail({billMonth:t,defaults:e}).then(function(e){!e.code&&e.data&&e.data.length?(a=e.data[0].currentMonth,n.visibleLoading(),n.regExportBillBtnClickEvent(),n.showBillMonthTab(e.data),n.showBillDetail(t,e.data[0]),n.showBillMonthDetailMoney(t,e.data[0]),n.regMonthTableDetailClickEvent(t,e.data)):new i.Plugin.Modal("信息提示",e.message||"账单数据加载失败，请联系客服处理！").alert()})},r.prototype.showBillDetail=function(t,i,a){this.isNoPaid=!!a&&a;var n=this.buildBillDetailListData(t,i,a),o=juicer(this.temp.list,{list:n});e(".bill-list").html(o),this.regShowDetailEvent(i),e(".loadingblue").remove(),e(".toptips").show(),e(".my-bill").show(),e(".payment").show(),e(".payment-content").show()},r.prototype.buildBillDetailListData=function(t,e,i){var a,n=moment(t+"-01").month()+1,o=i?"VirtualBillOutModel":"BillOutModel";a=[{status:1,title:"新增设备租金",content:"起租日期在"+e.startDate+"-"+e.endDate+"期间新下设备的首期租金",total:e["firstMonthRent"+o].totalPayableAmount,key:"firstMonthRent"+o,month:n},{status:2,title:"往期设备租金",content:e.startDate+"前下单，截止"+e.endDate+"在租设备的往期租金",total:e["nonFirstMonthRent"+o].totalPayableAmount,key:"nonFirstMonthRent"+o,month:n},{status:3,title:"退回设备租金",content:e.startDate+"-"+e.endDate+"期间已退回设备的末月租金",total:e["allReturn"+o].totalPayableAmount,key:"allReturn"+o,month:n}],e["sale"+o]&&e["sale"+o].items&&e["sale"+o].items.length&&a.push({status:6,title:"销售商品金额",content:e.startDate+"-"+e.endDate+"期间购买的商品金额，商品一次性付清，<br>直接归属于承租方",total:e["sale"+o].totalPayableAmount,key:"sale"+o,month:n}),a.push({status:4,title:"调整项",content:e.startDate+"-"+e.endDate+"期间产生的所有调整项费用之和</br>如：违约金、快递费、维修费、服务费、展期租金等",total:e["other"+o].totalPayableAmount,key:"other"+o,month:n});var r=e["refund"+(i?"Virtual":"")+"BillModel"];return r&&r.items&&r.items.length&&a.push({status:5,title:"退款项",content:e.startDate+"-"+e.endDate+"期间产生的所有退款项费用，</br>直接退还到账户余额 ",total:r.refund,key:"refund"+(i?"Virtual":"")+"BillModel",month:n}),a},r.prototype.regShowDetailEvent=function(t){e(".details-span").click(function(){var a=e(this).attr("month"),n=e(this).closest(".list-item").next();e(this).attr("open")?(e(this).removeAttr("open"),e(this).children(".icon-details-show").addClass("hide"),i.Common.isLessIE9()?n.addClass("hide"):(n.removeClass("animated fadeInUp").addClass("animated fadeOutDown"),setTimeout(function(){n.addClass("hide")},500))):(e(this).attr("open",!0),e(this).children(".icon-details-show").removeClass("hide"),i.Common.isLessIE9()?n.removeClass("hide"):n.removeClass("hide animated fadeOutDown").addClass("animated fadeInUp"),s(n,e(this).attr("key"),t,a))})};var s=function(t,a,n,r){var s="";switch(a){case"firstMonthRentBillOutModel":case"firstMonthRentVirtualBillOutModel":s+=juicer("<h6>"+n.startDate+"-"+n.endDate+"新增在租设备：<i>${rentDeviceNum>0?rentDeviceNum:0}</i>台，首期租金：<i>${totalPayableAmount>0?totalRentAmount.toFixed(2):0}</i>元，已付<i>${totalPayedAmount.toFixed(2)}</i>元，未付<i>${totalUnpayAmount.toFixed(2)}</i>元</h6>",n[a]);var l=0;n[a].itemsMap[0]&&n[a].itemsMap[0].billItemList.length&&(l+=n[a].itemsMap[0].billItemList.length),n[a].itemsMap[1]&&n[a].itemsMap[1].billItemList.length&&(l+=n[a].itemsMap[1].billItemList.length),n[a].itemsMap[2]&&n[a].itemsMap[2].billItemList.length&&(l+=n[a].itemsMap[2].billItemList.length),n[a].itemsMap[3]&&n[a].itemsMap[3].billItemList.length&&(l+=n[a].itemsMap[3].billItemList.length),n[a].itemsMap[4]&&n[a].itemsMap[4].billItemList.length&&(l+=n[a].itemsMap[4].billItemList.length),n[a].row_count=l;break;case"nonFirstMonthRentBillOutModel":case"nonFirstMonthRentVirtualBillOutModel":s+=juicer("<h6>"+n.startDate+"前下单，截止"+n.endDate+"在租的设备台数：<i>${rentDeviceNum>0?rentDeviceNum:0}</i>台，往期总租金：<i>${totalPayableAmount.toFixed(2)}</i>元，已付<i>${totalPayedAmount.toFixed(2)}</i>元，未付<i>${totalUnpayAmount.toFixed(2)}</i>元</h6>",n[a]);break;case"allReturnBillOutModel":case"allReturnVirtualBillOutModel":e.each(n[a].items,function(t,e){e.returnDate&&"-"!=e.returnDate?e.returnDate=moment(e.returnDate).format("YYYY-MM-DD"):e.returnDate="-"}),s+=juicer("<h6>"+n.startDate+"-"+n.endDate+"退回设备的末月租金，退回设备<i>${returnDeviceNum>0?returnDeviceNum:0}</i>台，末月总租金：<i>${totalPayableAmount.toFixed(2)}</i>元，已付<i>${totalPayedAmount.toFixed(2)}</i>元，未付<i>${totalUnpayAmount.toFixed(2)}</i>元</h6>",n[a]);break;case"otherBillOutModel":case"otherVirtualBillOutModel":s+=juicer("<h6>"+n.startDate+"-"+n.endDate+"产生的所有调整项之和：共<i>${num>0?num:0}</i>项，应付金额：<i>${totalPayableAmount.toFixed(2)}</i>元，已付<i>${totalPayedAmount.toFixed(2)}</i>元，未付<i>${totalUnpayAmount.toFixed(2)}</i>元</h6>",n[a]);break;case"refundBillModel":case"refundVirtualBillModel":s+=juicer("<h6>"+n.startDate+"到"+n.endDate+"产生的所有退款项之和：共<i>${num>0?num:0}</i>项，退款金额：<i>${refund.toFixed(2)}</i>元</h6>",n[a]);break;case i.CONST.SALE_BILL:case"saleVirtualBillOutModel":s+=juicer("<h6>"+n.startDate+"-"+n.endDate+'购买数量：<i>${saleDeviceNum > 0 ? saleDeviceNum : 0}</i>，总金额<i>${totalPayableAmount>0?totalPayableAmount.toFixed(2):0}</i>元，已付金额<i>${totalPayedAmount > 0 ? totalPayedAmount.toFixed(2) : "0.00" }</i>元，未付金额<i>${totalUnpayAmount > 0 ? totalUnpayAmount.toFixed(2) : "0.00"}</i>元</h6>',n[a])}n[a]&&n[a].items&&n[a].items.length&&e.each(n[a].items,function(t,e){e.orderCreateDate&&"-"!=e.orderCreateDate?e.orderCreateDate=moment(e.orderCreateDate).format("YYYY-MM-DD"):e.orderCreateDate="-"});var d=n[a];d.showCutMoneyDate=n.showCutMoneyDate,s+=juicer(i.Template.billmonth[a],d),t.html(s),i.Common.rebuildGridHeight(),new i.Plugin.Tooltip(t.find("[tooltip]")).init(),e(".icon-pack-up").unbind("click").click(function(){var t=e(this).closest(".list-billName").find(".details-span");t.click().focus(),t[0].scrollIntoView()}),o(t)};i.Application.Web.UC_Bill_MONTH=r}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){};a.prototype.init=function(){this.form=i("#modifyForm"),this.validate=new e.Plugin.Validate(this.form),this.customer=new e.Service.Customer,this.modal=e.Plugin.Modal,this.regSubmitEvent(),this.regSmsCodeBtnEvent(),this.regSyncCheckImgCode(),this.regCaptchaInitEvent(),this.captchaIns="",this.captchaData=""},a.prototype.regCaptchaInitEvent=function(){var t=this;initNECaptcha({captchaId:e.Common.captchaId,element:"#captcha",onVerify:function(e,i){t.captchaData=i,t.doSendSmsCode()}},function(e){t.captchaIns=e},function(t){})},a.prototype.refreshCaptcha=function(){this.captchaIns&&this.captchaIns.refresh(),this.captchaData=""},a.prototype.enableSubmitSmsBtn=function(){var t=this.form.find("#newPhone"),e=this.form.find("#newSmsCodeBtn");e.attr("isWaiting")||(!t.attr("invalid")&&t.val().trim().length>0?e.removeAttr("disabled").addClass("sure-num-click"):e.attr("disabled","disabled").removeClass("sure-num-click"))},a.prototype.regSyncCheckImgCode=function(){var t=this;this.form.find("#newPhone").blur(function(){i(this).attr("invalid")||t.enableSubmitSmsBtn()})},a.prototype.doSendSmsCode=function(){var t=this,e=i("#newSmsCodeBtn");if(!e.attr("isWaiting")&&!e.attr("disabled")){if(!t.captchaData||!t.captchaData.validate)return void i(".imgCode-error").html('<span class="error-pass error-prompt"><i class="icon-prefect-error"></i>&nbsp;请进行滑块验证</span>');i(".imgCode-error").html("");var a=1;e.attr("channelId")&&(a=e.attr("channelId")),e.attr("isWaiting",!0);var n={phone:i("#newPhone").val(),validate:t.captchaData.validate,channelId:a};t.customer.sendSmsCode(n).then(function(i){if(i.code)t.refreshCaptcha(),e.removeAttr("isWaiting");else{new t.modal("信息提示","短信验证码发送成功").alert(),e.attr("isWaiting",!0);var a=60,n=setInterval(function(){e.removeClass("sure-num-click"),e.text(a+"秒后重新发送"),a--,0===a&&(e.removeAttr("isWaiting").attr("channelId",2).text("重发短信验证码"),e.addClass("sure-num-click"),clearInterval(n),t.refreshCaptcha())},1e3)}})}},a.prototype.regSmsCodeBtnEvent=function(){var t=this;this.form.find("#newSmsCodeBtn").attr("disabled","disabled"),this.form.find("#newSmsCodeBtn").click(function(){t.doSendSmsCode()})},a.prototype.regSubmitEvent=function(){var t=this;i("#submitBtn").click(function(){var e=i(this);if(!e.attr("submitting"))if(e.attr("submitting",1),t.validate.doValid(),0===t.form.find("[invalid]").length){var a={newPhone:i("#newPhone").val().trim(),smsCode:i("#smsCode").val().trim()};t.customer.modifyNoticePhone(a.newPhone,a.smsCode).then(function(i){e.removeAttr("submitting"),i&&!i.code?new t.modal("信息提示","接收消息通知手机号已修改成功").alert(function(){location.href=ROOT_PATH+"/bindingPhone"}):t.refreshCaptcha()})}else e.removeAttr("submitting")})},e.Application.Web.UC_BindingNoticePhone=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.isWap=i(document.body).attr("isWap"),this.form1=i("#state1"),this.form2=i("#state2"),this.modal=e.Plugin.Modal,this.validate1=new e.Plugin.Validate(this.form1,this.isWap),this.validate2=new e.Plugin.Validate(this.form2,this.isWap),this.customer=new e.Service.Customer};a.prototype.init=function(){this.regSmsCodeBtnEvent(),this.regSubmitEvent(),this.regNewPhoneBlurEvent(),this.activeStep(0),this.captchaIns="",this.captchaData=""},a.prototype.regCaptchaInitEvent=function(t){if(2!=t){var i=this,a=0==t?"#captcha1":"#captcha2";initNECaptcha({captchaId:e.Common.captchaId,element:a,onVerify:function(e,a){i.captchaData=a,i.doSendSmsCode(t)}},function(t){i.captchaIns=t},function(t){})}},a.prototype.refreshCaptcha=function(){this.captchaIns&&this.captchaIns.refresh(),this.captchaData=""},a.prototype.regNewPhoneBlurEvent=function(){var t=this,e=t.form2.find("#smsCodeBtn2");e.attr("disabled","disabled").removeClass("sure-num-click"),i("#newPhone").blur(function(){!e.attr("isWaiting")&&!i("#newPhone").attr("invalid")&&i("#newPhone").val().trim().length>0&&e.removeAttr("disabled").addClass("sure-num-click")})},a.prototype.regSmsCodeBtnEvent=function(){var t=this;this.form1.find("#smsCodeBtn1").click(function(){t.doSendSmsCode(0)}),this.form2.find("#smsCodeBtn2").click(function(){t.doSendSmsCode(1)})},a.prototype.doSendSmsCode=function(t){var e=this,a="",n="",o="";if(0==t?(a=i("#smsCodeBtn1"),n=i("#oldPhone").html(),o=i(".imgCode-error1")):1==t&&(a=i("#smsCodeBtn2"),n=i("#newPhone").val(),o=i(".imgCode-error2")),!a.attr("isWaiting")&&!a.attr("disabled")){if(!this.captchaData||!this.captchaData.validate)return void o.html('<span class="error-pass error-prompt"><i class="icon-prefect-error"></i>&nbsp;请进行滑块验证</span>');
o.html("");var r=1;a.attr("channelId")&&(r=a.attr("channelId")),a.attr("isWaiting",!0),e.customer.sendSmsCode({phone:n,validate:e.captchaData.validate,channelId:r,isReg:!1}).then(function(t){if(t.code)e.refreshCaptcha(),a.removeAttr("isWaiting");else{new e.modal("信息提示","短信验证码发送成功").alert(),a.attr("isWaiting",!0);var i=60,n=setInterval(function(){a.removeClass("sure-num-click"),a.text(i+"秒后重新发送"),i--,0===i&&(a.removeAttr("isWaiting").attr("channelId",2).text("重发短信验证码"),a.addClass("sure-num-click"),clearInterval(n),e.refreshCaptcha())},1e3)}})}},a.prototype.activeStep=function(t){this.captchaData="",this.regCaptchaInitEvent(t),0===t&&(i("#state1").show(),i("#state2").hide(),i("#state3").hide()),1==t&&(i("#state1").hide(),i("#state2").show(),i(".bg-color-1").css("width","50%"),i(".icon-step-2").show(),i(".icon-step-grey-2").hide(),i(i(".info").children("li")[1]).addClass("add-process-color")),2==t&&(i("#state2").hide(),i("#state3").show(),i(".info").children("li").addClass("add-process-color"),i(".bg-color-1").css("width","100%"),i("i[class^=icon-step]").show(),i("i[class^=icon-step-grey]").hide(),i(".icon-bind-right-grey").hide(),i(".icon-bind-right").show())},a.prototype.regSubmitEvent=function(){var t=this;i("#submitBtn1").click(function(){var e=i(this);t.validate1.doValid(),0!==t.form1.find("[invalid]").length||i(e).attr("submitting")||(i(e).attr("submitting","submitting"),t.customer.checkModifyPhoneNext({smsCode:i("#smsCode1").val().trim()}).then(function(a){i(e).removeAttr("submitting"),a.code?t.refreshCaptcha():t.activeStep(1)}))}),i("#submitBtn2").click(function(){t.validate2.doValid(),0===t.form2.find("[invalid]").length?(i(this).attr("submitting","submitting"),t.customer.bindingPhone(i("#newPhone").val(),i("#smsCode2").val()).then(function(e){i(this).removeAttr("submitting"),e&&!e.code?t.activeStep(2):t.refreshCaptcha()})):i(this).removeAttr("submitting")})},e.Application.Web.UC_BindingPhone=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(i&&i.Application){var a,n=function(){this.customer=new i.Service.Customer,this.order=new i.Service.Order,a=this.order.dataMap,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)},this.confirm=function(t,e){new i.Plugin.Modal("温馨提示",t).confirm(e)}};n.prototype.init=function(){this.setCustomerCreditBatch(),this.setReceiveOrderCount(),this.setReceiveOrderCount(),this.setRentCount(),this.setWaitPayOrderCount(),this.getOrderList(),this.regCancelOrder()},n.prototype.getOrderList=function(){var t=this,e={startIndex:1,pageSize:2};this.order.queryMyOrderList(e).then(function(e){e.hits&&e.hits.hits&&e.hits.hits.length&&t.renderOrderList(e.hits.hits)})},n.prototype.renderOrderList=function(t){var i=template("order_list_tpl",{list:t,dataMap:a});e(".data-table").html(i)},n.prototype.setUserStar=function(t){var i="",a=0;t&&(a=parseInt(t,10));for(var n=0;n<a;n++)i+='<img src="/images/icon_star_3.png">';if(t!=a&&(i+='<img src="/images/icon_star_2.png">',a+=1),a<5)for(var n=a;n<5;n++)i+='<img src="/images/icon_star_1.png">';e(".star-level").html(i)},n.prototype.setCustomerCreditBatch=function(){var t=this;this.customer.getCreditBatch().then(function(i){var a=i.data||{};a&&"undefined"!=typeof a.availableAmount?(e("#available").html("可用："+a.availableAmount),e("#credit").html("总额："+a.creditAmount),t.setUserStar(a.showStar),e("#improve-btn").removeClass("hide")):e("#deposit-btn").removeClass("hide")})},n.prototype.setWaitPayOrderCount=function(){this.customer.getWaitPayOrderCount().then(function(t){t&&!t.code&&e("#prePay").html(t.data)})},n.prototype.setReceiveOrderCount=function(){this.customer.getReceiveOrderCount().then(function(t){t&&!t.code&&e("#preReceive").html(t.data)})},n.prototype.setRentCount=function(){this.customer.getRentProductCount().then(function(t){t&&!t.code&&e("#onRent").html(t.data)})},n.prototype.regCancelOrder=function(){var t=this;e(document).on("click",".cancelOrder",function(){var a=e(this).attr("data_id"),n=e(this).attr("class"),o={orderId:a};t.order.cancelSubProductOrder(o).then(function(o){if(!o.code)if(o.data){var r,s="温馨提示",l="该订单不可单独取消，点击取消按钮将取消该拆分订单下的所有子订单。",d={ok_txt:"确认取消订单",cancel_txt:"返回"};new i.Plugin.Modal(s,l,r,d).confirm(function(){t.doOrderCancel(a,n)}),e(".window .bounced-btn .ok-btn").css("background","#999"),e(".window .bounced-btn .cancel-btn").css("background","#37a3ff"),e(".window .bounced-btn a").css("width","120px")}else t.doOrderCancel(a,n)})})},n.prototype.doOrderCancel=function(e,i){var a=this;if(t.confirm("您确定取消该订单吗?")){var n=i.indexOf("split")!==-1;a.order.cancelOrder(e,n).then(function(e){e.code?a.alert(e.message):a.alert("操作成功",function(){t.location.reload()})})}},n.prototype.regCloseModalEvent=function(t,a){var n=this;e("#knowBtnId").on("click",function(){n.modalVo&&(i.Common.isLessIE9()?n.modalVo.hide():(n.modalVo.find(".bounced-main").removeClass("zoomIn").addClass("zoomOut"),n.modalVo.addClass("fadeOut")),setTimeout(function(){n.modalVo.remove()},500))})},n.prototype.toJudgeGuide=function(t,a){var n='<div class="window-guide">  <div class="bounced-main manage-main">      <div class="bounced-content">          <div class="bounced-wrap">              <div class="guide-top">                    <h4 class="title">成员管理上线了！</h4>                    <p class="des-txt">1.可以将员工添加为设备管理员，设备管理员可用个人账号登录公司账号</p>                    <p class="des-txt">2.可以删除和禁用公司成员，保护公司账户安全</p>                    <div class="img-wrap"><i class="guide-img"></i></div>                    <div class="trig-arrow"></div>                    <div class="txt-title-box">成员管理</div>              </div>              <div class="guide-footer">                   <div class="bounced-btn"><span id="knowBtnId" class="know-btn">我知道啦</span></div>              </div>          </div>      </div>  </div></div>';this.modalVo=e(juicer(n,{})),e(document.body).append(this.modalVo),this.modalVo&&(i.Common.isLessIE9()?this.modalVo.find(".bounced-main").show():(this.modalVo.addClass("animated fadeIn"),this.modalVo.find(".bounced-main").addClass("animated zoomIn")),this.regCloseModalEvent())},i.Application.Web.UC_Center=n}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";function a(t){return t=parseFloat(t),isNaN(t)?0:parseFloat(t.toFixed(2))}if(i&&i.Application){var n=function(){this.invoice=new i.Service.Invoice,this.availableBalance=Number(e(".table-container").attr("data-availableBalance")),this.eMoney=Number(e(".table-container").attr("data-eMoney")),this.billMonthList=[],this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};n.prototype.init=function(){this.queryAllOrderBillMonthly(),this.regToggleDetail(),this.regCheckAll(),this.regCheckOne(),this.regNextBtn()},n.prototype.queryAllOrderBillMonthly=function(){var t=this;t.invoice.queryAllOrderBillMonthly().then(function(i){i.code||(e(".bill-list-container").html(template("bill-list-tpl",i.data)),(t.availableBalance+t.eMoney<=0||!i.data.billForInvoices||!i.data.billForInvoices.length)&&e(".reduce-desc, .reduce-box").remove(),t.regCheckReduceEvent())})},n.prototype.regToggleDetail=function(){e(document).on("click",".toggle-detail-btn",function(){e(this).closest("li").find(".detail-box").toggle(),e(this).find(".icon-arrow-up-blue").toggle()})},n.prototype.regCheckAll=function(){var t=this;e(document).on("click",".check-all",function(){e(this).prop("checked")?t.doCheckAll():t.doCancelCheckAll(),t.updateOverview(),t.updateNextBtn()})},n.prototype.doCheckAll=function(){var t=this;t.doCancelCheckAll(),e(".bill-list-container .cb-monthly").each(function(i,a){e(a).prop("checked",!0),t.calcOneMonthInfo(e(a))}),t.updateBalance()},n.prototype.doCancelCheckAll=function(){var t=this;e(".bill-list-container .cb-monthly:checked").each(function(i,a){var n=e(a).closest(".cb-td").siblings(".content-td"),o=e(a).attr("data-billMonth").replace("-",""),r=Number(n.find(".money-monthly b").html()),i=_.findIndex(t.billMonthList,function(t){return t.billMonth==o}),s=t.billMonthList[i];n.find(".money-monthly b").html(parseFloat((r+s.availableBalance+s.eMoney).toFixed(2))),t.availableBalance+=s.availableBalance,t.eMoney+=s.eMoney,n.find('input[type="checkbox"]').removeAttr("checked").attr("disabled",!0).closest("label").addClass("disabled"),e(a).removeAttr("checked")}),t.updateBalance(),t.billMonthList=[]},n.prototype.regCheckOne=function(){var t=this;e(document).on("click",".cb-monthly",function(){e(".bill-list-container .cb-monthly").each(function(i,a){t.calcOneMonthInfo(e(a))}),t.getTotalMonth()<e(".cb-monthly").length?e(".check-all").removeAttr("checked"):e(".check-all").prop("checked","true")})},n.prototype.calcOneMonthInfo=function(t){var e=t.attr("data-billMonth").replace("-",""),i=t.closest(".cb-td").siblings(".content-td"),a=Number(i.find(".money-monthly b").html()),n=i.find(".availableBalance-label"),o=i.find(".eMoney-label"),r=_.findIndex(this.billMonthList,function(t){return t.billMonth==e});if(r!==-1){var s=this.billMonthList[r];this.availableBalance+=s.availableBalance,this.eMoney+=s.eMoney,a=+Number(a+s.availableBalance+s.eMoney).toFixed(2)}if(t.is(":checked")){var l=0,d=0;this.availableBalance<=0?n.find(".availableBalance").is(":checked")||n.find(".availableBalance").attr("disabled",!0).closest("label").addClass("disabled"):n.removeClass("hide").find(".availableBalance").removeAttr("disabled").closest("label").removeClass("disabled"),this.eMoney<=0?o.find(".eMoney").is(":checked")||o.find(".eMoney").attr("disabled",!0).closest("label").addClass("disabled"):o.removeClass("hide").find(".eMoney").removeAttr("disabled").closest("label").removeClass("disabled"),r!==-1?(n.find(".availableBalance").is(":checked")&&(this.availableBalance>=a?(l=a,o.find(".eMoney").attr("disabled",!0).removeAttr("checked").closest("label").addClass("disabled"),d=0,i.find(".money-monthly b").html(0),a=0,this.availableBalance=+(this.availableBalance-l).toFixed(2)):(l=this.availableBalance,i.find(".money-monthly b").html(parseFloat((a-l).toFixed(2))),a=Number(i.find(".money-monthly b").html()),this.availableBalance=0)),o.find(".eMoney").is(":checked")&&(this.eMoney>=a?(d=a,a=0,i.find(".money-monthly b").html(0),this.eMoney=+(this.eMoney-d).toFixed(2)):(d=this.eMoney,i.find(".money-monthly b").html(parseFloat((a-d).toFixed(2))),a=Number(i.find(".money-monthly b").html()),this.eMoney=0))):this.availableBalance>0&&(n.removeClass("hide").find(".availableBalance").removeAttr("disabled").prop("checked","true").closest("label").removeClass("disabled"),this.availableBalance>=a?(l=a,d=0,i.find(".money-monthly b").html(0),a=0,this.availableBalance=+(this.availableBalance-l).toFixed(2)):(l=this.availableBalance,i.find(".money-monthly b").html(parseFloat((a-l).toFixed(2))),a=Number(i.find(".money-monthly b").html()),this.availableBalance=0)),0==a&&i.find('input[type="checkbox"]:not(:checked)').attr("disabled",!0).closest("label").addClass("disabled"),r===-1?this.billMonthList.push({availableBalance:l,eMoney:d,billMonth:e}):this.billMonthList[r]={availableBalance:l,eMoney:d,billMonth:e}}else i.find('input[type="checkbox"]').attr("disabled",!0).removeAttr("checked").closest("label").addClass("disabled"),i.find(".money-monthly b").html(parseFloat(a.toFixed(2))),r!==-1&&this.billMonthList.splice(r,1);this.updateBalance(),this.updateOverview(),this.updateNextBtn()},n.prototype.regCheckReduceEvent=function(){this.doCheckReduce("availableBalance","eMoney"),this.doCheckReduce("eMoney","availableBalance")},n.prototype.doCheckReduce=function(t,i){var a=this;e(".reduce-box").on("change","."+t,function(){var n=e(this).closest(".content-td"),o=n.siblings(".cb-td").find(".cb-monthly").attr("data-billMonth").replace("-",""),r=Number(n.find(".money-monthly b").html()),s=_.findIndex(a.billMonthList,function(t){return t.billMonth==o}),l=a.billMonthList[s];if(e(this).is(":checked"))a[t]>=r?(a.billMonthList[s][t]=r,n.find(".money-monthly b").html(0),a[t]-=r,e(this).closest(".reduce-box").find("."+i).is(":checked")||e(this).closest(".reduce-box").find("."+i).attr("disabled",!0).closest("label").addClass("disabled")):(a.billMonthList[s][t]=a[t],n.find(".money-monthly b").html(parseFloat((r-a[t]).toFixed(2))),a[t]=0,a[i]>0&&e(this).closest(".reduce-box").find("."+i).removeAttr("disabled").closest("label").removeClass("disabled"));else if(n.find(".money-monthly b").html(parseFloat((r+l[t]).toFixed(2))),a[t]+=l[t],a.billMonthList[s][t]=0,e(this).closest(".reduce-box").find("."+i).is(":checked")){var d=Number(n.find(".money-monthly b").html());a[i]>=d?(a.billMonthList[s][i]+=d,n.find(".money-monthly b").html(0),a[i]-=d):(a.billMonthList[s][i]+=a[i],n.find(".money-monthly b").html(parseFloat((d-a[i]).toFixed(2))),a[i]=0)}else a[i]>0&&e(this).closest(".reduce-box").find("."+i).removeAttr("disabled").closest("label").removeClass("disabled");a.updateBalance(),a.updateOverview();var c=e(".cb-monthly").index(n.siblings(".cb-td").find(".cb-monthly"));e(".bill-list-container .cb-monthly:checked").each(function(t,i){var n=e(".cb-monthly").index(e(i));c!==n&&a.calcOneMonthInfo(e(i))}),a.availableBalance<=0&&!n.find(".availableBalance").is(":checked")&&n.find(".availableBalance").attr("disabled",!0).closest("label").addClass("disabled"),a.eMoney<=0&&!n.find(".eMoney").is(":checked")&&n.find(".eMoney").attr("disabled",!0).closest("label").addClass("disabled")})},n.prototype.updateBalance=function(){e(".availableBalance-box").find(".money").html(this.availableBalance.toFixed(2)),e(".eMoney-box").find(".money").html(this.eMoney.toFixed(2))},n.prototype.updateOverview=function(){e(".total-month").text(this.getTotalMonth()),e(".total-money").text(this.getTotalMoney())},n.prototype.updateNextBtn=function(){this.getTotalMonth()>0?e(".next-btn").prop("disabled",!1):e(".next-btn").prop("disabled",!0)},n.prototype.getTotalMonth=function(){return e(".cb-monthly:checked").length},n.prototype.getTotalMoney=function(){var t=0;return e(".cb-monthly:checked").each(function(i,a){t+=e(a).closest(".cb-td").siblings(".content-td").find(".money-monthly b").html()-0||0}),t.toFixed(2)},n.prototype.regNextBtn=function(){var t=this;e(document).on("click",".next-btn",function(){return!e(this).is("[disabled]")&&void t.toApplyInvoice()})},n.prototype.toApplyInvoice=function(){var t=this,i={customerId:e(".table-container").attr("data-customerId"),billMonthList:t.billMonthList};t.invoice.payBillByApplyInvoice(i).then(function(i){if(!i.code){var a=Number(e(".total-money").html());if(a>0){var n=[];e(".cb-monthly:checked").each(function(t,i){n.push(e(i).attr("data-billId"))}),n=n.join(","),location.href="/applyInvoice?billIds="+n}else t.alert("账单已付清，无需开发票",function(){location.href="/my_bill_month"})}})},template.helper("getDateText",function(t){t=t?t:"";var e=t.split("-");return 2==e.length?e[0]+"年"+e[1]+"月":"-"}),template.helper("currency",a),template.helper("getRent",function(t){var e=a(t[3])+a(t[8])+a(t[11]);return a(e)}),i.Application.Web.UC_ChooseBillMonthly=n}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.pageSize=10,this.service=new i.Service.Order};a.prototype.init=function(){var t=this;i.Plugin.TabSwitch(".lv1-tabswitch",{items:[{txt:"换货记录",targetClass:".lv1-panel",tplID:"lv1-tpl",onShow:function(){e(".current-crumbs").text("换货记录"),t.showChangeTotal()}},{txt:"退租记录",targetClass:".lv1-panel",tplID:"lv1-tpl",onShow:function(){e(".current-crumbs").text("退租记录"),t.showReturnTotal()}},{txt:"续租记录",targetClass:".lv1-panel",tplID:"relet-log-tpl",onShow:function(){e(".current-crumbs").text("续租记录"),t.queryOrderReletLog()}},{txt:"调拨记录",targetClass:".lv1-panel",tplID:"allot-log-tpl",onShow:function(){e(".current-crumbs").text("调拨记录"),t.queryOrderAllocateLog()}},{txt:"维修记录",targetClass:".lv1-panel",tplID:"repair-log-tpl",onShow:function(){e(".current-crumbs").text("维修记录"),t.queryOrderRepairLog()}}]}),t.initEvent()},a.prototype.initEvent=function(){var t=this;e(document).on("click",".change-log-tpl .search-btn",function(){t.queryOrderExchangeLog()}).on("click",".return-log-tpl .search-btn",function(){t.queryOrderReturnLog()}).on("click",".return-package-log-tpl .search-btn",function(){t.queryOrderReturnPackageLog()}).on("click",".relet-log-tpl .search-btn",function(){t.queryOrderReletLog()}).on("click",".allot-log-tpl .search-btn",function(){t.queryOrderAllocateLog()}).on("click",".repair-log-tpl .search-btn",function(){t.queryOrderRepairLog()}).on("click",".start-date",function(){WdatePicker({el:"start-date"})}).on("click",".end-date",function(){WdatePicker({el:"end-date"})}).on("click",".calendar1",function(){e(".start-date").click()}).on("click",".calendar2",function(){e(".end-date").click()})},a.prototype.showChangeTotal=function(){var t=this;i.Plugin.TabSwitch(".lv2-tabswitch",{items:[{txt:"换货完成记录",targetClass:".lv2-panel",tplID:"change-log-tpl",onShow:function(){t.queryOrderExchangeLog()}},{txt:"换货设备发货记录",targetClass:".lv2-panel",tplID:"send-log-tpl",onShow:function(){t.queryOrderExchangeSendLog()}}]})},a.prototype.showReturnTotal=function(){var t=this;i.Plugin.TabSwitch(".lv2-tabswitch",{items:[{txt:"退租设备记录",targetClass:".lv2-panel",tplID:"return-log-tpl",onShow:function(){t.queryOrderReturnLog()}}]})},a.prototype.queryOrderExchangeLog=function(t){var a=this;t=t?t:1,this.service.queryOrderExchangeLog({orderId:e(".order-id").val(),sn:e(".sn").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("change-log-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryOrderExchangeLog(t)})}})},a.prototype.queryOrderExchangeSendLog=function(t){var a=this;t=t?t:1,this.service.queryOrderExchangeSendLog({orderId:e(".order-id").val(),sn:e(".sn").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("send-log-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryOrderExchangeSendLog(t)})}})},a.prototype.queryOrderReturnLog=function(t){var a=this;t=t?t:1,this.service.queryOrderReturnLog({orderId:e(".order-id").val(),sn:e(".sn").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("return-log-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryOrderReturnLog(t)})}})},a.prototype.queryOrderReturnPackageLog=function(t){var a=this;t=t?t:1,this.service.queryOrderReturnPackageLog({startDate:e(".start-date").val(),endDate:e(".end-date").val(),expressCode:e(".express-code").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("return-package-log-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryOrderReturnPackageLog(t)})}})},a.prototype.queryOrderReletLog=function(t){var a=this;t=t?t:1,this.service.queryOrderReletLog({orderId:e(".order-id").val(),sn:e(".sn").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("relet-log-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryOrderReletLog(t)})}})},a.prototype.queryOrderAllocateLog=function(t){var a=this;t=t?t:1,this.service.queryOrderAllocateLog({orderId:e(".order-id").val(),sn:e(".sn").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("allot-log-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryOrderAllocateLog(t)})}})},a.prototype.queryOrderRepairLog=function(t){var a=this;t=t?t:1,this.service.queryOrderRepairLog({orderId:e(".order-id").val(),sn:e(".sn").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("repair-log-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryOrderRepairLog(t)})}})},i.Application.Web.UC_DeviceLog=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.invoice=new e.Service.Invoice,this.id=e.Common.getQueryString("id")},n={};a.prototype.init=function(){this.loadInvoiceDetail(this.id)},a.prototype.loadInvoiceDetail=function(t){var a=this;this.invoice.getEInvoiceDetail(t).then(function(t){t.code||(n=t.data||{},i("#content-table").html(template("invoice-detail",n)),n.invoiceDetailList&&n.invoiceDetailList.length>0?(i("#details-cont .content-table").remove(),i("#details-cont").append(template("invoice-detail-list",n))):(i("#details-cont .content-table").remove(),i("#details-cont").append(e.Template.invoice.listEmpty)),a.regListOptionEvent())})},a.prototype.regListOptionEvent=function(){var t=this;i(".details-cont").find('a[operate="download"]').click(function(){var e=i(this).attr("operateId");t.invoice.downloadInvoiceImg(e)})},e.Application.Web.UC_Invoice_Electronic_Detail=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.invoice=new i.Service.Invoice,this.address=new i.Service.Address,this.area=new i.Service.Area,this.addressTemp=i.Template.invoiceAddress,this.billIds=i.Common.getQueryString("billIds"),this.customerSourceType,this.invoiceSourceType,this.currentId,this.proofFile=null,this.isAddTitleBtnClicked=!1,this.isFirstNormalApply=!e(".normal-invoice-titles").length,this.isFirstSpecialApply=!e(".special-invoice-titles").length},n={};a.prototype.init=function(){this.queryInvoiceNoticeInfo(),this.regChangeTypeEvent(),this.regChangeTitleEvent(),this.regAddTitleEvent(),this.regAddAddressBtnEvent(),this.regSubmitEvent(),this.regAmountChangeEvent(),this.customerSourceType=e("#source-type").val(),this.currentId=e(document.body).attr("currentId"),this.showInvoiceTitleDom(),this.currentId?this.loadInvoiceDetail(this.currentId):(this.regUploadFileEvent(),this.loadCustomerAddress()),this.regRemarkChangeEvent(e("#invoiceRemark"),184),this.regRemarkChangeEvent(e("#applyRemark"),500),this.showDemoTooltip(e(".show-img"),e("#invoiceExample")),this.regCheckMaxAmountEvent(),this.showExpressFee(this.billIds),this.normalInfo={},this.specialInfo={},this.eInvoiceInfo={}};var o=function(t,e,a){t.attr("invalid",!0).addClass("error"),e?(e.removeClass("hide").html('<i class="icon-prefect-error"></i> '+a).addClass("show animated shake"),setTimeout(function(){e.removeClass("animated shake")},1500)):new i.Plugin.Modal("提示信息",a).alert()};a.prototype.regAmountBlurEvent=function(t){var i=e.trim(t.val()),a=parseFloat(e.trim(t.attr("maxMoney"))),n=parseInt(this.invoiceSourceType),r=[1,2,3];return""===i?(o(t,e("#moneyError"),"请输入发票金额"),!1):i<=0?(o(t,e("#moneyError"),"开票金额应大于0"),!1):!(i>a&&e.inArray(n,r)==-1)||(o(t,e("#moneyError"),"开票金额不足"),!1)},a.prototype.regCheckMaxAmountEvent=function(){var t=this;e("#amount").blur(function(){t.regAmountBlurEvent(e("#amount"))})},a.prototype.regRemarkChangeEvent=function(t,a){var n=e('<p class="error-prompt hide">最多只能输入'+a+"字</p>");t.siblings(".remarks-word").append(n);var o=function(e){var o=i.Common.calculateCharacterNum(t.val(),!0);"blur"===e&&0===o&&t.removeClass("remark-textarea-large").siblings(".remarks-word").addClass("hide").removeClass("show"),o>a?n.removeClass("hide"):n.addClass("hide"),t.siblings(".remarks-word").find(".remark-len").text(o)};t.focus(function(){0==e.trim(t.val()).length&&t.addClass("remark-textarea-large").siblings(".remarks-word").removeClass("hide").addClass("show")}).blur(function(){o("blur")}).on("keyup",function(){o("keyup")})},a.prototype.showDemoTooltip=function(t,e){t.hover(function(){e.removeClass("hide")},function(){e.addClass("hide")})},a.prototype.showExpressFee=function(t){var i=e('input[name="typeId"]:checked').val();t&&(i=e('input[name="TitleType"]:checked').val(),e("#addressBox").removeClass("hide"));var a=e("#amount").val();1==i||2==i&&a&&a<2e3?(e("#expressFee").removeClass("hide"),e(e('input[name="post_type"]')[0]).attr("checked","checked")):e("#expressFee").addClass("hide"),e('input[name="post_type"]').unbind("click").click(function(){3==e(this).val()?e("#postFeeBox").removeClass("hide").addClass("error-prompt").attr("style","display:inline-block"):e("#postFeeBox").removeAttr("style").addClass("hide")})},a.prototype.regAmountChangeEvent=function(){var t=this;e("#amount").on("keyup",function(){t.showExpressFee()})},a.prototype.regUploadFileEvent=function(t){e(".upload-file-tips").html('<p class="uploadingBox"></p>'+e(".upload-file-tips").html()),e("#normalImgFile").attr("src")||e("#normalImgFile").addClass("hide");var a=this;!t&&a.proofFile&&(t=a.proofFile),t&&e("#normalImgFile").removeClass("hide").attr("src",t).attr("data-img",t),new i.Plugin.Upload(".upload-box",0,function(t){a.proofFile=t,e("#normalImgFile").removeClass("hide").attr("src",t).attr("data-img",t)},{loadingElem:e(".uploadingBox"),preview:!0,file:t})},a.prototype.showInvoiceTitleDom=function(){var t=e('input[name="typeId"]:checked').val(),a=e(':radio[name="TitleType"]:checked').val(),o=!1,r=!1;this.currentId?(o=this.isAddTitleBtnClicked||!e('.normal-invoice-titles[value="'+n.title+'"]').length,r=this.isAddTitleBtnClicked||!e('.special-invoice-titles[value="'+n.title+'"]').length):(o=this.isFirstNormalApply||this.isAddTitleBtnClicked,r=this.isFirstSpecialApply||this.isAddTitleBtnClicked);var s=template("title-tpl",{invoiceType:t,titleType:a,isNormalTitleInit:o,isSpecialTitleInit:r});e("#titleBox").html(s),1==t||3==t?(e(".remarks").addClass("hide"),e("#commonFormDom").addClass("hide")):2==t&&(e(".remarks").removeClass("hide"),e("#commonFormDom").removeClass("hide")),2==a&&e(".remarks").removeClass("hide"),e("#moreTip").unbind("click").click(function(){"icon-circle-down"==e("#moreTip i").attr("class")?(e("#moreTip i").attr("class","icon-circle-up"),e(".remarks").removeClass("hide"),e("#commonFormDom").removeClass("hide")):(e("#moreTip i").attr("class","icon-circle-down"),e(".remarks").addClass("hide"),e("#commonFormDom").addClass("hide"))}),this.regTitleChangeEvent(t),this.setDomData(t),this.validator=new i.Plugin.Validate(e(".open-invoice-bottom"),(!1),(!0))},a.prototype.setDomData=function(t){var i=e('#titleId option[value="'+e("#titleId").val()+'"]');i&&(e("#identifyNumberId").val(i.attr("data-taxerId")),1!=t&&3!=t||!i.attr("data-proofFile")?2==t&&(e("#companyAddress").val(i.attr("data-companyAddress")),e("#companyTel").val(i.attr("data-companyTel")),e("#companyBank").val(i.attr("data-companyBank")),e("#companyAccount").val(i.attr("data-companyAccount"))):e("#normalImgFile").attr("src",i.attr("data-proofFile")))},a.prototype.regTitleChangeEvent=function(t){var i=this;e("#titleId").unbind("change").change(function(){i.setDomData(t)})},a.prototype.regAddTitleEvent=function(){var t=this;e(document).on("click",".add-title-btn",function(){t.isAddTitleBtnClicked=!0,t.showInvoiceTitleDom(),t.regUploadFileEvent()})},a.prototype.regSubmitEvent=function(){var t=this;e(".uc-submit").click(function(){var a=e('input[name="typeId"]:checked').val(),o=!1;if(t.validator.doValid(),e(".open-invoice-bottom [invalid]:visible").length>0&&(o=!0),t.regAmountBlurEvent(e("#amount"))||(o=!0),o)return e(".open-invoice-bottom [invalid]:visible:first").focus(),!1;var r=e('input[name="address"]:checked').val(),s=e("#mobile-phone").val();if(!r&&3!=a)return void new i.Plugin.Modal("信息提示","请选择邮寄地址").alert();if(i.Common.calculateCharacterNum(e("#invoiceRemark").val(),!0)>184)return void new i.Plugin.Modal("信息提示","发票备注最多只能输入184个字").alert();if(i.Common.calculateCharacterNum(e("#applyRemark").val(),!0)>500)return void new i.Plugin.Modal("信息提示","发票要求最多只能输入500个字").alert();var l,d=e("#amount").val(),c=1==a||2==a&&d<2e3;if(c&&(l=e('input[name="post_type"]:checked').val(),e("#expressFee").is(":visible")&&!l))return void new i.Plugin.Modal("信息提示","请选择发票快递费支付方式").alert();var p,u=function(){var o=function(o){var d={isConfirm:!0,amount:parseFloat(e("#amount").val()),invoiceRemark:e.trim(e("#invoiceRemark").val()),applyRemark:e.trim(e("#applyRemark").val()),belongMonth:n.belongMonth?n.belongMonth:null,postType:l,invoiceContentId:n.invoiceContentId?n.invoiceContentId:2,invoiceContent:n.invoiceContent?n.invoiceContent:"租赁服务费",invoiceSourceType:t.invoiceSourceType,typeId:a,titleType:1==a||3==a?e(":radio[name=titleType]:checked").val():1,receiverName:o?o.name:"",receiverPhone:3==a?s:o?o.phone:"",receiverAddress:o?o.provinceName+" "+o.bcityName+" "+o.scityName+" "+o.address:"",receiverAddressId:r,chosenBill:t.billIds?t.billIds:null,proofFile:e.trim(e("#normalImgFile").attr("src"))},c=function(){if(e("#titleId").length){d.titleId=e("#titleId").val();var t=e('#titleId option[value="'+d.titleId+'"]');t&&(d.companyName=t.text())}};2==a?d.titleType=1:(d.titleType=e('input[name="TitleType"]:checked').val(),2==d.titleType?d.companyName="个人":d.proofFile=e.trim(e("#normalImgFile").attr("src"))),1==d.titleType&&(d.companyName=e.trim(e("#companyName").val()),d.taxerId=e("#identifyNumberId").val(),d.companyAddress=e("#companyAddress").val(),d.companyTel=e("#companyTel").val(),d.companyBank=e("#companyBank").val(),d.companyAccount=e("#companyAccount").val()),c(),n.id&&(d.id=n.id);var p=new i.Plugin.Dialog("信息确认",i.Template.invoice.detail,d,600);p.open(function(){e(".window").find(".uc-submit").click(function(){if(e(this).hasClass("disabled"))return!1;e(this).addClass("disabled");var a=e(this);t.invoice.submitRequest(d).then(function(t){if(a.removeClass("disabled"),!t.code){p.close();var e=new i.Plugin.Modal("信息提示","您的发票申请已成功提交，请等待审核");e.alert(function(){location.href=ROOT_PATH+"/customerInvoice"})}})}),e(".window").find(".uc-cancel").click(function(){p.close()})})};3!=a?t.address.getDetail(r).then(function(t){if(!t.code){var e=t.data||{};o(e)}}):o()},h="温馨提示",m={ok_txt:"继续开票",cancel_txt:"暂不开票"};1==a&&t.normalInfo.status?new i.Plugin.Modal(h,t.normalInfo.message,p,m).confirm(function(){u()}):2==a&&t.specialInfo.status?new i.Plugin.Modal(h,t.specialInfo.message,p,m).confirm(function(){u()}):3==a&&t.eInvoiceInfo.status?new i.Plugin.Modal(h,t.eInvoiceInfo.message,p,m).confirm(function(){u()}):u()})},a.prototype.regChangeTypeEvent=function(){var t=this;e('input[name="typeId"]').click(function(){t.changeType(),t.regUploadFileEvent()})},a.prototype.changeType=function(){switch(this.isAddTitleBtnClicked=!1,e('input[name="typeId"]:checked').val()){case"1":e("#titleTypeBox").removeClass("hide"),e("#electronicRemark, #valueAddedRemark").addClass("hide"),e("#commonPaperRemark").removeClass("hide"),e("#addressBox").removeClass("hide");break;case"3":e("#titleTypeBox").removeClass("hide"),e("#commonPaperRemark, #valueAddedRemark").addClass("hide"),e("#electronicRemark").removeClass("hide"),e("#addressBox").addClass("hide");break;case"2":e("#titleTypeBox").addClass("hide"),e("#commonPaperRemark, #electronicRemark").addClass("hide"),e("#valueAddedRemark").removeClass("hide"),e("#addressBox").removeClass("hide")}this.showExpressFee(),this.showInvoiceTitleDom()},a.prototype.regChangeTitleEvent=function(){var t=this;e(document).on("click",":radio[name=TitleType]",function(){t.showExpressFee(t.billIds),t.showInvoiceTitleDom(),t.regUploadFileEvent(t.proofFile)})},a.prototype.loadInvoiceDetail=function(t){var i=this;this.invoice.getDetail(t).then(function(t){t.code||(n=t.data||{},e("#amount").val(n.amount),e('input[name="typeId"][value="'+n.typeId+'"]').attr("checked","checked"),e("#invoiceType").text(1==n.typeId?"普通纸质发票":2==n.typeId?"增值税专用发票":"普通电子发票"),e("#invoiceContent").text(n.invoiceContent),n.titleType&&e(':radio[name="TitleType"][value="'+n.titleType+'"]').prop("checked",!0),i.changeType(),e("#companyName").val(n.title),e("#identifyNumberId").val(n.taxerId),
e("#companyAddress").val(n.companyAddress),e("#companyTel").val(n.companyTel),e("#companyBank").val(n.companyBank),e("#companyAccount").val(n.companyAccount),n.proofFile&&(e("#normalImgFile").attr("src",n.proofFile),i.regUploadFileEvent(n.proofFile),i.proofFile=n.proofFile),i.setRemarkDetail(e("#invoiceRemark"),n.invoiceRemark),i.setRemarkDetail(e("#applyRemark"),n.applyRemark),3==n.typeId&&e("#mobile-phone").val(n.receiverPhone),i.billIds=n.billIds,i.invoiceSourceType=n.sourceType,i.loadCustomerAddress())})},a.prototype.setRemarkDetail=function(t,e){if(t.val(e),e.length){t.addClass("remark-textarea-large").siblings(".remarks-word").removeClass("hide").addClass("show");var a=i.Common.calculateCharacterNum(e,!0);t.siblings(".remarks-word").find(".remark-len").text(a)}},a.prototype.showEditAddressPopup=function(t){var a=this,n=t?"修改收货地址":"新增收货地址",o=new i.Plugin.Dialog(n,a.addressTemp.create,t,520);o.open(function(){var n=new i.Plugin.Validate(e(".address-content"),(!1));t?new i.Plugin.AddressSelect(e("#province"),e("#city"),e("#district"),t.provinceId,t.bcityId,t.scityId,(!0)):new i.Plugin.AddressSelect(e("#province"),e("#city"),e("#district"),"","","",(!0)),e(".window").find(".uc-cancel").click(function(){o.close()}),e(".window").find(".uc-submit").click(function(){n.doValid();var r=e(".address-content");if(0===r.find("[invalid]").length){var s={name:r.find("#name").val(),provinceId:r.find("#province").val(),bcityId:r.find("#city").val(),scityId:r.find("#district").val(),address:r.find("#address").val(),phone:r.find("#phone").val()};t?(s.id=t.id,a.address.modify(s).then(function(t){if(!t.code){o.close();var e=new i.Plugin.Modal("提示信息","修改收货地址成功");e.alert(function(){a.loadCustomerAddress(t.data),e.close()})}})):a.address.create(s).then(function(t){if(!t.code){o.close();var e=new i.Plugin.Modal("提示信息","新增收货地址成功");e.alert(function(){a.loadCustomerAddress(),e.close()})}})}})})},a.prototype.regAddAddressBtnEvent=function(){var t=this;e(".new-address-span").click(function(){t.showEditAddressPopup()})},a.prototype.regMoreAddressEvent=function(){e(".more-address span").click(function(){if(e(this).attr("up")){e(this).text("更多地址 ↓"),e(".address-list li").addClass("hide");var t=e('input[name="address"]:checked');t.parent().parent().removeClass("hide"),e(".more-address").removeClass("hide"),e(this).removeAttr("up")}else e(this).text("更多地址 ↑"),e(".address-list li").removeClass("hide"),e(this).attr("up",!0)})},a.prototype.loadCustomerAddress=function(t){var i=this;this.address.getList().then(function(a){if(!a.code){if(e(".address-list").html(juicer(i.addressTemp.list,a)),i.regAddressOperationEvent(),i.regMoreAddressEvent(),n&&n.receiverAddressId){var o=e('input[name="address"][value="'+n.receiverAddressId+'"]');o.length>0&&o.attr("checked","checked")}e(".address-list li").length>4?(e(".address-list li").addClass("hide"),e(".more-address").removeClass("hide")):e(".more-address").addClass("hide");var r;t?(r=e(e('input[name="address"][value="'+t+'"]')),r.attr("checked","checked"),r.parent().parent().removeClass("hide")):(r=e('input[name="address"]:checked'),0===e('input[name="address"]:checked').length&&(r=e(e('input[name="address"]')[0])),r.attr("checked","checked"),r.parent().parent().removeClass("hide"))}})},a.prototype.setDefaultAddress=function(t,i){this.address.setDefault(t).then(function(t){if(!t.code){e(".address-list li").removeAttr("isDefault"),e(".address-list li b").addClass("hide"),e(".address-list li i[operate=setDefault]").removeClass("hide");var a=i.parent().parent().parent();a.attr("isDefault",!0),a.find("b").removeClass("hide"),a.find("i[operate=setDefault]").addClass("hide")}})},a.prototype.deleteAddress=function(t,a){var n=this,o=new i.Plugin.Modal("确认信息","您确定要删除该地址吗？");o.confirm(function(){n.address.remove(t).then(function(t){o.close(),t.code||(a.parent().parent().parent().remove(),e(".address-list li").length<=5&&(e(".address-list li").removeClass("hide"),e(".more-address").addClass("hide")))})})},a.prototype.regAddressOperationEvent=function(){var t=this;e(".address-list i[operate]").click(function(){var i=e(this).attr("operate"),a=e(this).parent().attr("operateId"),n=e(this);switch(i){case"setDefault":t.setDefaultAddress(a,n);break;case"edit":t.address.getDetail(a).then(function(e){e.code||t.showEditAddressPopup(e.data)});break;case"delete":t.deleteAddress(a,n)}})},a.prototype.queryInvoiceNoticeInfo=function(){var t=this;t.invoice.queryInvoiceNoticeInfo().then(function(e){e.code||(t.normalInfo=e.data.normal||{},t.specialInfo=e.data.special||{},t.eInvoiceInfo=e.data.eInvoice||{})})},i.Application.Web.UC_Invoice_Apply=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.invoice=new i.Service.Invoice,this.temp=i.Template.invoice},n=1;a.prototype.init=function(){this.showList(n),e("#requestInvoiceBtn").click(function(){var t=e(this).attr("path"),a=e(this).attr("isofo");"true"==a?new i.Plugin.Modal("提示信息","2018年1月1日以后发票只能从总部账号开取，历史发票请联系您的客户经理线下开取。").alert():location.href=ROOT_PATH+t})},a.prototype.showList=function(t){var a=10,o=this;this.invoice.getList(t,a).then(function(t){if(!t.code){if(t.data.abstractList.length>0){e.each(t.data.abstractList,function(t,e){e.cdate?e.cdate=moment(e.cdate).format("YYYY-MM-DD"):e.cdate="-"}),e(".details-cont .content-table").remove(),e(".details-cont").append(juicer(o.temp.list,t.data)),new i.Plugin.Tooltip(e(".details-cont").find("[tooltip]")).init();var r=1;r=t.data.totalCount%a===0?t.data.totalCount/a:parseInt(t.data.totalCount/a,10)+1,r>1&&new i.Plugin.Pagination(e("[pagination]"),n,r).init(function(t){n=t,o.showList(t)}),i.Common.rebuildGridHeight()}else e(".details-cont .content-table").remove(),e(".details-cont").append(i.Template.invoice.listEmpty);o.regListOptionEvent()}})},a.prototype.regListOptionEvent=function(){var i=this;e(".details-cont").find('a[operate="showDetail"]').bind("click",function(){var t=e(this).attr("operateId");i.showDetail(t)}),e(".details-cont").find('a[operate="modify"]').click(function(){var t=e(this).attr("operateId");location.href=ROOT_PATH+"/applyInvoice?id="+t}),e(".details-cont").find('a[operate="cancel"]').click(function(){var t=e(this).attr("operateId");i.cancelRequest(t)}),e(".details-cont").find('a[operate="openList"]').click(function(){var i=e(this).attr("operateId");t.open(ROOT_PATH+"/toEInvoiceDetail?id="+i)})},a.prototype.showDetail=function(t){this.invoice.getDetail(t).then(function(t){if(t.code)new i.Plugin.Modal("信息提示","获取发票详情失败，请重试！").alert();else{var a=t.data?t.data:{};a.companyName=a.title;var n=new i.Plugin.Dialog("查看详情",i.Template.invoice.detail,a,600);n.open(function(){e(".window").find("#okBtn").click(function(){n.close()})})}})},a.prototype.showImg=function(t){this.invoice.showInvoiceImg(t).then(function(t){if(t.code)new i.Plugin.Modal("信息提示","查看发票失败，请重试！").alert();else{var e=t.data?t.data:{},a={className:"",width:"800",url:e};new i.Plugin.ImgModal(a).open()}})},a.prototype.cancelRequest=function(t){var e=this,a=new i.Plugin.Modal("确认信息","您确定要撤销该申请吗？");a.confirm(function(){a.close(),e.invoice.cancelRequest(t).then(function(t){if(!t.code){var a=new i.Plugin.Modal("提示信息","撤销该申请成功！");a.alert(function(){e.showList(n),a.close(),location.reload()})}})})},i.Application.Web.UC_Invoice_List=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.isWap=i(document.body).attr("isWap"),this.form=i("#joinform"),this.modal=e.Plugin.Modal,this.validate=new e.Plugin.Validate(this.form,this.isWap),this.customer=new e.Service.Customer,this.captchaId=e.Common.captchaId,this.captchaIns="",this.captchaData=""};a.prototype.init=function(){this.regSubmitEvent(),this.regSyncCheckPhoneUsed(),this.regSmsCodeBtnEvent(),this.regCapEvent()},a.prototype.enableSubmitSmsBtn=function(){!this.form.find("#phone").attr("invalid")&&this.form.find("#phone").val().trim().length>0&&this.captchaData&&this.captchaData.validate?this.form.find("#smsCodeBtn").removeAttr("disabled").addClass("sure-num-click"):this.form.find("#smsCodeBtn").attr("disabled","disabled").removeClass("sure-num-click")},a.prototype.regSyncCheckPhoneUsed=function(){var t=this;this.form.find("#phone").blur(function(){i(this).attr("invalid")||t.enableSubmitSmsBtn()})},a.prototype.toSmsCode=function(){var t=this,e=i(this.form.find("#smsCodeBtn"));e.attr("isWaiting")||e.attr("disabled")||(e.attr("isWaiting",!0),t.customer.sendASmsByPhone({phone:i("#phone").val(),validate:t.captchaData.validate,typeId:4},!0).then(function(i){if(i.code)t.refreshCaptcha(),e.removeAttr("isWaiting");else{new t.modal("信息提示","短信验证码发送成功").alert();var a=t.form.find("#voiceSmsCodeBtn");a.addClass("hide"),e.attr("isWaiting",!0);var n=60,o=setInterval(function(){e.removeClass("sure-num-click"),e.text(n+"秒后重新发送"),n--,0===n&&(e.removeAttr("isWaiting").attr("channelId",2).text("重发短信验证码"),e.addClass("sure-num-click"),a.removeClass("hide"),a.addClass("sure-num-click"),clearInterval(o))},1e3)}}))},a.prototype.regSmsCodeBtnEvent=function(){var t=this;this.form.find("#smsCodeBtn").click(function(){t.toSmsCode()})},a.prototype.regSubmitEvent=function(){var t=this;t.form.attr("waitingCount",0);var e=function(e){var a={phone:i("#phone").val().trim(),smsCode:i("#smsCode").val().trim()};t.customer.joinCompany(a).then(function(i){if(e.removeAttr("submitting"),i.code)if("10031"==i.code){var a=new t.modal("温馨提示","加入失败 公司不存在 ",400,{ok_txt:"创建公司"});a.alert(function(){location.href=ROOT_PATH+"/apply_deposit"})}else new t.modal("提示信息",i.message).alert(),t.refreshCaptcha();else{var n=new t.modal("加入成功","您已成功加入公司"+i.data,400,{ok_txt:"确认"});n.alert(function(){location.href=ROOT_PATH+"/ucenter"})}})},a=function(i){0===t.form.find("[invalid]").length?e(i):i.removeAttr("submitting")};i("#submitBtn").click(function(){var e=i(this);if(!e.attr("submitting"))if(e.attr("submitting",1),t.validate.doValid(),t.form.attr("waitingCount")>0){new t.modal("信息提示","正在校验数据，请稍后再试");var n=setInterval(function(){"0"===t.form.attr("waitingCount")&&(clearInterval(n),e.removeAttr("submitting"))},100)}else a(e)})},a.prototype.regCapEvent=function(){var t=this;initNECaptcha({captchaId:t.captchaId,element:"#captcha",onVerify:function(e,i){t.captchaData=i,t.enableSubmitSmsBtn(),t.toSmsCode()}},function(e){t.captchaIns=e},function(e){t.captchaData="",t.enableSubmitSmsBtn()})},a.prototype.refreshCaptcha=function(){var t=this;this.captchaIns&&this.captchaIns.refresh(),this.captchaData="",t.enableSubmitSmsBtn()},e.Application.Web.UC_JoinCompany=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){};a.prototype.init=function(){this.form=i("#passForm"),this.validate=new e.Plugin.Validate(this.form),this.customer=new e.Service.Customer,this.modal=e.Plugin.Modal,this.regSubmitEvent()},a.prototype.regSubmitEvent=function(){var t=this;i("#submitBtn").click(function(){var e=i(this);if(!e.attr("submitting"))if(e.attr("submitting",1),t.validate.doValid(),0===t.form.find("[invalid]").length){var a={newPass:i("#newPass").val().trim(),newPass2:i("#confirmPass").val().trim(),pass:i("#oldPass").val().trim()};t.customer.modifyPassword(a.pass,a.newPass).then(function(i){e.removeAttr("submitting"),i.code||new t.modal("信息提示","密码修改成功").alert(function(){location.href=ROOT_PATH+"/bindingPhone"})})}else e.removeAttr("submitting")})},e.Application.Web.UC_ModifyPassword=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(i&&i.Application){var a=3,n=1,o=function(){this.myCouponService=new i.Service.MyCoupon,this.template=i.Template.myCoupon};o.prototype.init=function(){var t=this.getRequestParam(1);this.getCouponList(t),this.regStatusChangeEvent(),this.regbtnEvent()},o.prototype.getRequestParam=function(){var t=e("#status").val(),i={status:t,startIndex:(n-1)*a,pageSize:a};return i},o.prototype.getCouponList=function(t){var a=this;a.myCouponService.getCouponList(t).done(function(o){if(!o.code&&o.data){var r=Math.ceil(o.data.totalCount/t.pageSize);r>0?(e("#dataTable").html(template.compile(a.template)(o.data)),new i.Plugin.Pagination(e("#paper"),n,r).init(function(t){n=t;var e=a.getRequestParam(t);a.getCouponList(e)})):(e("#paper").html(""),e("#dataTable").html(""))}})},o.prototype.regStatusChangeEvent=function(){var t=this;e("#status").on("change",function(){n=1;var e=t.getRequestParam();t.getCouponList(e)})},o.prototype.regbtnEvent=function(){var t=this;e("#getCode").on("click",function(){var a=e("#code").val();return a&&"请输入优惠券码"!==a?void t.createCoupon(a):void new i.Plugin.Modal("信息提示","请输入优惠券码").alert()})},o.prototype.createCoupon=function(t){this.myCouponService.createCoupon(t).done(function(t){0==t.code&&new i.Plugin.Modal("信息提示","领取优惠券成功").alert(function(){location.reload()})})},i.Application.Web.UC_MyCoupon=o}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.pageSize=10,this.service=new i.Service.Order};a.prototype.init=function(){var t=this;i.Plugin.TabSwitch(".mydevice-tabswitch",{items:[{txt:"在租设备（"+(e(".total-rent-num").val()||0)+"）",targetClass:".lv1-panel",tplID:"onrent-total-tpl",onShow:function(){e(".current-crumbs").text("在租设备"),t.showOnRentTotal()}},{txt:"退租设备（"+(e(".return-num").val()||0)+"）",targetClass:".lv1-panel",tplID:"return-tpl",onShow:function(){e(".current-crumbs").text("退租设备"),t.queryReturnDevices()}},{txt:"租完即送到期设备（"+(e(".finance-end-num").val()||0)+'）<i class="icon-question" title="租完即送到期设备是指租赁方式为租完即送、租期已结束且无历史欠款的设备，该设备租期结束后归属于承租方所有。"></i>',targetClass:".lv1-panel",tplID:"financeend-tpl",onShow:function(){e(".current-crumbs").text("租完即送到期设备"),t.queryFianceRentEndDevices()}}]}),t.initEvent()},a.prototype.initEvent=function(){var t=this;e(document).on("click",".onrent-tpl .search-btn",function(){t.queryOnRentDevice()}).on("click",".onreturn-tpl .search-btn",function(){t.queryOnReturnDevices()}).on("click",".return-tpl .search-btn",function(){t.queryReturnDevices()}).on("click",".financeend-tpl .search-btn",function(){t.queryFianceRentEndDevices()}).on("click",".start-date",function(){WdatePicker({el:"start-date"})}).on("click",".end-date",function(){WdatePicker({el:"end-date"})}).on("click",".calendar1",function(){e(".start-date").click()}).on("click",".calendar2",function(){e(".end-date").click()})},a.prototype.showOnRentTotal=function(){var t=this;i.Plugin.TabSwitch(".lv2-tabswitch",{items:[{txt:"未到期在租设备（"+(e(".on-rent-num").val()||0)+"）",targetClass:".lv2-panel",tplID:"onrent-tpl",onShow:function(){t.queryOnRentDevice()}},{txt:"已到期未归还设备（"+(e(".on-return-num").val()||0)+"）",targetClass:".lv2-panel",tplID:"onreturn-tpl",onShow:function(){t.queryOnReturnDevices()}}]})},a.prototype.queryOnRentDevice=function(t){var a=this;t=t?t:1,this.service.queryOnRentDevice({startDate:e(".start-date").val(),endDate:e(".end-date").val(),orderId:e(".order-id").val(),sn:e(".sn").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("onrent-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryOnRentDevice(t)})}})},a.prototype.queryOnReturnDevices=function(t){var a=this;t=t?t:1,this.service.queryOnReturnDevices({orderId:e(".order-id").val(),sn:e(".sn").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("onreturn-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryOnReturnDevices(t)}),o&&o.totalCount?e(".onreturn-tip").show():e(".onreturn-tip").hide()}})},a.prototype.queryReturnDevices=function(t){var a=this;t=t?t:1,this.service.queryReturnDevices({startDate:e(".start-date").val(),endDate:e(".end-date").val(),orderId:e(".order-id").val(),sn:e(".sn").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("return-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryReturnDevices(t)})}})},a.prototype.queryFianceRentEndDevices=function(t){var a=this;t=t?t:1,this.service.queryFianceRentEndDevices({startDate:e(".start-date").val(),endDate:e(".end-date").val(),orderId:e(".order-id").val(),sn:e(".sn").val(),startIndex:(t-1)*this.pageSize,pageSize:this.pageSize}).then(function(n){if(!n.code){var o=n.data?n.data:{};e(".table-body").html(template("financeend-list-tpl",{list:o.list})),new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.totalCount/a.pageSize)).init(function(t){a.queryFianceRentEndDevices(t)})}})},i.Application.Web.UC_MyDevice=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a,n=10,o=function(){this.service=new i.Service.Order,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)},a=this.service.dataMap};o.prototype.init=function(){var t=this;t.initDateSelect(),e("#fromStatus").val(""),t.initStateSelect(),this.getOrderList(1),this.regEvents()},o.prototype.regEvents=function(){var t=this;e(document).on("click",".cancelOrder",function(){var a=e(this).attr("data_id"),n=e(this).attr("class"),o={orderId:a};t.service.cancelSubProductOrder(o).then(function(e){if(!e.code){var o="温馨提示",r=e.data?"该订单不可单独取消，点击取消按钮将取消该拆分订单下的所有子订单。":"您确定取消该订单吗?",s={className:"cancel-order-confirm-modal",ok_txt:"确认取消订单",cancel_txt:"返回"};new i.Plugin.Modal(o,r,null,s).confirm(function(){t.doOrderCancel(a,n)})}})}).on("click","#searchButton",function(){t.initDateSelect(),t.initStateSelect(),t.getOrderList(1)}).on("change","#date_str",function(){t.getOrderList(1)}).on("click",".bounced .btn_qx,h6 a",function(){t.hideConfirm()})},o.prototype.initStateSelect=function(){var t=this;new i.Plugin.Dropdown("._order_state_select",{data:[{text:"全部状态",value:""},{text:"已下单",value:"0"},{text:"已确认",value:"1"},{text:"已取消",value:"2"},{text:"开始配货",value:"3"},{text:"配货完成",value:"4"},{text:"已发货",value:"5"},{text:"租赁中",value:"6"},{text:"已完成",value:"7"},{text:"未支付",value:"99"}],default_text:"订单状态",default_value:"",onSelect:function(e,i){t.getOrderList(1)}})},o.prototype.initDateSelect=function(){var t=this;new i.Plugin.Dropdown("._order_date_select",{data:[{text:"全部订单",value:""},{text:"近一个月",value:"j1"},{text:"近三个月",value:"j3"},{text:"三个月前",value:"q3"}],default_text:"全部订单",default_value:e("#fromStatus").val()||"",onSelect:function(e,i){t.getOrderList(1)}})},o.prototype.getOrderList=function(t){var a=this,o=function(t){var e=new Date;return e.setMonth(e.getMonth()-t),moment(e).format("YYYYMMDD")},r=e("#date_str").attr("data-value"),s="20150101";"j1"===r?s=o(1):"j3"===r?s=o(3):"q3"===r&&(s+=","+o(3));var l=e("#status").attr("data-value"),d={cdate:s,status:l,title:e.trim(e("#title_str").val()),pageIndex:t-1,pageSize:n};this.service.queryMyOrderList(d).then(function(o){return o.hits&&o.hits.hits&&o.hits.hits.length?(new i.Plugin.Pagination(e("[pagination]"),t,Math.ceil(o.hits.total/n)).init(function(t){a.getOrderList(t)}),void a.renderOrderList(o.hits.hits)):("20150101"!=d.cdate||d.status||d.title?e("._list_container").html('<div class="go-category">搜索无结果</div>'):e("._list_container").html('<div class="go-category">暂无订单，<a href="/category">立即去下单>></a></div>'),void e("[pagination]").empty())})},o.prototype.renderOrderList=function(t){var i=template("order_list_tpl",{list:t,dataMap:a});e("._list_container").html(i)},o.prototype.doOrderCancel=function(e,i){var a=this,n=i.indexOf("split")!==-1;a.service.cancelOrder(e,n).then(function(e){e.code||a.alert("操作成功",function(){t.location.reload()})})},i.Application.Web.UC_MyOrder=o}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.payType=1,this.bankCode="alipay",this.cash=Number(e(".balance-deduction-box .cash-box b").text()),this.ebi=Number(e(".balance-deduction-box .ebi-box b").text()),this.needPay=Number(e(".need-pay").text()),this.actualPay=Number(e(".actual-pay").text()),this.service=new i.Service.Order,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};a.prototype.init=function(){this.initDom(),this.regTabSwitchEvent(),this.regSelectReduceEvent(),this.showOrHideTipsTxt(),this.regPayEvent()},a.prototype.getData=function(){return{list:[{tit:"支付宝：",types:[{imgURL:"images/alipay-logo.jpg",name:"alipay"}]},{tit:"个人网银：",types:[{imgURL:"images/ICBCB2C-logo.jpg",name:"ICBCB2C"},{imgURL:"images/CMB-logo.jpg",name:"CMB"},{imgURL:"images/CCB-logo.jpg",name:"CCB"},{imgURL:"images/ABC-logo.jpg",name:"ABC"},{imgURL:"images/SPDB-logo.jpg",name:"SPDB"},{imgURL:"images/CMBC-logo.jpg",name:"CMBC"},{imgURL:"images/CIB-logo.jpg",name:"CIB"},{imgURL:"images/COMM-DEBIT-logo.jpg",name:"COMM-DEBIT"},{imgURL:"images/GDB-logo.jpg",name:"GDB"},{imgURL:"images/POSTGC-logo.jpg",name:"POSTGC"},{imgURL:"images/SPABANK-logo.jpg",name:"SPABANK"},{imgURL:"images/SHBANK-logo.jpg",name:"SHBANK"},{imgURL:"images/BJBANK-logo.jpg",name:"BJBANK"},{imgURL:"images/SHRCB-logo.jpg",name:"SHRCB"},{imgURL:"images/WZCBB2C-DEBIT-logo.jpg",name:"WZCBB2C-DEBIT"},{imgURL:"images/BJRCB-logo.jpg",name:"BJRCB"}]},{tit:"企业网银：",types:[{imgURL:"images/ABCBTB-logo.jpg",name:"ABCBTB"},{imgURL:"images/CCBBTB-logo.jpg",name:"CCBBTB"},{imgURL:"images/SPDBB2B-logo.jpg",name:"SPDBB2B"},{imgURL:"images/CMBBTB-logo.jpg",name:"CMBBTB"}]}]}},a.prototype.initDom=function(){var t=this.getData();e(".pay-type-layer").html(template("payTemplate",t)),this.regPayTypeEvent()},a.prototype.regTabSwitchEvent=function(){var t=this;e(".tab-box").on("click","span",function(){if(!e(this).hasClass("checked")){var i=e(this).index();e(".pay-wrapper:eq("+i+")").removeClass("hide").siblings(".pay-wrapper").addClass("hide"),1===i?(t.payType=null,e(".immediate-pay").addClass("hide")):(t.payType=1,e(".immediate-pay").removeClass("hide")),e(this).addClass("checked").siblings("span").removeClass("checked")}})},a.prototype.showOrHideTipsTxt=function(){new i.Plugin.RightTooltip(e(".icon-question")).init()},a.prototype.regSelectReduceEvent=function(){this.calcBlanceReduce("cash","ebi"),this.calcBlanceReduce("ebi","cash"),e(".balance-deduction-box").length&&e(".balance-deduction-box .cash").length&&this.selectReduce("cash","ebi")},a.prototype.calcBlanceReduce=function(t,i){var a=this;e(".balance-deduction-box .deduce-type").on("click","."+t,function(){e(this).hasClass("disabled")||(e(this).hasClass("checked")?a.cancelReduce(t,i):a.selectReduce(t,i))})},a.prototype.selectReduce=function(t,i){var a=e(".balance-deduction-box .deduce-type").find("."+t),n=e(".tit-box").find("."+t+"-deduce"),o=e(".actual-pay"),r=e(".balance-deduction-box .deduce-type").find("."+i);a.addClass("checked"),n.removeClass("hide"),this[t]>=this.actualPay?(r.hasClass("checked")||r.addClass("disabled"),n.find("."+t+"-money").text(this.actualPay.toFixed(2)),this.actualPay=0,o.text("0.00"),e(".pay-type-layer").addClass("hide"),this.bankCode=null):(e(".pay-type-layer").removeClass("hide"),this.bankCode=e(".pay-type-layer li.checked").attr("data-name"),r.removeClass("disabled"),n.find("."+t+"-money").text(this[t].toFixed(2)),this.actualPay=this.actualPay-this[t],o.text(this.actualPay.toFixed(2))),this.showActualPay()},a.prototype.cancelReduce=function(t,i){var a=e(".balance-deduction-box .deduce-type").find("."+t);e(".tit-box").find("."+t+"-deduce").addClass("hide").find("."+t+"-money").text(0);var n=e(".balance-deduction-box .deduce-type").find("."+i);a.removeClass("checked"),this.actualPay=this.needPay,e(".actual-pay").text(this.actualPay.toFixed(2)),n.removeClass("disabled"),n.hasClass("checked")?this.selectReduce(i,t):(e(".pay-type-layer").removeClass("hide"),this.bankCode=e(".pay-type-layer li.checked").attr("data-name")),this.showActualPay()},a.prototype.showActualPay=function(){e(".balance-deduction-box .checkbox").hasClass("checked")&&e(".actual-pay").text()>0?e(".actual-pay-box").removeClass("hide"):e(".actual-pay-box").addClass("hide")},a.prototype.regPayTypeEvent=function(){var t=this;e(".pay-type-layer").on("click","li",function(){e(this).hasClass("checked")||(e(".pay-type-layer li").removeClass("checked"),e(this).addClass("checked"),t.bankCode=e(this).attr("data-name"))})},a.prototype.regPayEvent=function(){var t=this;e(".pay-btn").on("click",function(){var i={payType:t.payType,bankCode:t.bankCode,remainAmount:e(".money-detail .cash-money").text(),eMoney:e(".money-detail .ebi-money").text(),totalAmount:e(".money-detail .need-pay").text()},a=e.param(i),n="aliPay/payAllBill?"+a;e('<form method="post" action="'+n+'"></form>').appendTo("body").submit().remove()})},i.Application.Web.UC_OrderBillPay=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.valid=i.Validate,this.addressService=new i.Service.Address,this.myCouponService=new i.Service.MyCoupon,this.customerService=new i.Service.Customer,this.orderService=new i.Service.Order,this.shoppingCartService=new i.Service.ShoppingCart,this.temp=i.Template.OrderConfirm,this.createAddressTemp=i.Template.invoiceAddress.create,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)},this.confirm=function(t,e){new i.Plugin.Modal("温馨提示",t).confirm(e)}};a.prototype.init=function(){new i.Plugin.Tooltip(e(".pay-type").find("[tooltip]")).init(),this.addressBoxStyle(),this.initSetCouponMD5(),this.handleAddress(),this.selectPaymentType(),this.showOrHideTipsTxt(),this.calceEBiBlanceReduce(),this.judgeRemark(),this.couponEvent(),this.calculateActualMoney(),this.backToCart(),this.regSelectAgreeEvent(),this.submitOrder(),this.costTotal=Number(e("#costTotal").html())},a.prototype.addressBoxStyle=function(){e.each(e(".address-box dt"),function(t,i){var a=e(i).height();a>30?e(i).css("background-position-y","37px"):e(i).css("background-position-y","13px")})},a.prototype.initSetCouponMD5=function(){var t=e.md5("begin"),i=e.md5("end"),a=e("#rentT_H"),n=e("#isUsedHdfk");a.val(t+a.val()+i),n.val(t+n.val()+i)},a.prototype.handleAddress=function(){this.regAddressHoverEvent(),this.regAddressClickEvent(),this.showMoreAddress(),this.addAddress(),this.setDefaultAddress(),this.modifyAddress(),this.removeAddress()},a.prototype.regAddressHoverEvent=function(){e(".address-content").on("mouseover",".express-address",function(){e(this).find("dd").addClass("address-default").find(".default-box").show().end().parent("dl").siblings("dl").find("dd").removeClass("address-default").find(".default-box").hide()})},a.prototype.regAddressClickEvent=function(){var t=this;e(".address-content").on("click","dl",function(){t.addressBoxStyle(),e(this).addClass("cur").children("dd").end().siblings(".cur").removeClass("cur").show()})},a.prototype.showMoreAddress=function(){e(".handle-address").on("click",".more-address-btn",function(){e(this).hide().siblings().show().parents(".address-box").children(".address-content").find(".express-address").show()})},a.prototype.addAddress=function(){var t=this;e(".handle-address").on("click",".add-address-btn",function(){t.showEditAddressPopup()})},a.prototype.setAfterEditData=function(t){e("#address_rows_"+t.id).find(".consignee-name-tit").text(t.name).end().find(".consignee-name-cont").text(t.name).siblings(".province").text(t.pbsText).siblings(".consignee-address").text(t.address).siblings(".consignee-phone").text(t.phone)},a.prototype.setAfterAddData=function(t){var i=this,a=juicer(i.temp.addressDataTemp,t);e(".address-content").prepend(a).find(".express-address").show()},a.prototype.setDefaultAddress=function(){var t=this;e(".address-content").on("click",".set-default",function(){var i=e(this).attr("data_id");t.addressService.setDefault(i).then(function(a){a.code||t.alert("设置成功！",function(){e("#address_rows_"+i).find(".default-address").removeClass("hide").end().find(".set-default").addClass("hide").parents("#address_rows_"+i).siblings().find(".default-address").addClass("hide").end().find(".set-default").removeClass("hide")})})})},a.prototype.modifyAddress=function(){var t=this;e(".address-content").on("click",".edit-address",function(){var i=e(this).attr("data_id");t.addressService.getDetail(i).then(function(e){e.code||t.showEditAddressPopup(e.data)})})},a.prototype.showEditAddressPopup=function(t){var a=this,n=t?"修改收货地址":"新增收货地址",o=new i.Plugin.Dialog(n,a.createAddressTemp,t,520);o.open(function(){var n=new i.Plugin.Validate(e(".address-content"),(!1));t?new i.Plugin.AddressSelect(e("#province"),e("#city"),e("#district"),t.provinceId,t.bcityId,t.scityId,(!0)):new i.Plugin.AddressSelect(e("#province"),e("#city"),e("#district"),"","","",(!0)),e(".window").find(".uc-cancel").click(function(){o.close()}),e(".window").find(".uc-submit").click(function(){n.doValid();var i=e(".address-content"),r=e("#province").find("option:selected").text(),s=e("#city").find("option:selected").text(),l=e("#district").find("option:selected").text(),d=r+" "+s+" "+l;if(0===i.find("[invalid]").length){var c={name:i.find("#name").val(),provinceId:i.find("#province").val(),bcityId:i.find("#city").val(),scityId:i.find("#district").val(),address:i.find("#address").val(),phone:i.find("#phone").val()};t?(c.id=t.id,a.addressService.modify(c).then(function(t){t.code||(o.close(),c.pbsText=d,a.alert("修改收货地址成功！",function(){a.setAfterEditData(c)}))})):a.addressService.create(c).then(function(t){if(!t.code){o.close();var e=c;e.id=t.data,e.pbsText=d,a.alert("新增收货地址成功！",function(){a.setAfterAddData(e)})}})}})})},a.prototype.removeAddress=function(){var t=this;e(".address-content").on("click",".delete-address",function(){var i=e(this).attr("data_id");t.confirm("确定要删除此地址吗？",function(){t.doDelAddress(i)})})},a.prototype.doDelAddress=function(t){var i=this;i.addressService.remove(t).then(function(a){a.code||i.alert("删除成功！",function(){e("#address_rows_"+t).remove()})})},a.prototype.selectPaymentType=function(){var t=this;e(".pay-type-box").on("click",'input[name="paymentType"]',function(){if(!e(this).closest("div").hasClass("selected-pay-type")){e(this).closest("div").addClass("selected-pay-type").siblings(".pay-type").removeClass("selected-pay-type");var i,a=parseFloat(e("#valueAddMoney").attr("paySaleServiceTotal"))||0;1==e(this).val()?(e(".pay-on-line").removeClass("hide"),e(".cash-on-delivery").addClass("hide"),e("p[id^='sale_']").addClass("hide"),i=parseFloat(e(".sale-amount").text())||0,i+=a,t.calcDeposit(!1,i)):(e(".pay-on-line").addClass("hide"),e(".cash-on-delivery").removeClass("hide"),e("p[id^='sale_']").removeClass("hide"),e(".sale-amount").attr("saleMoney")&&(i=parseFloat(e(".sale-amount").attr("saleMoney")),i+=a,t.calcDeposit(!0,i)))}})},a.prototype.calcDeposit=function(t,i){var a=parseFloat(e("#depositTotal").text()),n=parseFloat(e("#reliefDepositTotal").text());t?(e("#depositTotal").text((a+i).toFixed(2)),e("#reliefDepositTotal").text((n+i).toFixed(2))):(e("#depositTotal").text((a-i).toFixed(2)),e("#reliefDepositTotal").text((n-i).toFixed(2)))},a.prototype.showOrHideTipsTxt=function(){e(".pay-type-box .tips").on("mouseover","i",function(){e(this).siblings(".tips-txt").show()}).on("mouseleave","i",function(){e(this).siblings(".tips-txt").hide()})},a.prototype.calceEBiBlanceReduce=function(){var t=this;e(".balance-deduction-box .pay-label").on("click",".ebi",function(){e(this).toggleClass("checked"),t.calculateActualMoney(),e(".balance-deduction-box .deduce-detail").find(".ebi").toggleClass("hide"),e(".bill-detail .amount-detail").find(".ebi-detail").toggleClass("hide")})},a.prototype.judgeRemark=function(){var t=this;e(".remark-box").on("blur","textarea",function(){t.doRemarkJudgement()})},a.prototype.doRemarkJudgement=function(){var t=e("#user_remark").val(),a=!0;return i.Common.calculateCharacterNum(t)>200?(this.alert("买家留言不能超出200个字符！"),a=!1):i.Validate.remark(t)||(this.alert("留言中不允许使用中英文引号！"),a=!1),a},a.prototype.couponEvent=function(){this.switchCoupon(),this.chooseCoupon(),this.ShowOrHideCreateCoupon(),this.createCoupon()},a.prototype.switchCoupon=function(){e(".coupon-ul").on("click","li",function(){e(this).addClass("on").siblings().removeClass("on");var t=e(this).attr("tabId");
e("#"+t).show().siblings().hide()})},a.prototype.getCouponData=function(){var t={couponId:"",couponPrice:0};return e(".available-coupon-cb").each(function(){if(e(this).prop("checked")){var i=e(this).val();t.couponId=i,t.couponPrice=e("#disJian_"+i).val()}}),t},a.prototype.chooseCoupon=function(){var t=this;e(".coupon-wrap").on("click",".available-coupon-tab, .available-coupon-cb",function(){var i,a=e(this).attr("class");if(i=a.indexOf("coupon-list")!=-1?e(this).find("input"):e(this),i.prop("checked"))e(".available-coupon-tab").removeClass("on"),i.prop("checked",!1);else{e(this).addClass("on").siblings().removeClass("on"),e(".available-coupon-cb").prop("checked",!1),i.prop("checked",!0);var n=i.val();e("#orderInfo").attr("data-usedCouponPrice",e("#disJian_"+n).val())}t.calculateActualMoney()})},a.prototype.ShowOrHideCreateCoupon=function(){e(".get-coupon").on("click",".coupon-btn",function(){e(this).siblings("input").toggle()})},a.prototype.getCouponAmount=function(){var t=0,i=e.md5("begin"),a=e.md5("end"),n=e("#rentT_H").val(),o=Number(n.substring(i.length,n.length-a.length));return o&&o>0&&(t=o),t},a.prototype.getCouponList=function(t){var i=this;i.myCouponService.getEnableCouponList(t).then(function(t){if(!t.code){e(".available-coupon-count").text(t.data.enableCouponList.length);var a=juicer(i.temp.enableCouponListTemp,t.data);e("#available_coupon").html(a),e(".other-coupon-count").text(t.data.otherCouponList.length);var n=juicer(i.temp.otherCouponListTemp,t.data);e("#other_coupon").html(n)}})},a.prototype.createCoupon=function(){var t=this;e(".get-coupon").on("click",".coupon-button",function(){var i=e(this).siblings(".coupon-text").val();return e.trim(i).length<=0?void t.alert("请输入优惠券码"):void t.myCouponService.createCoupon(i).done(function(i){i.code?e(".coupon-text").val("").hide().siblings(".coupon-button").hide():t.alert("领取成功！",function(){var e=t.getCouponAmount();t.getCouponList(e)})})})},a.prototype.calculateActualMoney=function(){var t=e(".ebi-used-money"),i=e(".need-pay"),a=Number(i.attr("data-needPay")),n=e(".need-pay-content");n.html(Number(Number(n.html())+Number(t.html())).toFixed(2));var o=Number(e(".sale-amount").text()),r=e(".discount-amount"),s=this.getCouponData(),l=s.couponId,d=Number(s.couponPrice);if(l){if(a>d){var c=a-d;o>c&&(c=o.toFixed(2)),n.text(c.toFixed(2))}else n.text(o.toFixed(2));r.text(d.toFixed(2)),n.text((i.attr("data-needPay")-r.text()).toFixed(2))}else r.text("0.00"),n.text(Number(i.attr("data-needPay")).toFixed(2));var p=e(".balance-deduction-box .pay-label .ebi"),u=Number(p.attr("data-money")),h=Number(Number(n.html())-Number(e("#cashDeposit").html()));p.hasClass("checked")?(u>=h?t.html(h.toFixed(2)):t.html(u.toFixed(2)),n.html(Number(Number(n.html())-Number(t.html())).toFixed(2))):t.html("0.00")},a.prototype.backToCart=function(){var i=this;e(".order-confirm").on("click",".back-cart, .flase-confirm a",function(a){a&&a.preventDefault?a.preventDefault():t.event.returnValue=!1;var n=e("#orderInfo").attr("data-isFromCarts");if("true"===n)location.href="carts";else{var o=[];if(e(".carts-id").each(function(t,i){var a=e(i),n=a.attr("data-id"),r={cartId:n,productId:a.attr("data-pid"),payType:a.attr("data-payType"),rentType:a.attr("data-rentType"),month:a.attr("data-month"),startDate:a.attr("data-startDate"),num:a.attr("data-num"),isSale:a.attr("data-isSale"),insuranceTypeId:a.attr("data-insuranceTypeId"),addedServiceTypeId:a.attr("data-addedServiceTypeId"),serviceId:a.attr("data-serviceId"),suitsType:a.attr("data-suitsType"),rentTypeId:e("#monthRentLabel"+n).attr("rentType"),softServiceTypeId:a.attr("data-softServiceTypeId"),onsiteServiceTypeId:a.attr("data-onsiteServiceTypeId")};o.push(r)}),o.length<1)return void i.alert("商品信息缺失，请刷新重试！");i.shoppingCartService.add(o).then(function(t){t.code||(location.href="carts")})}})},a.prototype.regSelectAgreeEvent=function(){e(".select-agree-li").on("click",".select-agree",function(){var t=e("#submit_order");e(this).prop("checked")?t.removeAttr("disabled").addClass("available-btn").removeClass("disable-btn"):t.attr("disabled",!0).addClass("disable-btn").removeClass("available-btn")})},a.prototype.submitOrder=function(){var t=this;e(".order-btn-li").on("click","#submit_order",function(){t.doSubmitOrder(e(this))})},a.prototype.doSubmitOrder=function(t){var a=this;e(t).attr("disabled",!0).addClass("disable-btn").removeClass("available-btn");var n=e.cookie("token");n||(e(t).removeAttr("disabled").addClass("available-btn").removeClass("disable-btn"),location.href="login");var o=[];if(e(".carts-id").each(function(t,i){var a=e(i),n=a.attr("data-id"),r={cartId:n,productId:a.attr("data-pid"),rentType:a.attr("data-rentType"),payType:a.attr("data-payType"),month:a.attr("data-month"),startDate:a.attr("data-startDate"),num:a.attr("data-num"),isSale:a.attr("data-isSale"),insuranceTypeId:a.attr("data-insuranceTypeId"),addedServiceTypeId:a.attr("data-addedServiceTypeId"),serviceId:a.attr("data-serviceId"),rentTypeId:e("#monthRentLabel"+n).attr("rentType"),suitsType:a.attr("data-suitsType"),softServiceTypeId:a.attr("data-softServiceTypeId"),onsiteServiceTypeId:a.attr("data-onsiteServiceTypeId")};o.push(r)}),o.length<1)return void a.alert("商品信息缺失，请刷新重试！",function(){e(t).removeAttr("disabled").addClass("available-btn").removeClass("disable-btn")});var r=e(".address-content .cur dt").attr("data_id");if(!r)return void a.alert("请选择配送地址！",function(){e(t).removeAttr("disabled").addClass("available-btn").removeClass("disable-btn"),location.hash="#navBarCustomerAddress"});var s=e("input[name='paymentType']:checked").val();if(!s)return void a.alert("请选择支付方式！",function(){e(t).removeAttr("disabled").addClass("available-btn").removeClass("disable-btn"),location.hash="#navBarPaymentType"});var l=e("#user_remark").val();if(!a.doRemarkJudgement())return e(t).removeAttr("disabled").addClass("available-btn").removeClass("disable-btn"),void(location.hash="#remark");var d=a.getCouponData().couponId,c=function(){var n={source:1,orderCreateModels:JSON.stringify(o),customerAddressId:r,paymentType:s,balance:0,userRemark:l,couponId:d,eMoney:Number(e(".ebi-used-money").html()||0)};a.orderService.createOrders(n).then(function(n){if(n.code)e(t).removeAttr("disabled").addClass("available-btn").removeClass("disable-btn");else{var o=n.data?n.data:{},r=o.expireInfo;if(r.isExpire){var s=new i.Plugin.Dialog("温馨提示",a.temp.overdueTemp,r,600);s.open(function(){e(".window").on("click",".know-btn",function(){s.close(),3==o.paymentType?location.href="order_detail?mainOrderId="+o.mainOrderId:n.isPayedAll?location.href="orderPayedSuccess?payedAmount="+o.payedAmount:location.href="orderPay?orderId="+o.mainOrderId})})}else 3==o.paymentType?location.href="order_detail?mainOrderId="+o.mainOrderId:n.isPayedAll?location.href="orderPayedSuccess?payedAmount="+o.payedAmount:location.href="orderPay?orderId="+o.mainOrderId}})},p={orderCreateModels:JSON.stringify(o)};a.orderService.validateProductStock(p).then(function(n){if(!n.code)if(n.data&&n.data.length){var o=juicer(a.temp.specialModelsTemp,n),r=550,s={ok_txt:"知道了，提交订单"};new i.Plugin.Modal("温馨提示",o,r,s).alert(function(){c()}),e(".window .bounced-btn a").css("width","160px"),e(t).removeAttr("disabled").addClass("available-btn").removeClass("disable-btn")}else c()})},i.Application.Web.OrderConfirm=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.order=new i.Service.Order,this.relationship=new i.Service.RelationService,this.temp=i.Template.orderDetail};a.prototype.init=function(){var t=this,i=e("#orderId").val();i&&t.getExpressInfo(i),t.regDomEvent(),t.setTooltip()},a.prototype.setTooltip=function(){var t=e(".page-title").find("[tooltip]");t.attr("arr-left","-20"),new i.Plugin.Tooltip(t).init()},a.prototype.regDomEvent=function(){var t=this;e(document).on("mouseover",".order-status",function(){e(this).siblings("div").show()}).on("mouseout",".order-status",function(){e(this).siblings("div").hide()}).on("click","a[name=cancelMainOrder],a[name=cancelOrder]",function(){var i=e(this).attr("orderid");t.deleteOrder(i)}).on("click",".equipment-detail",function(){t.controlDeviceDetail(e(this))}).on("click",".query-order-bill",function(){t.checkOrderBill(e(this))}).on("click",".check-express-btn",function(){t.checkExpressInfo(e(this))}).on("click",".express-close-btn",function(){e("#express-detail").hide()})},a.prototype.controlDeviceDetail=function(t){var i=t.next(".device-detail-table"),a=t.attr("data_id");i.is(":hidden")?(i.attr("style","z-index:10"),e(".equipment-detail_"+a).siblings(".device-detail-table").hide(),i.show()):i.hide(),e("#query-order-bill_"+a).siblings(".check-bill-info").find("ul").hide()},a.prototype.checkOrderBill=function(t){function i(t,e){a.order.getOrderProductBill(t).then(function(t){t.code||(e.data("loaded",!0),e.html(template("orderProductBillTpl",{list:t.data})))})}var a=this,n=t.attr("data_id"),o=t.closest(".check-bill-wrap").find(".check-bill-info ul");o.data("loaded")||i(n,o),o.toggle(),e(".equipment-detail_"+n).siblings(".device-detail-table").hide()},a.prototype.checkExpressInfo=function(){var t=e("#express-detail");t.is(":hidden")?t.show():t.hide()},a.prototype.getExpressInfo=function(t){var a=this,n="";a.order.querySnExpress(t).then(function(t){t.code||t.data&&(t.data&&t.data.length&&(e("#no-express-info").html(t.data[0].expressDetails[0]),e(".check-express-btn").show()),n=juicer(i.Template.orderDetail.expressInfo,t),e("#delivery-content").html(n))})},a.prototype.deleteOrder=function(t){var a=this,n={orderId:t};a.order.cancelSubProductOrder(n).then(function(n){if(!n.code)if(n.data){var o,r="温馨提示",s="该订单不可单独取消，点击取消按钮将取消该拆分订单下的所有子订单。",l={ok_txt:"确认取消订单",cancel_txt:"返回"};new i.Plugin.Modal(r,s,o,l).confirm(function(){a.doDeleteOrder(t)}),e(".window .bounced-btn .ok-btn").css("background","#999"),e(".window .bounced-btn .cancel-btn").css("background","#37a3ff"),e(".window .bounced-btn a").css("width","120px")}else a.doDeleteOrder(t)})},a.prototype.doDeleteOrder=function(t){var e=this;new i.Plugin.Modal("提示信息","您确定取消该订单吗？").confirm(function(){e.order.orderCancel(t).then(function(t){t&&!t.code&&new i.Plugin.Modal("提示信息","删除成功！").alert(function(){location.reload()})})})},i.Application.Web.UC_OrderDetail=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=5,n=function(){this.service=new i.Service.Relet,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};n.prototype.init=function(){this.regEvents(),this.getOrderReletList(1)},n.prototype.regEvents=function(){var t=this;e(document).on("click","._createReletAll",function(){t.createReletAll()}).on("click","._cancelReletButton, ._noReletButton",function(){t.cancelRelet(e(this))}).on("click","._reletButton",function(){var i=e(this).attr("orderId");t.createRelet(i)})},n.prototype.getOrderReletList=function(t){var n=this;this.service.queryOrderRelet({current_page:t,pageSize:a}).then(function(o){if(!o.code){if(!o.data.orders||!o.data.orders.length)return void e("._list_container").html("<span>没有需要续租的订单</span>");var r=Math.ceil(o.data.total/a);new i.Plugin.Pagination(e("[pagination]"),t,r).init(function(t){n.getOrderReletList(t)}),o.data&&o.data.renewalCount&&e("._createReletAll").show();for(var s in o.data.orders)o.data.orders[s].snsList_str=o.data.orders[s].snsList.join("','"),o.data.orders[s].snsList_str="'"+o.data.orders[s].snsList_str+"'";e("._list_container").html(template("relet_order_list_tpl",{orders:o.data.orders}))}})},n.prototype.createRelet=function(t){if(!t)return void this.alert("续租失败，系统出现异常，请联系客服！");var e=this,a=new i.Plugin.Modal("温馨提示","若该订单下有多台设备，点击续租会全部续租，如果订单中有单台设备您不想续租，点击续租后直接退回即可。<br/>退货地址：北京市昌平区高新四街6号院源通发展中心207室 <br/>收货人：易点租<br/>联系电话：010-57224767<br/>如有其它疑问，请致电客服400-886-9528。",null,{width:600,ok_txt:"确定续租"});a.confirm(function(){e.service.createRelet(t).then(function(i){i.code||e.alert("提示：订单"+t+"续租成功！",function(){location.reload()})})})},n.prototype.cancelRelet=function(t){var e=t.attr("orderId"),a=t.is("._noReletButton"),n=t.closest(".table-body"),o=n.find("._snsList_str").val(),r=n.find("._realEndDate").val();if(!e)return void(a?this.alert("不续租失败，系统出现异常，请联系客服！"):this.alert("取消续租失败，系统出现异常，请联系客服！"));var s,l=this,d=o.indexOf(",")!=-1?"分别":"";s=a?new i.Plugin.Modal("温馨提示","若您确定不续租后，需在"+r+"之前将该订单下所有设备（序列号"+d+"为"+o+"）退回到易点租且确认收货，逾期不归还设备，将每月继续以原订单月租金为标准收取逾期退还服务费。<br/>退货地址：北京市昌平区高新四街6号院源通发展中心207室<br/>收货人：易点租<br/>联系电话：010-57224767<br/>如有其它疑问，请致电客服400-886-9528。",null,{width:600,ok_txt:"确定不续租"}):new i.Plugin.Modal("温馨提示","若您确定取消续租后，需在"+r+"之前将该订单下所有设备（序列号"+d+"为"+o+"）退回到易点租且确认收货，逾期不归还设备，将每月继续以原订单月租金为标准收取逾期退还服务费。<br/>退货地址：北京市昌平区高新四街6号院源通发展中心207室<br/>收货人：易点租<br/>联系电话：010-57224767<br/>如有其它疑问，请致电客服400-886-9528。",null,{width:600}),s.confirm(function(){l.service.cancelRelet(e).then(function(t){t.code||l.alert("提示：订单"+e+"取消续租成功！",function(){location.reload()})})})},n.prototype.createReletAll=function(){var t=this,e=new i.Plugin.Modal("温馨提示","点击全部续租后，所有订单下的所有设备将会全部续租，如果某订单下的设备您不想续租，点击全部续租后直接退回即可。<br/>退货地址：北京市昌平区高新四街6号院源通发展中心207室<br/>收货人：易点租<br/>联系电话：010-57224767<br/>如有其它疑问，请致电客服400-886-9528。",null,{width:600,ok_txt:"确定续租"});e.confirm(function(){t.service.createRelet().then(function(e){e.code||t.alert("批量续租成功！",function(){location.reload()})})})},i.Application.Web.UC_OrderRelet=n}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=10,n=function(){this.orderReturnService=new i.Service.Customer,this.template=i.Template.orderReturn};n.prototype.init=function(){var t=this.getRequestParam(1);this.getOrderReturnList(t),this.regRangeTypeChangeEvent(),this.regStatusChangeEvent(),this.regSearchClickEvent()},n.prototype.getRequestParam=function(t){var i=e("#query").val();i="序列号/订单号"==i?"":i;var n={query:i,status:e("#status").val(),rangeType:e("#rangeType").val(),startIndex:t,pageSize:a};return n},n.prototype.getOrderReturnList=function(t){var a=this;a.orderReturnService.getReturnDeviceList(t).done(function(n){if(!n.code&&n.data){a.setEquipmentCount(n.data.totalCount);var o=Math.ceil(n.data.totalCount/t.pageSize);o>0?(e("#dataTable").html(template.compile(a.template)(n.data)),new i.Plugin.Pagination(e("#paper"),t.startIndex,o).init(function(t){var e=a.getRequestParam(t);a.getOrderReturnList(e)})):(e("#paper").html(""),e("#dataTable").html("<tr><td colspan='6'>暂无设备信息！</td></tr>"))}})},n.prototype.setEquipmentCount=function(t){t=t||0,e("#returnNum").html(t)},n.prototype.regRangeTypeChangeEvent=function(){var t=this;e("#rangeType").on("click",function(){var e=t.getRequestParam(1);t.getOrderReturnList(e)})},n.prototype.regStatusChangeEvent=function(){var t=this;e("#status").on("change",function(){var e=t.getRequestParam(1);t.getOrderReturnList(e)})},n.prototype.regSearchClickEvent=function(){var t=this;e("#search").on("click",function(){var e=t.getRequestParam(1);t.getOrderReturnList(e)})},i.Application.Web.UC_OrderReturn=n}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.validate=new i.Plugin.Validate(e(".top-up-content")),this.order=new i.Service.Order};a.prototype.init=function(){this.regBeforeShowSubmitBtnEvent(),this.regTabChangeEvent(),this.regSubmitEvent(),e("input[type=radio][value=alipay]").attr("checked","checked")},a.prototype.regBeforeShowSubmitBtnEvent=function(){e("#price").blur(function(){var t=this,i=function(i){e(t).attr("invalid",!0).addClass("error");var a=e("#"+e(t).attr("errorTarget"));a.removeClass("hide").html('<i class="icon-forgeterror"></i> '+i).addClass("show animated shake"),setTimeout(function(){a.removeClass("animated shake")},1500)},a=e.trim(e(this).val());a.length>0&&(a<1&&i("充值金额最小为1元"),a>1e5&&i("每次的充值上限是100000元")),!e(this).attr("invalid")&&e('input[name="payment"]:checked').length>0?e("#submitBtn").removeClass("disabled"):e("#submitBtn").addClass("disabled")}),e(".top-up-div .top-up-type").click(function(){e.trim(e("#price").val()).length>0&&!e("#price").attr("invalid")&&e("#submitBtn").removeClass("disabled")})},a.prototype.regTabChangeEvent=function(){e(".tab-switch li").click(function(){e(this).addClass("on").siblings().removeClass("on");var t=e(this).attr("tabId");e("#"+t).removeClass("hide").addClass("show").siblings("div").removeClass("show").addClass("hide")})};var n=function(a){var n=new i.Plugin.Dialog("温馨提示",i.Template.rechargeDialog,null,488);n.open(function(){e(".uc-cancel").click(function(){n.close()}),e(".uc-submit").click(function(){t.location.href=ROOT_PATH+"/aliPay/toSuccess?&orderId="+a})})};a.prototype.regSubmitEvent=function(){var a=this;e("#submitBtn").click(function(){if(!e(this).hasClass("disabled")&&(a.validate.doValid(),0===e("[invalid]").length)){e(this).addClass("disabled");var o=e.trim(e("#price").val()),r=e("input[name=payment]:checked").val(),s=1;switch(r){case"alipay":s=1;break;case"weixin":s=2;break;case"lakala":s=3}var l=t.open();a.order.createRechargeOrder(o,s).then(function(t){t.code?new i.Plugin.Modal("信息提示",t.message).alert():("alipay"==r?l.location=ROOT_PATH+"/aliPay/trade?total_fee="+o+"&id="+t.data+"&bankCode=alipay":l.location=ROOT_PATH+"/aliPay/paymaxCharge?amount="+o+"&orderId="+t.data+"&channel=lakala_web_fast",n(t.data))})}})},i.Application.Web.UC_Recharge=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.isWap=e(document.body).attr("isWap"),this.modal=i.Plugin.Modal,this.relationship=new i.Service.RelationService},n=function(){var t=i.Common.getQueryString("returnUrl");t?location.href=decodeURIComponent(t):location.href=ROOT_PATH+"/ucenter"};a.prototype.init=function(){this.queryAttch(),this.goAttchEvent(),e(".relete-green .checkbox").on("click",function(){e(".window-box-relete").show()}),e(".search-checkbox").removeClass("search-checked"),e(".footer-btn1").on("click",function(){e(".window-box-relete").hide(),e(".search-checkbox").addClass("search-checked")}),e(".footer-btn2").on("click",function(){e(".window-box-relete").hide(),e(".search-checkbox").removeClass("search-checked")}),e(".close").on("click",function(){e(".window-box-relete").hide()}),e(".ignorethis").on("click",function(){n()})},a.prototype.queryAttch=function(){this.relationship.queryAttch().then(function(t){if(!t.code){var i=t.data?t.data:{};e(".companyName").html(i.companyName),e(".account").html(i.account),e(".applyCompanyName").html(i.applyCompanyName),e(".applyId").val(i.applyId),e(".registration").html(i.registration)}})},a.prototype.goAttchEvent=function(){var t=this,a=function(e){t.relationship.goAttch(e).then(function(t){t.code||(2===e.status?new i.Plugin.Modal("提示信息","拒绝关联成功").alert(function(){n()}):new i.Plugin.Modal("提示信息","关联成功").alert(function(){n()}))})};e(".attchBtn").click(function(){var t=parseInt(e(this).attr("status"),10);3===t&&1!==e(".search-checked").length?new i.Plugin.Modal("提示信息","请同意集团账户变更申请").alert():a({applyId:e(".applyId").val(),status:t})})},i.Application.Web.UC_relationship=a}}(window,window.jQuery,window.EDZ),function(t,e,i){var a=function(){this.temp=i.Template.returnDevice,this.order=new i.Service.Order},n=1;a.prototype.init=function(){this.showList(n)},a.prototype.showList=function(t){var a=10,o=this;this.order.getDeviceInfo(t,a).then(function(t){if(!t.code){e(".details-cont").html(juicer(o.temp.deviceTable,t));var r=i.Common.getPageCount(t.totalCount,a);r>1&&new i.Plugin.Pagination(e("[pagination]"),n,r).init(function(t){n=t,o.showList(t)})}})},i.Application.Web.UC_ReturnDevice=a}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.isWap=i(document.body).attr("isWap"),this.modal=e.Plugin.Modal,this.validate=new e.Plugin.Validate(this.form,this.isWap),this.customer=new e.Service.Customer};a.prototype.regHelpIconHoverEvent=function(){i.each(i(".icon-bind-phone"),function(t,a){new e.Plugin.RightTooltip(i(a)).init()})},a.prototype.init=function(){this.regHelpIconHoverEvent(),this.regSignOutEvent()},a.prototype.regSignOutEvent=function(){var t=this;i("#signOutId").on("click",function(){var i=new e.Plugin.Modal("温馨提示","确认退出后，您无法再以该公司成员身份登入易点租 ",400,{ok_txt:"确认退出"});i.alert(function(){t.customer.unbindCompany().then(function(t){t.code||(location.href=ROOT_PATH+"/ucenter")})})})},e.Application.Web.UC_Setting=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){location.href=ROOT_PATH+"/404",this.workformService=new i.Service.Workform,this.template=i.Template.workform,this.validate=new i.Plugin.Validate(e(".form"),(!1)),this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};a.prototype.init=function(){this.uploadFile(),this.regSubmitEvent()},a.prototype.uploadFileNum=function(){var t=e(".identity").length;t>=5?e("#uploadFileBtn").hide():e("#uploadFileBtn").show()},a.prototype.uploadFile=function(){var t=this;new i.Plugin.Upload(e("#uploadFileBtn"),0,function(i){/.(jpg|JPG|jpeg|bmp|JPEG|png|PNG|BMP|gif|GIF)/.test(i)&&e("#uploadFileBtn").before(template("imgsTemplate",{url:i})),t.uploadFileNum()}),e(document).on("click",".deleteImg",function(){e(this).closest(".identity").remove(),t.uploadFileNum()})},a.prototype.regSubmitEvent=function(){var t=this;e(".submit-workform").on("click",".btn",function(){var i=e(this);i.attr("submitting")||(i.attr("submitting",1),t.validate.doValid(),0===e(".submit-workform").find("[invalid]").length?t.doSubmit(i):i.removeAttr("submitting"))})},a.prototype.doSubmit=function(i){var a=this,n=[];e(".uploadImg").each(function(){n.push({url:e(this).attr("src")})});var o={title:e.trim(e(".ipt").val()),content:e.trim(e(".textarea").val()),source:0,files:JSON.stringify(n)};a.workformService.submitWorkform(o).done(function(e){e.code||(t.location.href="workformDetail?workId="+e.data),i.removeAttr("submitting")})},i.Application.Web.UC_SubmitWorkform=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){this.service=new e.Service.Customer,this.validate=new e.Plugin.Validate(i("._form"),(!1)),this.alert=function(t,i){new e.Plugin.Modal("提示信息",t).alert(i)}};a.prototype.init=function(){this.regEvents()},a.prototype.regEvents=function(){var t=this;i("#submit").click(function(){t.submit()}),i("._cancel_btn").click(function(){t.cancel(i(this))})},a.prototype.submit=function(){var t=this;if(t.validate.doValid(),!(i("[invalid]").length>0)){i("#submit").prop("disabled",!0);var e=i("#amount").val();this.service.commitWithdraw(e).then(function(e){e.code||t.alert("申请提现成功！",function(){location.reload()}),i("#submit").prop("disabled",!1)})}},a.prototype.cancel=function(t){var e=this,i=t.attr("data_id");t.prop("disabled",!0),this.service.cancelWithdraw(i).then(function(i){i.code||e.alert("取消提现成功！",function(){location.reload()}),t.prop("disabled",!1)})},e.Application.Web.UC_Withdraw=a}}(window,window.EDZ,window.jQuery),function(t,e,i){"use strict";if(i&&i.Application){var a,n=t.location.hash.substring(1),o=function(){location.href=ROOT_PATH+"/404",this.workformService=new i.Service.Workform,this.template=i.Template.workform,this.alert=function(t,e,a){new i.Plugin.Modal(t,e).alert(a)},this.confirm=function(t,e,a){new i.Plugin.Modal(t,e).confirm(a)}};o.prototype.init=function(){a=this.querySearch("workId"),this.initWorkformDetail(a)},o.prototype.querySearch=function(e){for(var i=t.location.search.slice(1).split("&"),a={},n=0;n<i.length;n++){var o=i[n].split("=");a[o[0]]=o[1]}return a[e]},o.prototype.initWorkformDetail=function(){var t=this,o={workId:a};t.workformService.queryWorkformDetail(o).done(function(a){if(!a.code){var o=template.compile(t.template.workformDetail)(a.data);e(".container").html(o),t.closeWorform(),t.uploadFile(),t.regAddReplyEvent(),t.isResolved(),t.doEvaluation(),t.submitEvaluation(),n&&t.toEvaluteBox(),t.validate=new i.Plugin.Validate(e(".workform-detail"),(!1)),e(".attachment-list").viewer()}})},o.prototype.toEvaluteBox=function(){var i=e(".service-valuation-box").offset().top;setTimeout(function(){e(t).scrollTop(i)},300)},o.prototype.closeWorform=function(){var i=this,n={workId:a};e(".reply-box").on("click",".close-workform",function(){i.confirm("确认关闭工单么？","如果您认为该问题已经解决或者不复存在，可以关闭本工单，关闭后，客服将不再进行回复。",function(){i.workformService.closeWorform(n).done(function(e){e.code||t.location.reload()})})})},o.prototype.uploadFileNum=function(){var t=e(".identity").length;t>=5?e("#uploadFileBtn").hide():e("#uploadFileBtn").show()},o.prototype.uploadFile=function(){var t=this;new i.Plugin.Upload(e("#uploadFileBtn"),0,function(i){/.(jpg|JPG|jpeg|bmp|JPEG|png|PNG|BMP|gif|GIF)/.test(i)&&e("#uploadFileBtn").before(template("imgsTemplate",{url:i})),t.uploadFileNum()}),e(document).on("click",".deleteImg",function(){e(this).closest(".identity").remove(),t.uploadFileNum()})},o.prototype.regAddReplyEvent=function(){var t=this;e(".workform-detail").on("click",".submit",function(){var i=e(this);i.attr("submitting")||(i.attr("submitting",1),t.validate.doValid(),0===e(".workform-detail").find("[invalid]").length&&t.addReply(),i.removeAttr("submitting"))})},o.prototype.addReply=function(){var i=this,n=e.trim(e(".textarea").val()),o=[];e(".uploadImg").each(function(){o.push({url:e(this).attr("src")})});var r={workId:a,content:n,files:JSON.stringify(o)};i.workformService.addReply(r).done(function(e){e.code||t.location.reload()})},o.prototype.isResolved=function(){e(".radio-box").on("click","span",function(){e(this).addClass("selected").siblings("span").removeClass("selected")})},o.prototype.doEvaluation=function(){e(".evaluate").on("mouseenter",".star",function(){var t=e(this).index();e(".star").children("img").attr("src","../images/icon_star_3.png"),e(".star:eq("+t+") ~ i").children("img").attr("src","../images/icon_star_1.png")})},o.prototype.submitEvaluation=function(){var i=this;e(".service-valuation-box").on("click",".evaluate-btn",function(){var n=e(this);if(!n.attr("submitting")){n.attr("submitting",1);var o=0;e(".star").children("img").each(function(t,i){"../images/icon_star_3.png"==e(i).attr("src")&&o++});var r={workId:a,evaluationResult:Number(e(".radio-box .selected").attr("data-result")),evaluationStar:o};i.workformService.submitEvaluation(r).done(function(e){e.code||t.location.reload(),n.removeAttr("submitting")})}})},i.Application.Web.UC_WorkformDetail=o}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=1,n=10,o=function(){location.href=ROOT_PATH+"/404",this.workformService=new i.Service.Workform,this.template=i.Template.workform};o.prototype.init=function(){this.queryWorkformList()},o.prototype.queryWorkformList=function(){var t=this,o={startIndex:a-1,pageSize:n};t.workformService.queryWorkformList(o).done(function(o){if(!o.code)if(o.data){var r=Math.ceil(o.data.total/n);e("#listTbody").html(template.compile(t.template.workformList)(o.data)),new i.Plugin.Pagination(e("#paper"),a,r).init(function(e){a=e,t.queryWorkformList()})}else e("#listTbody").html('<tr><td colspan="5">暂无工单信息！</td></tr>')})},i.Application.Web.UC_WorkformList=o}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(e&&e.Application){var a=function(){};a.prototype.init=function(){var t=parseInt(i("#paper").attr("pages"),10),a=parseInt(i("#paper").attr("currentPage"),10);new e.Plugin.Pagination(i("[pagination]"),a,t).init(function(t){location.href="/toGhostProductList?page="+t})},e.Application.Web.VipZone=a}}(window,window.EDZ,window.jQuery),function(t){"use strict";t.helper("getTimeYMD",function(t){return t?moment(t).format("YYYY-MM-DD"):""}),t.helper("getLocalTimes",function(t){var e=t.toString().length,i=0;if(13==e)i=parseInt(t,10);else{if(10!=e)return t;i=1e3*parseInt(t,10)}return moment(i).format("YYYY-MM-DD HH:mm:ss")}),t.helper("toFormatDecimal",function(t,e){return e=e?e:2,parseFloat(t).toFixed(e)||0}),t.helper("getFirstRent",function(t){return isNaN(t.sale_service_amount)&&(t.sale_service_amount=0),isNaN(t.soft_service_amount)&&(t.soft_service_amount=0),parseFloat(Number(t.rent)+Number(t.insurance_amount)+Number(t.added_service_amount)+Number(t.soft_service_amount)-Number(t.sale_service_amount)).toFixed(2)}),t.helper("getNeedAmount",function(t){var e=0;return $.each(t,function(t,i){e+=i.need_amount}),e}),t.helper("convertDate",function(t){return t&&8===t.length&&(t=t.substring(0,4)+"/"+t.substring(4,6)+"/"+t.substring(6,8)),t}),t.helper("isShowPay",function(t){var e=!1;if("0"===t.pay_status&&$.each(t.orders_detail,function(t,i){"2"!==i.status&&"-1"!==i.status&&"4"!==i.rent_type&&(e=!0)}),e)return'<a class="pay-order fr" href="/orderPay?orderId='+t.order_id+'">去付款</a>'}),t.helper("encryptMobile",function(t){return t.substr(0,3)+"****"+t.substr(7,4)}),t.helper("isSeparateWarehouse",function(t){if(t._source.order_ids.length>1){for(var e=t._source.orders_detail[0].warehouse_name,i=!1,a=1;a<t._source.orders_detail.length;a++)i||e==t._source.orders_detail[a].warehouse_name||(i=!0);return i?"":"non-separate-warehouse"}return"non-separate-warehouse"}),t.helper("getPayTypeText",function(t){switch(t){case"1":return"月";case"2":return"季度";case"3":return"半年";case"4":return"年";default:return"月"}}),t.helper("getValueByPayType",function(t,e){switch(e){case"1":return parseInt(t);case"2":return 3*parseInt(t);case"3":return 6*parseInt(t);case"4":return 12*parseInt(t);default:return parseInt(t)}}),t.helper("deadline",function(t){return!t||t<=(new Date).getTime()?"%y-%M-%d":moment(t).format("YYYY-MM-DD")})}(window.template),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)},this.depositService=new i.Service.Deposit},n=!1;a.prototype.init=function(){this.valid1=new i.Plugin.Validate(e("._step2"),(!1)),this.valid2=new i.Plugin.Validate(e("._step3"),(!1));var t=this;this.initData(),e(document).on("click","._go_step_2",function(){t.goStep(2)}).on("click","._go_step_3",function(){t.validCompanyInfo()&&t.submitCompanyInfo().then(function(e){e.code||t.goStep(3)})}).on("click","._go_step_4",function(){e(this).is("._go_back")?t.goStep(4):t.validShareholder()&&t.submitShareholderInfo()}).on("click","._go_step_5",function(){e(this).is("._go_back")?t.goStep(5):t.submitApplycationInfo()});var a=parseInt(i.Common.getQueryString("step"))||1;t.goStep(a)},a.prototype.initData=function(){var t=this;t.depositService.getCreditApplyInfo(!0).then(function(a){if(a.code)t.initEduUploadPlugin(),new i.Plugin.AddressSelect(e("#companyProvince"),e("#companyCity"),e("#companyArea"),(!0)),e(".work-experience-table").html(template("workTemp",{handleType:"edit",shareholdWorkExperience:[]}));else{var o=a.data||{},r=e("._step2");r.find("#companyName").val(o.companyName),r.find("._licenseNo").val(o.licenseNo),r.find("._businessLicense_img").attr("src",t.getImageURL(o.businessLicense)).attr("data-img",o.businessLicense),r.find("#companyAddress").val(o.address),r.find("._company_website").val(o.website);var s=e("._step3");s.find("._shareholderName").val(o.legalPersonName),s.find("._shareholderIDCard").val(o.idCardNo),s.find("._idCardImage1").attr("src",t.getImageURL(o.cardImgFront)).attr("data-img",o.cardImgFront),s.find("._idCardImage2").attr("src",t.getImageURL(o.cardImgBack)).attr("data-img",o.cardImgBack),s.find("._shareholderMobile").val(o.phoneNumber),s.find("#concat1Moblie").val(o.sparePhoneNumber),e(".work-experience-table").html(template("workTemp",{handleType:"edit",shareholdWorkExperience:o.shareholdWorkExperience}));var l=e("._step4");l.find(".amount").val(o.creditNeeded||""),l.find(".num").val(o.numberNeeded||""),l.find(".brand").val(o.brandNeeded||""),11==o.rejectReasonCode&&6==o.status?(n=!0,s.find(".user-d-bank-card").show(),o.bankName&&s.find("#selectbank").val(o.bankName),s.find("#bankCardNumber").val(o.bankCardNo||"")):(n=!1,s.find(".user-d-bank-card").remove()),t.applyId=o.applyId,6==o.status&&(9==o.rejectReasonCode&&(o.rejectReason+=" "+t.getFiles(o.additionalFiles).join("、")),e("._depossot-tip").show().find("._reason").text(o.rejectReason)),t.initEduUploadPlugin(o.eduPhotos,9==o.status,o),new i.Plugin.AddressSelect(e("#companyProvince"),e("#companyCity"),e("#companyArea"),o.provinceId,o.cityId,o.countyId,(!0));
}t.addWorkExperience(),t.deleteWorkExperience()})},a.prototype.getFiles=function(t){return _.isArray(t)?_.map(t,function(t){switch(+t){case 1:return"手机号码验证";case 2:return"芝麻信用授权";case 3:return"个人征信报告";case 4:return"学历证明"}}):[]},a.prototype.getImageURL=function(t){var e="";return t&&(e=t,t.indexOf("http://")==-1&&t.indexOf("https://")==-1&&(e="https://statics.edianzu.cn/get/"+e),t.indexOf("?")==-1&&(e+="?style=small_print&bucket=edianzu-oss-risk"),e=e.replace("&amp;","&")),e},a.prototype.initEduUploadPlugin=function(t,a,n){if(t&&t.length)for(var o=0;o<t.length;o++)t[o].indexOf(".pdf")>-1&&(t[o]=t[o]+"&fileName=学历证明 "+(o+1)+".pdf");this.uploadPlugin=new i.Plugin.DepositUpload({elem:e("#eduUploadBox"),fileExtType:2,files:t?t:[],isLock:a,required:!1,max:30,loadingElem:e("#eduUploadingBox"),preview:!0},(!0)),this.uploadPlugin.init(),e("#eduUploadBox #imgList").width(600);var r=this;e(".img-copy").css({bottom:"-25px",color:"#000",background:"none"}),e(".deposit-img").css({"margin-bottom":30}),new i.Plugin.Upload("#businessLicense",0,function(t){e("._businessLicense_img").attr("src",t).attr("data-img",t),r.hideError(e("._step2 #businessLicenseError"))},{preview:!0,file:n?r.getImageURL(n.businessLicense):null}),new i.Plugin.Upload("._idCardImage1Btn",0,function(t){e("._idCardImage1").attr("src",t).attr("data-img",t),e("._step3 #idCardImageError").text().indexOf("正面")!=-1&&r.hideError(e("._step3 #idCardImageError"))},{loadingElem:e("#idCardImageLoadingBox"),preview:!0,file:n?r.getImageURL(n.cardImgFront):null}),new i.Plugin.Upload("._idCardImage2Btn",0,function(t){e("._idCardImage2").attr("src",t).attr("data-img",t),e("._step3 #idCardImageError").text().indexOf("背面")!=-1&&r.hideError(e("._step3 #idCardImageError"))},{loadingElem:e("#idCardImageLoadingBox"),preview:!0,file:n?r.getImageURL(n.cardImgBack):null})},a.prototype.getImagePath=function(t){var e="";return t&&(e=t,e=e.replace("http://statics.edianzu.cn",""),e=e.replace("https://statics.edianzu.cn",""),e=e.replace("?style=small_print&bucket=edianzu-oss-risk",""),e=e.replace("?style=small_print&amp;bucket=edianzu-oss-risk","")),e},a.prototype.goStep=function(i){arguments[0]||(i=1),e("._step").hide(),e("._step"+i).show(),1===i?e("#step-progress").hide():e("#step-progress").html(template("stepTemp",{step:i})).show(),e(t).resize()},a.prototype.submitCompanyInfo=function(){var t={companyName:e.trim(e("#companyName").val()),licenseNo:e.trim(e("#companyRegistration").val()),businessLicense:e.trim(e("._businessLicense_img").data("img")),provinceId:e("#companyProvince").val(),cityId:e("#companyCity").val(),countyId:e("#companyArea").val(),address:e.trim(e("#companyAddress").val()),website:e.trim(e("._company_website").val())};return i.Service.Ajax.post("/credit/checkCreditApplyInfo",t)},a.prototype.submitShareholderInfo=function(){var t=this,i=this.uploadPlugin.getFiles();i.length>0&&(i=i.join(","));var a={legalPersonName:e.trim(e("#shareholderName").val()),idCardNo:e.trim(e("#shareholderIDCard").val()),cardImgFront:e.trim(e("._idCardImage1").data("img")),cardImgBack:e.trim(e("._idCardImage2").data("img")),phoneNumber:e.trim(e("#shareholderMobile").val()),sparePhoneNumber:e.trim(e("#concat1Moblie").val()),eduPhotos:i,shareholdWorkExperience:[]};n&&(a.bankName=e("#selectbank").val(),a.bankCardNo=e.trim(e("#bankCardNumber").val())),e(".work-experience-table tbody tr").each(function(t,i){var n=e(i),o={startDate:e.trim(n.find(".start-date").val()),endDate:e.trim(n.find(".end-date").val()),companyName:e.trim(n.find(".company-name").val()),position:e.trim(n.find(".position").val())};(o.startDate||o.endDate||o.companyName||o.position)&&a.shareholdWorkExperience.push(o)}),t.depositService.submitShareholderInfo(a).then(function(e){e.code||(t.goStep(4),e.data&&(t.applyId=e.data.applyId||""))})},a.prototype.validCompanyInfo=function(){var t=!0,i=e("._step2");return this.valid1.doValid(),i.find("[invalid]").length>0&&(t=!1),e("._businessLicense_img").data("img")?this.hideError(i.find("#businessLicenseError")):(this.showError(null,i.find("#businessLicenseError"),"请上传营业执照照片"),t=!1),t},a.prototype.validShareholder=function(){var t=!0,i=e("._step3");return this.valid2.doValid(),i.find("[invalid]").length>0&&(t=!1),e("._idCardImage2").data("img")?this.hideError(i.find("#idCardImageError")):(this.showError(null,i.find("#idCardImageError"),"请上传身份证背面照片"),t=!1),e("._idCardImage1").data("img")?this.hideError(i.find("#idCardImageError")):(this.showError(null,i.find("#idCardImageError"),"请上传身份证正面照片"),t=!1),t},a.prototype.showError=function(t,e,i){t&&t.attr("invalid",!0).addClass("error"),e?(e.show().html('<i class="icon-forgeterror"></i>'+i).addClass("show animated shake"),setTimeout(function(){e.removeClass("animated shake")},1500)):this.alert(i)},a.prototype.hideError=function(t){t&&t.addClass("hide")},a.prototype.regClickAgreementEvent=function(){e(".deposite-company").on("click",".agreement",function(){var t="个人信息查询授权书",a=e("#agreementTemp").html(),n=new i.Plugin.Dialog(t,a,{},700);n.open(function(){e(".window").on("click",".ok-btn",function(){n.close(),e("#agree-checkbox").prop("checked",!0)}).on("click",".cancel-btn",function(){n.close(),e("#agree-checkbox").prop("checked",!1)})})})},a.prototype.addWorkExperience=function(){e(".work-experience-table").on("click",".add",function(){e(this).parents("tr").index();if(!e(this).hasClass("disabled")){var t='<tr><td><input type="text" class="start-date" onClick="WdatePicker({maxDate:\'%y-%M-%d\'});" readonly="readonly" /></td><td><input type="text" class="end-date" onClick="WdatePicker({maxDate:\'%y-%M-%d\'});" readonly="readonly" /></td><td><input type="text" class="company-name" placeholder="请输入公司名称" maxlength="200" value="" /></td><td><input type="text" class="position" placeholder="请输入职位名称" maxlength="200" value="" /></td><td><span class="handle add">+ 增加</span></td></tr>';e(this).parents("td").html('<span class="handle delete">- 删除</span>'),e(".work-experience-table").append(t),e(".work-experience-table tbody tr:eq(9) .handle").addClass("disabled")}})},a.prototype.deleteWorkExperience=function(){e(".work-experience-table").on("click",".delete",function(){var t=e(this).parents("tr").index();e(".work-experience-table tbody tr:eq("+t+")").remove();var i=e(".work-experience-table tbody tr").length;10===i?e(".work-experience-table tbody tr .add").addClass("disabled"):e(".work-experience-table tbody tr .add").removeClass("disabled")})},a.prototype.submitApplycationInfo=function(){var t=this,i={applyId:t.applyId,creditNeeded:e.trim(e(".company-info .amount").val()),numberNeeded:e.trim(e(".company-info .num").val()),brandNeeded:e.trim(e(".company-info .brand").val())};t.depositService.submitApplycationInfo(i).then(function(e){e.code||t.goStep(5)})},i.Application.Web.UC_ApplyFreeDeposit=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.depositService=new i.Service.Deposit,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};a.prototype.init=function(){this.initData()},a.prototype.initData=function(){var t=this;this.depositService.getCreditApplyInfo().then(function(i){if(!i.code){var a=i.data||{};a.businessLicense=t.getImageURL(a.businessLicense),a.handleType="check",e("._basic_info_container").html(template("basic_info_tpl",a))}})},a.prototype.getImageURL=function(t){var e="";return t&&(e=t,t.indexOf("http://")==-1&&t.indexOf("https://")==-1&&(e="https://statics.edianzu.cn/get/"+e),t.indexOf("?")==-1&&(e+="?style=small_print&bucket=edianzu-oss-risk"),e=e.replace("&amp;","&")),e},i.Application.Web.UC_CreditDetail=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};a.prototype.init=function(){this.initData()},a.prototype.initData=function(){var t=parseInt(i.Common.getQueryString("id"));i.Service.Ajax.get("/credit/getImproveApplyHistory",{improveApplyId:t}).then(function(t){t.code||e("._operate-record").html(template("operate-record_tpl",t))})},i.Application.Web.UC_CreditImproveApplyHistory=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};a.prototype.init=function(){},i.Application.Web.UC_CreditPhoneVerification=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.step=parseInt(i.Common.getQueryString("id"))+"",this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};a.prototype.init=function(){var t=this;this.initData(),e(document).on("click","#applicationConfirmationBtn",function(){var a={type:11,attachments:[],id:t.step};i.Service.Ajax.post("/credit/submitShareholderData",a).then(function(t){t.code||(e("._confirm_info").hide(),e("._submit-success").show())})})},a.prototype.initData=function(){i.Service.Ajax.get("/credit/getShareholderDetail",{shareholderId:this.step}).then(function(t){t.code||e("._credit_shareholder_guarantee").html(template("credit_shareholder_guarantee_tpl",t.data))})},i.Application.Web.UC_CreditShareholderGuarantee=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.shareholderId=parseInt(i.Common.getQueryString("id")),this.deposit=new i.Service.Deposit,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};a.prototype.init=function(){this.initData()},a.prototype.initData=function(){var t=this;this.deposit.getCompanyInfo().then(function(i){if(!i.code){var a=i.data||{};a.businessLicense=t.getImageURL(a.businessLicense),a.taxRegImg=t.getImageURL(a.taxRegImg),a.orgCodeImg=t.getImageURL(a.orgCodeImg),e("._company_container").append(template("company_tpl",a))}}),this.deposit.getShareholderFinancialInfo({shareholderId:this.shareholderId}).then(function(i){if(i.code)e("._shareholder_container").append(template("shareholder_tpl",{}));else{var a=i.data||{};a.cardImgFront=t.getImageURL(a.cardImgFront),a.cardImgBack=t.getImageURL(a.cardImgBack),a.bankcardImg1=t.getImageURL(a.bankcardImg1),a.bankcardImg2=t.getImageURL(a.bankcardImg2),e("._shareholder_container").append(template("shareholder_tpl",a))}})},a.prototype.getImageURL=function(t){var e="";return t&&(e=t,t.indexOf("http://")==-1&&t.indexOf("https://")==-1&&(e="https://statics.edianzu.cn/get/"+e),t.indexOf("?")==-1&&(e+="?style=small_print&bucket=edianzu-oss-risk"),e=e.replace("&amp;","&")),e},i.Application.Web.UC_CreditDepositDetail=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.depositService=new i.Service.Deposit};a.prototype.init=function(){this.getHistory()},a.prototype.getHistory=function(){this.depositService.queryCreditChangeList(1).then(function(t){if(!t.code&&t.data&&t.data.length){template.helper("getTime",function(t){return moment(t).format("YYYY-MM-DD HH:mm:ss")});var i=template("amount_tpl",{list:t.data});e("#amount-history").html(i)}})},i.Application.Web.UC_HistoryAmount=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.deposit=new i.Service.Deposit};a.prototype.init=function(){this.getHistory()},a.prototype.getHistory=function(){var t=this;this.deposit.getHistoryInfo({isAll:1}).then(function(i){if(!i.code){i.data=t.deposit.getCategoryInfo(i.data);var a=template("supplement_tpl",{list:i.data});e("#supplementary_history").append(a),_.each(i.data,function(t,i){if(8==t.status){var a=e(e("#supplementary_history tr")[i+1]);a.find("._reason-span").hover(function(){e(this).find("._reason-box").removeClass("hidden")},function(){e(this).find("._reason-box").addClass("hidden")})}})}})},i.Application.Web.UC_HistorySupplementary=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.customerService=new i.Service.Customer,this.depositService=new i.Service.Deposit,this.DepositHeadService=new i.Service.DepositHead,this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)}};a.prototype.init=function(){var t,i=this;this.initData(),e(document).on("mouseenter click","._icon_know, ._know_main",function(){"undefined"!=typeof t&&(clearTimeout(t),t=null),e("._know_main").hide(),e(this).parent().find("._know_main").show()}).on("mouseleave","._icon_know, ._know_main",function(){var i=e(this);t=setTimeout(function(){i.parent().find("._know_main").hide()},500)}).on("click","._forbidden_edit",function(t){t.preventDefault(),i.alert("您已通过芝麻信用获得额度，请勿再次提交资料，如有问题请联系您的专属客户经理")})},a.prototype.initData=function(){var t=this;this.DepositHeadService.getIsApplied({}).then(function(i){i.code||(1==i.data.isChild?(e("#applyForeheadBtn").closest(".perfect-information").remove(),e("._history-table").remove(),e("._supplement_table").remove(),e("._basic_info_status_container").addClass("isChild")):(t.depositService.mentionPlan().then(function(t){if(!t.code){var i=template("improve_scheme_tpl",{list:t.data,showhref:!0});e("._improve_scheme_list").html(i)}}),t.depositService.getApplyOperationRecords().then(function(t){if(!t.code){var i=t.data&&t.data[0]?t.data[0]:{};e("._apply_status").html(template("apply_status_tpl",i)),4==i.status&&e("._apply_improve_link").show(),t.data&&0!==t.data.length||e("._history-table").hide()}}),t.depositService.getHistoryInfo({isAll:0}).then(function(t){if(!t.code){if(t.data.length<1)return void e("._supplement_table").remove();t.data.length>5&&(t.data=t.data.splice(0,5));var i=template("supplement_tpl",{list:t.data});e("#supplementary_history").append(i),t.data.length<5&&e(".supplement-look").addClass("hide"),_.each(t.data,function(t,i){if(8==t.status){var a=e(e("#supplementary_history tr")[i+1]);a.find("._reason-span").hover(function(){e(this).find("._reason-box").removeClass("hidden")},function(){e(this).find("._reason-box").addClass("hidden")})}})}})),t.getAmountList(),t.getCronApplyPlan())}),this.DepositHeadService.getDepositAmount().then(function(t){function i(t){for(var e="",i=1;i<=t;i++)e+='<i class="icon-star-bright"></i>';if(t-parseInt(t)>0){e+='<i class="icon-star-half-bright"></i>';for(var a=parseInt(t)+2;a<=5;a++)e+='<i class="icon-star-gray"></i>'}else for(var n=parseInt(t)+1;n<=5;n++)e+='<i class="icon-star-gray"></i>';return e}t.code||(e("._credit_info_container").html(template("credit_info_tpl",t.data)),e("._showStarCount").html(i(t.data.starLevel)))}),this.depositService.getCreditApplyInfo().then(function(i){if(!i.code){var a=i.data?i.data:{};e("._company_name").text(a.companyName),e(".license-no").text("【统一社会信用代码："+a.licenseNo+"】"),a.status_text=t.getStatusText(a.status),6==a.status&&9==a.rejectReasonCode&&(a.moreFiles=" "+t.getFiles(a.additionalFiles).join("、")),e("._basic_info_status_container").html(template("basic_info_status_tpl",a)),1==a.status||5==a.status||6==a.status?(e("._mod_basic_link").show(),e("._view_basic_link").hide()):(e("._mod_basic_link").hide(),e("._view_basic_link").show())}})},a.prototype.getAmountList=function(){this.depositService.queryCreditChangeList(0).then(function(t){if(!t.code){if(!t.data||!t.data.length)return void e(".amount-table").remove();t.data.length>5&&(t.data=t.data.splice(0,5)),template.helper("getTime",function(t){return moment(t).format("YYYY-MM-DD HH:mm:ss")});var i=template("amount_tpl",{list:t.data});e("#amount-history").html(i),t.data.length<5&&e(".amount-look").addClass("hide")}})},a.prototype.getStatusText=function(t){var e={1:"待审核",2:"审核中",3:"审核中",4:"审核中",5:"拒绝",6:"发回修改",8:"审核中",9:"审核成功"};return e[t]||"审核异常"},a.prototype.getFiles=function(t){return _.isArray(t)?_.map(t,function(t){switch(+t){case 1:return"手机号码验证";case 2:return"芝麻信用授权";case 3:return"个人征信报告";case 4:return"学历证明"}}):[]},a.prototype.getCronApplyPlan=function(){this.depositService.getCronApplyPlan().then(function(t){if(t.code||!t.data||!t.data.content)return void e(".regular-submit").remove();e("._supplement_link").prepend('<i class="icon-big-red-point"></i>');var i=t.data.submitYear+"年"+t.data.submitMonth+"月"+t.data.submitDay+"日",a='您需要于<span class="red">'+i+'</span>之前上传<span class="red">'+t.data.content.join("、")+'</span>资料，逾期有可能影响可用额度<a href="/credit_supplementary_info?uploadType=19" target="_blank">立即修改</a>';e(".regular-submit").html(a)})},i.Application.Web.UC_NonFirstIndex=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.deposit=new i.Service.Deposit};a.prototype.init=function(){this.status=parseInt(i.Common.getQueryString("status")),this.shareholderInfo()},a.prototype.shareholderInfo=function(){var t=this,a=parseInt(i.Common.getQueryString("id"));a&&this.deposit.getShareHolderInfo({shareholderId:a,type:1}).then(function(i){if(!i.code){var a=i.data||{};a.status=t.status;var n=template("shareholder_info_template",a);e("._shareholder_info").append(n),a.name_enc=encodeURI(a.name),a.idCardNo_enc=encodeURI(a.idCardNo),e("._credit_guarantee").append(template("credit_guarantee_template",a)),e("._show-know").hover(function(){e(this).next().removeClass("hidden")},function(){e(this).next().addClass("hidden")})}})},i.Application.Web.UC_shareholderInfo=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.deposit=new i.Service.Deposit,this.DepositHead=new i.Service.DepositHead};a.prototype.init=function(){this.liftingScheme(),this.showKnow(),this.getCronApplyPlan()},a.prototype.liftingScheme=function(){this.deposit.mentionPlan().then(function(t){if(!t.code){var i=template("improve_scheme_tpl",{list:t.data});e("._improve_scheme_list").html(i)}}),this.deposit.getInformation().then(function(t){if(!t.code){var i=template("_information-template",{listInformation:t.data});e("#_revise-information").append(i);var a=template("_service-banking-template",{listInformation:t.data});e("#_servicr-banking").append(a)}})},a.prototype.showKnow=function(){e("._show-know").hover(function(){e(this).next().removeClass("hidden")},function(){e(this).next().addClass("hidden")})},a.prototype.getCronApplyPlan=function(){this.deposit.getCronApplyPlan().then(function(t){!t.code&&t.data||e(".regular-submit-tr").remove()})},i.Application.Web.UC_SupplementaryIndex=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.isWap=e(document.body).attr("isWap"),this.form=e("#amountForm"),this.modal=i.Plugin.Modal,this.validate=new i.Plugin.Validate(this.form,this.isWap),this.amount=new i.Service.AmountService};a.prototype.init=function(){var t=parseInt(i.Common.getQueryString("amouneType"));t||(location.href=ROOT_PATH+"/apply_deposit"),this.getCurrentQuata(),this.validate=new i.Plugin.Validate(e("._step1"),(!1)),this.submitAmountEvent();var a=parseInt(i.Common.getQueryString("step"))||1;1==t?(a=parseInt(i.Common.getQueryString("step"))||1,e("._amountnum").removeClass("disabled").removeAttr("disabled"),e("._machine").removeClass("disabled").removeAttr("disabled"),e("._remark").removeClass("disabled").removeAttr("disabled"),e(".credit-submit").show()):2==t?(this.applyAmountPage(),a=1,e("._amountnum").addClass("disabled").attr("disabled","disabled"),e("._machine").addClass("disabled").attr("disabled","disabled"),e("._remark").addClass("disabled").attr("disabled","disabled"),e(".credit-submit").hide()):3==t&&(this.applyAmountPage(),a=1,e("._amountnum").removeClass("disabled"),e("._machine").removeClass("disabled"),e("._remark").removeClass("disabled")),e(".backCredit").on("click",function(){location.href=ROOT_PATH+"/apply_deposit"}),e(".goPage").on("click",function(){location.href=ROOT_PATH+"/credit_supplementary"}),this.goStep(a)},a.prototype.applyAmountPage=function(){var t=i.Common.getQueryString("applyId");this.amount.getAmount(t).then(function(t){var i=t.data||{};e("._amountnum").val(i.applyAmount),e("._machine").val(i.applyMessage),e("._remark").val(i.remark)})},a.prototype.getCurrentQuata=function(){this.amount.getCurrentQuata().then(function(t){var i=t.data||{};e(".creditAmount").val(i.creditAmount),e(".availableAmount").val(i.availableAmount)})},a.prototype.goStep=function(t){e("._step").hide(),e("._step"+t).show()},a.prototype.submitAmountEvent=function(){var t=this,a=parseInt(i.Common.getQueryString("amouneType")),n=i.Common.getQueryString("applyId");t.form.attr("waitingCount",0);var o=function(i){var o;3==a?(o={improveApplyId:n,amountnum:e("._amountnum").val().trim(),machine:e("._machine").val().trim(),remark:e("._remark").val().trim()},t.amount.amountModify(o).then(function(e){i.removeAttr("submitting"),e.code||new t.modal("提示信息","您已修改成功").alert(function(){t.goStep(2)})})):1==a&&(o={amountnum:e("._amountnum").val().trim(),machine:e("._machine").val().trim(),remark:e("._remark").val().trim()},t.amount.submitAmount(o).then(function(e){i.removeAttr("submitting"),e.code||new t.modal("提示信息","您已申请提额").alert(function(){t.goStep(2)})}))},r=function(e){0===t.form.find("[invalid]").length?o(e):e.removeAttr("submitting")};e(document).on("click","#submitBtn",function(){t.validate=new i.Plugin.Validate(e("._step1"),(!1));var a=e(this);if(!a.attr("submitting"))if(a.attr("submitting",1),t.validate.doValid(),t.form.attr("waitingCount")>0){new t.modal("信息提示","正在校验数据，请稍后再试");var n=setInterval(function(){"0"===t.form.attr("waitingCount")&&(clearInterval(n),a.removeAttr("submitting"))},100)}else r(a)})},i.Application.Web.UC_DepositAmount=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.isWap=e(document.body).attr("isWap"),this.form=e("#shareholderForm"),this.modal=i.Plugin.Modal,this.Upload=i.Plugin.Upload,this.validate=new i.Plugin.Validate(this.form,this.isWap),this.shareholder=new i.Service.ShareholderService,this.shareholderId=parseInt(i.Common.getQueryString("shareholderId"))};a.prototype.init=function(){function t(t,n){arguments[1]||(n={});var o={};1==t||n.code?e("#shareHolderAppend").html(template("shareHolderTemplate",{shareholderType:t,handleType:"edit"})):(o=n.data?n.data:{},o.shareholderType=t,o.handleType=2===t?"check":"edit",e("#shareHolderAppend").html(template("shareHolderTemplate",o))),a.addWorkExperience(),a.deleteWorkExperience(),1!=t&&3!=t||a.regUploadBtnEvent(o.eduPhotos?o.eduPhotos:null),a.regFormSubmitEvent(),a.showDemoTooltip(e(".show-img"),e("#idCardSimpleBox")),setTimeout(function(){a.validate=new i.Plugin.Validate(e("._gostep1"),(!1))},200),a.goStep(1)}var a=this,n=parseInt(i.Common.getQueryString("shareholderType")),o=this.shareholderId;n?2!=n&&3!=n||o||(location.href=ROOT_PATH+"/apply_deposit"):location.href=ROOT_PATH+"/apply_deposit",o?this.shareholder.getShareholder(o).then(function(e){e.code||t(n,e)}):t(n),e(document).on("click",".goPage",function(){location.href=ROOT_PATH+"/credit_supplementary"})},a.prototype.showDemoTooltip=function(t,e){t.hover(function(){e.removeClass("hide")},function(){e.addClass("hide")})},a.prototype.hideError=function(t){t&&t.addClass("hide")},a.prototype.regUploadBtnEvent=function(t){var a=this;e(".img-copy").css({bottom:"-25px",color:"#000",background:"none"}),e(".deposit-img").css({"margin-bottom":"30px"}),new i.Plugin.Upload(e("#idCardImage1Btn"),0,function(t){t&&(e(".idCardImage1Btn").attr("src",t),e(".idCardImage1Btn").val(t),""!==e(".idCardImage1Btn").val()&&""!==e(".idCardImage2Btn").val()&&e("#idCardImageError").html(""),a.hideError(e("#businessLicenseError")))},{loadingElem:e("#idCardImageLoadingBox"),preview:!0,file:e(".idCardImage1Btn").attr("src")}),new i.Plugin.Upload(e("#idCardImage2Btn"),0,function(t){t&&(e(".idCardImage2Btn").attr("src",t),e(".idCardImage2Btn").val(t),""!==e(".idCardImage1Btn").val()&&""!==e(".idCardImage2Btn").val()&&e("#idCardImageError").html(""),a.hideError(e("#taxRegistrationCertificateError")))},{loadingElem:e("#idCardImageLoadingBox"),preview:!0,file:e(".idCardImage1Btn").attr("src")}),this.initEduUploadPlugin(t)},a.prototype.initEduUploadPlugin=function(t,a){if(t&&t.length)for(var n=0;n<t.length;n++)t[n].indexOf(".pdf")>-1&&(t[n]=t[n]+"&fileName=学历证明 "+(n+1)+".pdf");this.uploadPlugin=new i.Plugin.DepositUpload({elem:e("#eduUploadBox"),fileExtType:2,files:t?t:[],isLock:a,required:!1,max:30,loadingElem:e("#eduUploadingBox"),preview:!0},(!0)),this.uploadPlugin.init(),e("#eduUploadBox #imgList").width(600)},a.prototype.goStep=function(t){e("._gostep").hide(),e("._gostep"+t).show()},a.prototype.addWorkExperience=function(){e(".work-experience-table").on("click",".add",function(){e(this).parents("tr").index();if(!e(this).hasClass("disabled")){var t='<tr><td><input type="text" class="start-date" onClick="WdatePicker({maxDate:\'%y-%M-%d\'});" readonly="readonly" /></td><td><input type="text" class="end-date" onClick="WdatePicker({maxDate:\'%y-%M-%d\'});" readonly="readonly" /></td><td><input type="text" class="company-name" placeholder="请输入公司名称" maxlength="200" value="" /></td><td><input type="text" class="position" placeholder="请输入职位名称" maxlength="200" value="" /></td><td><span class="handle add">+ 增加</span></td></tr>';e(this).parents("td").html('<span class="handle delete">- 删除</span>'),e(".work-experience-table").append(t),e(".work-experience-table tbody tr:eq(9) .handle").addClass("disabled")}})},a.prototype.deleteWorkExperience=function(){e(".work-experience-table").on("click",".delete",function(){var t=e(this).parents("tr").index();e(".work-experience-table tbody tr:eq("+t+")").remove();var i=e(".work-experience-table tbody tr").length;10===i?e(".work-experience-table tbody tr .add").addClass("disabled"):e(".work-experience-table tbody tr .add").removeClass("disabled")})},a.prototype.regFormSubmitEvent=function(){var t=parseInt(i.Common.getQueryString("shareholderType")),a=this.shareholderId,n=this;n.form.attr("waitingCount",0);var o=function(i){var o,r=n.uploadPlugin.getFiles();r.length>0&&(r=r.join(","));var s=[];e(".work-experience-table tbody tr").each(function(t,i){var a=e(i),n={startDate:e.trim(a.find(".start-date").val()),endDate:e.trim(a.find(".end-date").val()),companyName:e.trim(a.find(".company-name").val()),position:e.trim(a.find(".position").val())};(n.startDate||n.endDate||n.companyName||n.position)&&s.push(n)}),1==t?(o={name:e("._shareholderName").val().trim(),idCardNo:e("._shareholderIDCard").val().trim(),cardImgFront:e(".idCardImage1Btn").attr("src"),cardImgBack:e(".idCardImage2Btn").attr("src"),phoneNumber:e("._shareholderMobile").val().trim(),sparePhoneNumber:e("._shareholdersparePhone").val().trim(),eduPhotos:r,shareholdWorkExperience:JSON.stringify(s)},n.shareholder.addShareholder(o).then(function(t){i.removeAttr("submitting"),t.code||new n.modal("提示信息","确认股东/法人/高管信息无误，审核成功后，我们将线下和您签订《设备保管责任书》").alert(function(){n.goStep(2)})})):3==t&&(o={shareholderId:a,name:e("._shareholderName").val().trim(),idCardNo:e("._shareholderIDCard").val().trim(),cardImgFront:e(".idCardImage1Btn").attr("src"),cardImgBack:e(".idCardImage2Btn").attr("src"),phoneNumber:e("._shareholderMobile").val().trim(),sparePhoneNumber:e("._shareholdersparePhone").val().trim(),eduPhotos:r,shareholdWorkExperience:JSON.stringify(s)},n.shareholder.editShareholder(o).then(function(t){i.removeAttr("submitting"),t.code||new n.modal("提示信息","确认股东/法人/高管信息无误，审核成功后，我们将线下和您签订《设备保管责任书》").alert(function(){n.goStep(2)})}))},r=function(t){0===n.form.find(".error-prompt:visible").length?o(t):t.removeAttr("submitting")};e(".shareholderSubmit").click(function(){n.validate=new i.Plugin.Validate(e("._gostep1"),(!1));var t=e(this);if(!t.attr("submitting"))if(n.validate.doValid(),n.form.attr("waitingCount")>0){new n.modal("信息提示","正在校验数据，请稍后再试");var a=setInterval(function(){"0"===n.form.attr("waitingCount")&&(clearInterval(a),t.removeAttr("submitting"))},100)}else t.attr("submitting",1),r(t)})},i.Application.Web.UC_DepositShareholder=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){var t=parseInt(i.Common.getQueryString("step"));(isNaN(t)||t<1||t>3)&&(t=1),this.shareholderId=parseInt(i.Common.getQueryString("id")),this.financialinfo={},this.areaService=new i.Service.Area,this.depositService=new i.Service.Deposit,this.customerService=new i.Service.Customer,this.userType=0,this.step=t,this.provinceData=[],this.isFirstApply=!0,this.audited=!1,this.marriedStatus=[{text:"未婚",value:"未婚"},{text:"已婚",value:"已婚"},{text:"丧偶",value:"丧偶"},{text:"离婚",value:"离婚"}],this.isThreeCardData=[{text:"是",value:"1"},{text:"否",value:"0"}],this.bankCardTypeData=[{text:"借记卡",value:"0"},{text:"信用卡",value:"1"}],this.applyerRelationData=[{text:"父母",value:"父母"},{text:"配偶",value:"配偶"},{text:"亲属",value:"亲属"},{text:"朋友",value:"朋友"},{text:"同事",value:"同事"},{text:"老师",value:"老师"},{text:"同学",value:"同学"},{text:"子女",value:"子女"}],this.alert=function(t,e){new i.Plugin.Modal("提示信息",t).alert(e)},this.loadProvinceData()};a.prototype.init=function(){this.shareholderId||(location.href="/apply_deposit"),this.depositService.getShareholderFinancialInfo({shareholderId:this.shareholderId}).then(function(t){t.data&&8==t.data.status&&(e("._reject_reason").text(t.data.rejectReason),e("#noModify").show()),t.code||(this.financialinfo=t.data)}),this.setStep(this.step)},a.prototype.buildCompanyPanel=function(){var a,n=this,o={threeCard4one:0,registrationCheck:"",taxRegImg:"",orgCodeImg:""},r=function(t){t&&(t.registrationCheck==t.taxRegImg&&t.registrationCheck==t.orgCodeImg?o.threeCard4one=1:o.threeCard4one=0)},s=function(i){var a=function(){e("#threeCardRadioList label").click(function(){e("#threeCardRadioList label i").removeClass("icon-radio-select").addClass("icon-radio"),e(this).find("i").removeClass("icon-radio").addClass("icon-radio-select"),o.threeCard4one=e(this).attr("value"),l(),setTimeout(function(){e(t).resize()},20)})},r=function(){var t="";_.each(n.isThreeCardData,function(e){t+=juicer('<label class="step-radio" value="${data.value}"><i class="icon-radio"></i>${data.text}</label>',{data:e})}),e("#threeCardRadioList").html(t),a()},s=function(){var t=e('#threeCardRadioList label[value="0"]');t.children("i").removeClass("icon-radio").addClass("icon-radio-select"),o.threeCard4one=t.attr("value")},l=function(){1==o.threeCard4one?e("#otherLicense").hide():e("#otherLicense").show()};i?a():(r(),s()),l()},l=function(){n.showDemoTooltip(e("#businessAttachment"),e("#businessPreview")),n.showDemoTooltip(e("#taxAttachment"),e("#taxPreview")),n.showDemoTooltip(e("#organizationAttachment"),e("#organizationPreview"))},d=function(){new i.Plugin.Upload(e("#businessLicense"),0,function(t){t&&(o.registrationCheck=t,e("#businessLicense ._businessLicense_img").attr("src",t),n.hideError(e("#businessLicenseError")))}),new i.Plugin.Upload(e("#taxRegistrationCertificate"),0,function(t){t&&(o.taxRegImg=t,e("#taxRegistrationCertificate img").attr("src",t),n.hideError(e("#taxRegistrationCertificateError")))}),new i.Plugin.Upload(e("#organizationCodeCertificate"),0,function(t){t&&(o.orgCodeImg=t,e("#organizationCodeCertificate img").attr("src",t),n.hideError(e("#organizationCodeCertificateError")))})},c=function(){function t(t){t&&(t.registrationCheck=n.getImageURL(t.businessLicense),t.taxRegImg=n.getImageURL(t.taxRegImg),t.orgCodeImg=n.getImageURL(t.orgCodeImg),o=e.extend({},o,t),"undefined"==typeof t.threeCard4one?(r(t),t.threeCard4one=o.threeCard4one):o.threeCard4one=t.threeCard4one);var c=e("#normalFormTemplate").html();c=juicer(c,t),e("#companyForm").html(c).show(),a=new i.Plugin.Validate(e("#companyForm")),t?s(t):s(),d(),l(),e("#companySubmitBtn").off("click").click(function(){p()&&u()})}n.depositService.getCompanyInfo().then(function(e){if(!e.code){var i=e.data?e.data:{};t(i)}})},p=function(){var t=0;return a.doValid(),e("#companyForm").find("[invalid]:visible").length>0&&t++,o.registrationCheck||(n.showError(null,e("#businessLicenseError"),"请上传营业执照"),t++),o.threeCard4one||(o.taxRegImg||(n.showError(null,e("#taxRegistrationCertificateError"),"请上传税务登记证"),t++),o.orgCodeImg||(n.showError(null,e("#organizationCodeCertificateError"),"请上传组织机构代码证"),t++)),!(t>0)},u=function(){o={company:e("#companyName").val().trim(),registration:e("#companyRegistration").val().trim(),registrationCheck:o.registrationCheck,threeCard4one:o.threeCard4one-0,
taxRegImg:o.taxRegImg,orgCodeImg:o.orgCodeImg},n.depositService.applyCompanyInfo(o).then(function(t){t.code?n.showError(null,null,t.message):n.setStep(2)})};n.inited||(c(),n.inited=!0)},a.prototype.buildLegalPersonPanel=function(){function a(){function a(t,a){var n=function(){a=e.extend({},a,{read_only:!1,cardImgFront:o.getImageURL(a.cardImgFront),cardImgBack:o.getImageURL(a.cardImgBack),bankCardImgFront:o.getImageURL(a.bankcardImg1),bankCardImgBack:o.getImageURL(a.bankcardImg2),telphone_array:a.telphone?a.telphone.split("-"):[]})},r=function(t){return c.find(t)},s=function(t){var e=l.length-1;l[e]={idCardImage:[t.cardImgFront,t.cardImgBack],bankCardImage:[t.bankCardImgFront,t.bankCardImgBack]},o.setSelectOptionsHtml(o.marriedStatus,r("#marridStatus"),"婚姻状况","value","text"),r("#marridStatus").val(t.maritalStatus),o.setSelectOptionsHtml(o.bankCardTypeData,r("#bankCardType"),"银行卡类型","value","text"),r("#bankCardType").val(t.bankcardType),o.setSelectOptionsHtml(o.applyerRelationData,r("#relation1"),"与申请人关系","value","text"),o.setSelectOptionsHtml(o.applyerRelationData,r("#relation2"),"与申请人关系","value","text"),r("#relation1").val(t.contactARel),r("#relation2").val(t.contactBRel),o.showDemoTooltip(r("#idCardSimpleBtn"),r("#idCardSimpleBox")),o.showDemoTooltip(r("#bankCardSimpleBtn"),r("#bankCardSimpleBox")),new i.Plugin.Upload(r("#idCardImage1Btn"),0,function(t){l[e].idCardImage[0]=t,r("#idCardImage1Btn").find(".img-all-bg").html('<img src="'+o.getImageURL(t)+'">'),r("#idCardImageError").addClass("hide")}),new i.Plugin.Upload(r("#idCardImage2Btn"),0,function(t){l[e].idCardImage[1]=t,r("#idCardImage2Btn").find(".img-all-bg").html('<img src="'+o.getImageURL(t)+'">'),r("#idCardImageError").addClass("hide")}),new i.Plugin.Upload(r("#bankCardImage1Btn"),0,function(t){l[e].bankCardImage[0]=t,r("#bankCardImage1Btn").find(".img-all-bg").html('<img src="'+o.getImageURL(t)+'">'),r("#bankCardImageError").addClass("hide")}),new i.Plugin.Upload(r("#bankCardImage2Btn"),0,function(t){l[e].bankCardImage[1]=t,r("#bankCardImage2Btn").find(".img-all-bg").html('<img src="'+o.getImageURL(t)+'">'),r("#bankCardImageError").addClass("hide")}),r("#cardAddress").val(t.cardAddress),new i.Plugin.AddressSelect(r("#cardProvince"),r("#cardCity"),r("#cardArea"),t.cardProvinceId,t.cardCityId,t.cardAreaId,(!0)),r("#liveAddress").val(t.liveAddress),new i.Plugin.AddressSelect(r("#liveProvince"),r("#liveCity"),r("#liveArea"),t.liveProvinceId,t.liveCityId,t.liveAreaId,(!0))},d=function(){e("#step3").find(".authorze-go").unbind("click").click(o.goAuth);var t=e("#shareholderForm ul");t.length>1?_.each(t,function(a,n){if(t.find("._removeItemBtn").first().hide(),r("#removeItemBtn").unbind("click").click(function(){var n=e(this),o=new i.Plugin.Modal("提示","是否要删除股东或法人？");o.confirm(function(){o.close();var i=e("#shareholderForm ul ._removeItemBtn").index(n[0]);e(a).remove(),t=e("#shareholderForm ul");var r;1==t.length?(r=e("#shareholderForm").children(0),r.children().removeClass("hide"),r.find("#removeItemBtn").addClass("hide"),r.find("#showMoreItemBtn").addClass("hide"),r.find("#hideMoreItemBtn").addClass("hide")):(r=e(t[t.length-1]),r.children().removeClass("hide"),r.find("#showMoreItemBtn").addClass("hide"),r.find("#hideMoreItemBtn").addClass("hide")),l.splice(i,1)})}),n!=t.length-1){r("#removeItemBtn").removeClass("hide");var o=5;_.each(e(a).children(),function(t,i){i>o&&e(t).addClass("hide")});var s=e(a).find("#showMoreItemBtn"),d=e(a).find("#hideMoreItemBtn"),c=function(t){_.each(e(a).children(),function(i,a){a>o&&(t?(e(i).removeClass("hide"),s.addClass("hide"),d.removeClass("hide")):(e(i).addClass("hide"),d.addClass("hide"),s.removeClass("hide")))}),t?(s.addClass("hide"),d.removeClass("hide")):(d.addClass("hide"),s.removeClass("hide"))};s.removeClass("hide").unbind("click").click(function(){c(!0)}),d.unbind("click").click(function(){c(!1)})}}):(r("#removeItemBtn").addClass("hide"),r("#showMoreItemBtn").addClass("hide"),r("#hideMoreItemBtn").addClass("hide"))};arguments[0]||(t=!1),arguments[1]||(a={}),l.push({idCardImage:["",""],bankCardImage:["",""]}),n();var c=e(juicer(e("#shareholderFormTemp").html(),a));o.checkGrantApplication(c,a.cardno),e("#shareholderForm").append(c),s(a),d(),new i.Plugin.Validate(c,(!1))}function r(a){if(!d())return e(t).scrollTop(e(".error-prompt:visible:first").offset().top-50),!1;var o,r=c();n?(r.id=n,o="/deposit/modifyShareholderFinancialInfo"):o="/deposit/submitShareholderFinancialInfo",i.Service.Ajax.post(o,r).then(function(t){t.code||a()})}var s,l=[];o.audited=!1,o.depositService.getShareHolderInfo({shareholderId:o.shareholderId}).then(function(t){if(!t.code&&t.data){var i=t.data.name,r=t.data.idCardNo,s=t.data.cardImgFront,l=t.data.cardImgBack,d=t.data.phoneNumber;o.depositService.getShareholderFinancialInfo({shareholderId:o.shareholderId}).then(function(t){e("#shareholderForm").empty(),!t.code&&t.data?(n=t.data.id,t.data.name=i,t.data.cardno=r,t.data.cardImgFront||(t.data.cardImgFront=s),t.data.cardImgBack||(t.data.cardImgBack=l),t.data.phone||(t.data.phone=d),a(!1,t.data,!0)):a(!1,{name:i,cardno:r,cardImgFront:s,cardImgBack:l,phone:d},!0)})}else o.alert("没有取到数据"),a(!1,{},!0)});var d=function(){var t=0;return _.each(e("#shareholderForm"),function(a,n){s=new i.Plugin.Validate(e(a),(!1)),s.doValid(),e(a).find("[invalid]").length>0&&t++}),_.each(l,function(i,a){var n=e(e("#shareholderForm ul")[a]);i.idCardImage[0]&&i.idCardImage[1]?o.hideError(n.find("#idCardImageError")):(o.showError(null,n.find("#idCardImageError"),"请上传身份证照片"),t++),i.bankCardImage[0]&&i.bankCardImage[1]?o.hideError(n.find("#bankCardImageError")):(o.showError(null,n.find("#bankCardImageError"),"请上传银行卡照片"),t++)}),!(t>0)},c=function(){var t=e("#shareholderForm ul");return{shareholderId:o.shareholderId,name:e.trim(t.find("._shareholderName").val()),cardno:e.trim(t.find("#shareholderIDCard").val()),cardImgFront:l[0].idCardImage[0],cardImgBack:l[0].idCardImage[1],cardProvinceId:e.trim(t.find("#cardProvince").val()),cardCityId:e.trim(t.find("#cardCity").val()),cardAreaId:e.trim(t.find("#cardArea").val()),cardAddress:e.trim(t.find("#cardAddress").val()),liveProvinceId:e.trim(t.find("#liveProvince").val()),liveCityId:e.trim(t.find("#liveCity").val()),liveAreaId:e.trim(t.find("#liveArea").val()),liveAddress:e.trim(t.find("#liveAddress").val()),phone:e.trim(t.find("._shareholderMobile").val()),maritalStatus:e.trim(t.find("#marridStatus").val()),telphone:e.trim(t.find("#areaNumber").val())+"-"+e.trim(t.find("#shareholderTel").val())+(t.find("#shareholderTelExt").val()?"-"+e.trim(t.find("#shareholderTelExt").val()):""),bankcardType:e.trim(t.find("#bankCardType").val()),bankcardNo:e.trim(t.find("#bankCardNumber").val()),bankcardImg1:l[0].bankCardImage[0],bankcardImg2:l[0].bankCardImage[1],bankcardAddr:e.trim(t.find("#bankName").val()),bankcardPhone:e.trim(t.find("#bankCardMobile").val()),contactAName:e.trim(t.find("#contact1").val()),contactAPhone:e.trim(t.find("#concat1Moblie").val()),contactARel:e.trim(t.find("#relation1").val()),contactBName:e.trim(t.find("#contact2").val()),contactBPhone:e.trim(t.find("#concat2Moblie").val()),contactBRel:e.trim(t.find("#relation2").val())}};e("._goto_step_1").off("click").click(function(){o.setStep(1)}),e("#shareholderSubmitBtn").off("click").click(function(){r(function(){o.setStep(3),e("body").scrollTop(0)})})}var n,o=this;a()},a.prototype.buildSuccessPanel=function(){e(".go-index").click(function(){location.href=ROOT_PATH+"/index"})},a.prototype.setStep=function(t){switch(e('div[id^="step"]').addClass("hide"),t){case 1:this.buildCompanyPanel(),e("#step2").removeClass("hide");break;case 2:this.buildLegalPersonPanel(),e("#step3").removeClass("hide");break;case 3:this.buildSuccessPanel(),e("#step5").removeClass("hide")}},a.prototype.checkGrantApplication=function(t,e){this.depositService.queryZmxy(e).then(function(e){e.code||e.data&&(t.find(".authorze-go").closest(".step-right").find(".authorize-status").addClass("author-select"),t.find(".authorze-go").closest(".step-right").find(".authorize-status").html('已授权<i class="icon-authorize-select"></i>'),t.find(".authorze-go").remove())})},a.prototype.showError=function(t,e,i){var a=this;t&&t.attr("invalid",!0).addClass("error"),e?(e.removeClass("hide").html('<i class="icon-forgeterror"></i> '+i).addClass("show animated shake"),setTimeout(function(){e.removeClass("animated shake")},1500)):a.alert(i)},a.prototype.hideError=function(t){t&&t.addClass("hide")},a.prototype.loadProvinceData=function(){var t=this;this.areaService.getAllProvince().then(function(e){e.code||(t.provinceData=e.data)})},a.prototype.setSelectOptionsHtml=function(t,e,i,a,n){var o=function(t){var e='<option value="">请选择'+i+"</option>";return e+=juicer('{@each data as item,index}<option value="${item.'+a+'}">${item.'+n+"}</option>{@/each}",{data:t})};e.html(o(t))},a.prototype.regArea=function(t,i,a){var n=this;n.setSelectOptionsHtml(n.provinceData,t,"省份","id","name"),i.html('<option value="">请选择市</option>'),a.html('<option value="">请选择区县</option>'),t.on("change",function(){var t=e(this).val();return a.html('<option value="">请选择区县</option>'),t?void n.areaService.getCities(t).then(function(t){t&&!t.code&&n.setSelectOptionsHtml(t.data,i,"市","id","name")}):void i.html('<option value="">请选择市</option>')}),i.on("change",function(){var t=e(this).val();a.html('<option value="">请选择区县</option>'),t&&n.areaService.getDistricts(t).then(function(t){t&&!t.code&&n.setSelectOptionsHtml(t.data,a,"区县","id","name")})})},a.prototype.showDemoTooltip=function(t,e){t.hover(function(){e.removeClass("hide")},function(){e.addClass("hide")})},a.prototype.goAuth=function(){var n=e(this),o=new a,r=(encodeURI(e.trim(n.closest(".share-content").find("._shareholderName").val())),encodeURI(e.trim(n.closest(".share-content").find("._shareholderIDCard").val())));t.open(e("#zmxyJumpUrl").val()+"&shareholderId="+o.shareholderId);var s=new i.Plugin.Modal("授权结果","是否授权成功？");s.confirm(function(){s.close(),o.checkGrantApplication(n.closest(".share-content"),r)})},a.prototype.getImageURL=function(t){var e="";return t&&(e=t,t.indexOf("http://")==-1&&t.indexOf("https://")==-1&&(e="https://statics.edianzu.cn/get/"+e),t.indexOf("?")==-1&&(e+="?style=small_print&bucket=edianzu-oss-risk")),e},a.prototype.getImagePath=function(t){var e="";return t&&(e=t,e=e.replace("http://statics.edianzu.cn",""),e=e.replace("https://statics.edianzu.cn",""),e=e.replace("?style=small_print&bucket=edianzu-oss-risk",""),e=e.replace("?style=small_print&amp;bucket=edianzu-oss-risk","")),e},a.prototype.getMaxIdx=function(t){var e,i,a=[];for(e in t){var n=t[e].idx;n&&a.push(n)}return i=a.length?Math.max.apply(null,a):0},i.Application.Web.UC_ApplyForDeposit=a}}(window,window.jQuery,window.EDZ),function(t,e,i){"use strict";if(i&&i.Application){var a=function(){this.modal=i.Plugin.Modal,this.service=new i.Service.UploadShareholder,this.uploadService=new i.Service.UploadService,this.deposit=new i.Service.Deposit};a.prototype.init=function(){this.queryParams={uploadType:parseInt(i.Common.getQueryString("uploadType"),10),supplementId:parseInt(i.Common.getQueryString("supplementId"),10),shareholderId:parseInt(i.Common.getQueryString("shareholderId"),10)},this.queryParams.uploadType?(this.customerData=this.getCustomerData(),this.currentCustomerData=this.customerData[this.queryParams.uploadType.toString()],this.currentCustomerData||(location.href=ROOT_PATH+"/apply_deposit"),this.parentTitle=1==this.currentCustomerData.categroy?"完善企业信息":"完善股东/法人/高管信息",this.renderPage()):location.href=ROOT_PATH+"/apply_deposit",19==this.queryParams.uploadType&&this.getCronApplyPlan()},a.prototype.renderPage=function(){this.createMenu(),this.createTitle(),this.regSubmitEvent(),this.queryParams.supplementId?this.getInitData():this.initUploadPlugin()},a.prototype.getInitData=function(){var t=this,i=function(i){i.code||i.data&&(e("#remark").val(i.data.remark),8==i.data.status?(e(".warntip").html(i.data.rejectReason),e(".warn-info").removeClass("hide")):e(".warn-info").addClass("hide"),9==i.data.status?(t.initUploadPlugin(i.data.attachments,!0),e("#remark").addClass("hide").before("<span>"+i.data.remark+"</span>"),e("#describe").addClass("hide"),e(".deposite-important").addClass("hide"),e(".step-btn").remove()):t.initUploadPlugin(i.data.attachments))};this.queryParams.shareholderId?this.service.getShareholderType({supplementId:this.queryParams.supplementId}).then(function(t){i(t)}):this.uploadService.getSuppleType(this.queryParams.supplementId).then(function(t){i(t)})},a.prototype.initUploadPlugin=function(t,a){e("#uploadRemark").html(this.currentCustomerData.uploadRemark),this.setUploadSample(),this.uploadPlugin=new i.Plugin.DepositUpload({elem:e("#uploadBox"),fileExtType:this.currentCustomerData.upfileType,files:t?t:[],isLock:a,preview:!0,max:30},(!0)),this.uploadPlugin.init()},a.prototype.setUploadSample=function(){var t=e("#uploadSample");this.currentCustomerData.tipImg&&(t.addClass(this.currentCustomerData.tipImg),e("#uploadSampleControl").removeClass("hide").hover(function(){t.removeClass("hide")},function(){t.addClass("hide")}))},a.prototype.getCustomerData=function(){return{1:{categroy:1,title:"员工社保缴存记录",upfileType:2,describe:["易点租需要您提供最近一个月的员工社保缴存记录。可在社保局官网截屏或在地方社保局获取，仅要求显示公司名称、员工总人数，总金额、缴存时间等基本信息。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。",tipImg:"tipimg01"},2:{categroy:1,title:"财务报表",upfileType:3,describe:["财务报表是反映企业财务状况和经营成果的书面文件，包括资产负债表、利润表、现金流量表、所有者权益变动表（新的会计准则要求在年报中披露）、附表及会计报表附注和财务情况说明书。","易点租需要您提供最新的年度审计报告拍照或电子版，或近几月月度财务报表的原件拍照或电子版。","提供年度审计报告，更有助于提高免押金额度。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，Excel格式，要求清晰，无遮挡。文件须小于10M。"},3:{categroy:1,title:"银行流水明细",upfileType:2,describe:["银行流水明细是证明个人或公司收入情况的一种证明材料。","易点租需要您提供公司近几个月银行流水明细。可在银行申请打印后加盖银行章拍照，或提供电子银行截屏证明。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。",tipImg:"tipimg03"},4:{categroy:1,title:"融资到账证明",upfileType:2,describe:["易点租需要您提供公司融资到账证明。可提供银行到账电子回执单或增资协议拍照。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。",tipImg:"tipimg04"},5:{categroy:1,title:"高新技术企业认证",upfileType:2,describe:["高新技术企业是指在《国家重点支持的高新技术领域》内，持续进行研究开发与技术成果转化，形成企业核心自主知识产权，并以此为基础开展经营活动，在中国境内（不包括港、澳、台地区）注册一年以上的居民企业。","易点租要求提供公司高新技术企业认证证书拍照。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。",tipImg:"tipimg05"},6:{categroy:1,title:"专利认证",upfileType:2,describe:["专利证书是专利申请经审查合格，没有发现驳回理由，满足颁发授予专利权条件，由国务院专利行政部门（即国家知识产权局）作出授予专利权的决定，发给专利申请人的专利证书，是一种法律证明文件。","易点租需要您提供公司专利认证证书拍照。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。",tipImg:"tipimg06"},7:{categroy:1,title:"合同证明",upfileType:2,describe:["易点租需要您提供公司和上下游合作客户的合同拍照。包括封面信息 、签字双方、合同期限、合同金额、付款方式、合同标的、违约责任 、合同内容主要条款、 最后一页的双方盖章、签署日期等。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。"},8:{categroy:1,title:"企业纳税证明",upfileType:2,describe:["企业纳税证明是税务机关根据纳税人申请。通过审核确认，对纳税人在一定时期内已缴纳的税款开具纳税证明。","易点租需要您提供企业纳税证明。可在税务局查询获取盖章后拍照上传。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。",tipImg:"tipimg08"},12:{categroy:2,title:"个人征信报告",upfileType:2,describe:["征信报告是由中国人民银行征信中心出具的记载个人信用信息的记录。分为个人信用报告和企业信用报告。","易点租需要您提供个人信用报告，您需登录中国人民银行征信中心网站(https://ipcrs.pbccrc.org.cn/)生成信用报告并上传，或者在人民银行窗口查询盖章后拍照上传。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。",tipImg:"tipimg12"},13:{categroy:2,title:"学历/留学证明",upfileType:2,describe:["易点租需要您提供",'1、教育部留学服务中心认证的留学认证证明，请登录教育部留学服务中心认证后提供截图或证明拍照。<span class="show-img">证明示例<div class="simple tipimg13"></div></span>','2、教育部学籍在线验证报告截图或高等教育学历证书查询结果截图，请登录学信网（<a target="_blank" class="link" href="http://www.chsi.com.cn/xlcx/index.jsp">http://www.chsi.com.cn/xlcx/index.jsp</a>）截图。<span class="show-img">证明示例<div class="simple edu-pic"></div></span>'],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。"},14:{categroy:2,title:"工作证明",upfileType:2,describe:["易点租需要您提供过往工作证明，您可提供500强&BAT&知名企业工作时缴纳公积金回执单或社保回执单，也可当地社保局查询社保缴费记录截图。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。",tipImg:"tipimg14"},15:{categroy:2,title:"特殊职业资格",upfileType:2,describe:["特殊职业资格包括医生&律师&会计&教授等，易点租需要您提供律师，注册会计证、医师职称、教授职称等证书拍照或截图。"],uploadRemark:"附件支持PDF、图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文件须小于10M。",tipImg:"tipimg15"},17:{categroy:1,title:"其他资料",upfileType:1,uploadRemark:"附件支持图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文档支持doc,docx,xls,xlsx,pdf。文件须小于10M。"},18:{categroy:2,title:"其他资料",upfileType:1,uploadRemark:"附件支持图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文档支持doc,docx,xls,xlsx,pdf。文件须小于10M。"},19:{categroy:1,title:"定期提交资料",upfileType:1,uploadRemark:"附件支持图片(jpeg,jpg,gif,png)格式，要求清晰，无遮挡。文档支持doc,docx,xls,xlsx,pdf。文件须小于10M。"}}},a.prototype.createMenu=function(){var t=['<ul class="top-nav">','     <li><a href="'+ROOT_PATH+'/ucenter">我的易点租</a></li>',"     <li>&gt;</li>",'     <li><a href="'+ROOT_PATH+'/my_account">资产中心</a></li>',"     <li>&gt;</li>",'     <li><a href="'+ROOT_PATH+'/apply_deposit">申请免押金额度</a></li>',"     <li>&gt;</li>",'     <li><a href="'+ROOT_PATH+'/credit_supplementary">补充信息</a></li>',"     <li>&gt;</li>",'     <li><a href="'+ROOT_PATH+'/credit_supplementary">'+this.parentTitle+"</a></li>","     <li>&gt;</li>","     <li>"+this.currentCustomerData.title+"</li>","</ul>"].join("");e(".nav-box").html(t)},a.prototype.createTitle=function(){var t='<h2 class="page-title">'+this.parentTitle+'<span class="step-tit">（'+this.parentTitle+"，将有助于提高您的免押金额度）</span></h2>";e(".title-box").html(t),e("#sub-title").html(this.currentCustomerData.title);var i="";_.each(this.currentCustomerData.describe,function(t){i+="<div>"+t+"</div>"}),e("#describe").html(i)},a.prototype.regSubmitEvent=function(){var t=this;e("#submitBtn").click(function(){var i=e(this);if(!i.attr("submitting")&&t.uploadPlugin.checkHasFile()){i.attr("submitting",1);var a={type:t.queryParams.uploadType,attachments:JSON.stringify(t.uploadPlugin.getFiles()),remark:e.trim(e("#remark").val())};t.queryParams.supplementId&&(a.supplementId=t.queryParams.supplementId),t.queryParams.shareholderId&&(a.id=t.queryParams.shareholderId);var n=function(e){i.removeAttr("submitting"),e.code||(t.showSuccess(),t.queryParams.supplementId&&setTimeout(function(){location.href=ROOT_PATH+"/apply_deposit"},3e3))};t.queryParams.shareholderId?t.service.shareHolderInfoUpload(a).then(function(t){n(t)}):t.uploadService.securityUpload(a).then(function(t){n(t)})}})},a.prototype.showSuccess=function(){e(".container").addClass("hide"),e(".submit-success").removeClass("hide")},a.prototype.getCronApplyPlan=function(){this.deposit.getCronApplyPlan().then(function(t){if(!t.code&&t.data&&t.data.content){var i=t.data.submitYear+"年"+t.data.submitMonth+"月"+t.data.submitDay+"日",a='<span class="desc">(您需要于'+i+"之前上传"+t.data.content.join("、")+"资料，请在此分类下上传)</span>";e(".first-title").append(a)}})},i.Application.Web.UC_DepositUpload=a}}(window,window.jQuery,window.EDZ);